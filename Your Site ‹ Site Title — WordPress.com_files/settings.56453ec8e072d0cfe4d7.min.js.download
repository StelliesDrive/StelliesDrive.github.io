webpackJsonp(["settings","async-load-lib-olark"],{"./client/components/card/compact.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){return l.default.createElement(f.default,(0,a.default)({},e,{className:(0,d.default)(e.className,"is-compact")}),e.children)}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),a=s(r);t.default=i;var o=n("./node_modules/react/react.js"),l=s(o),u=n("./node_modules/classnames/index.js"),d=s(u),c=n("./client/components/card/index.jsx"),f=s(c);e.exports=t.default},"./client/components/data/media-library-selected-data/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){return{mediaLibrarySelectedItems:v.default.getAll(e)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(r),o=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),l=s(o),u=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(u),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(p),h=n("./node_modules/react/react.js"),_=s(h),g=n("./node_modules/prop-types/index.js"),b=s(g),y=n("./client/lib/media/library-selected-store.js"),v=s(y),E=n("./client/lib/react-pass-to-children/index.js"),j=s(E),S=function(e){function t(){var e,n,s,r;(0,l.default)(this,t);for(var o=arguments.length,u=Array(o),d=0;d<o;d++)u[d]=arguments[d];return n=s=(0,f.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(u))),s.state=i(s.props.siteId),s.updateState=function(){s.setState(i(s.props.siteId))},r=n,(0,f.default)(s,r)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){v.default.on("change",this.updateState)}},{key:"componentWillUnmount",value:function(){v.default.off("change",this.updateState)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId!==e.siteId&&this.setState(i(e.siteId))}},{key:"render",value:function(){return(0,j.default)(this,this.state)}}]),t}(_.default.Component);S.displayName="MediaLibrarySelectedData",S.propTypes={siteId:b.default.number.isRequired},t.default=S,e.exports=t.default},"./client/components/data/query-active-theme/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/themes/actions.js"),y=n("./client/state/themes/selectors.js"),v=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId!==e.siteId&&this.request(e)}},{key:"request",value:function(e){e.siteId&&!e.isRequesting&&e.requestActiveTheme(e.siteId)}},{key:"render",value:function(){return null}}]),t}(_.Component);v.propTypes={siteId:h.default.number,isRequesting:h.default.bool.isRequired,requestActiveTheme:h.default.func.isRequired},t.default=(0,g.connect)(function(e,t){var n=t.siteId;return{isRequesting:(0,y.isRequestingActiveTheme)(e,n)}},{requestActiveTheme:b.requestActiveTheme})(v),e.exports=t.default},"./client/components/data/query-jetpack-connection/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/selectors/is-requesting-jetpack-connection-status.js"),y=s(b),v=n("./client/state/jetpack/connection/actions.js"),E=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId!==e.siteId&&this.request(e)}},{key:"request",value:function(e){e.requestingJetpackConnectionStatus||e.requestJetpackConnectionStatus(e.siteId)}},{key:"render",value:function(){return null}}]),t}(_.Component);E.propTypes={siteId:h.default.number.isRequired,requestingJetpackConnectionStatus:h.default.bool,requestJetpackConnectionStatus:h.default.func},t.default=(0,g.connect)(function(e,t){return{requestingJetpackConnectionStatus:(0,y.default)(e,t.siteId)}},{requestJetpackConnectionStatus:v.requestJetpackConnectionStatus})(E),e.exports=t.default},"./client/components/data/query-jetpack-settings/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/selectors/is-requesting-jetpack-settings.js"),y=s(b),v=n("./client/state/jetpack/settings/actions.js"),E=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId!==e.siteId&&this.request(e)}},{key:"request",value:function(e){e.requestingSettings||e.fetchSettings(e.siteId)}},{key:"render",value:function(){return null}}]),t}(_.Component);E.propTypes={siteId:h.default.number.isRequired,requestingSettings:h.default.bool,fetchSettings:h.default.func},t.default=(0,g.connect)(function(e,t){return{requestingSettings:(0,y.default)(e,t.siteId)}},{fetchSettings:v.fetchSettings})(E),e.exports=t.default},"./client/components/data/query-jetpack-user-connection/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/selectors/is-requesting-jetpack-user-connection.js"),y=s(b),v=n("./client/state/jetpack/connection/actions.js"),E=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId!==e.siteId&&this.request(e)}},{key:"request",value:function(e){e.siteId&&!e.isRequesting&&e.requestJetpackUserConnectionData(e.siteId)}},{key:"render",value:function(){return null}}]),t}(_.Component);E.propTypes={siteId:h.default.number,isRequesting:h.default.bool,requestJetpackUserConnectionData:h.default.func.isRequired},t.default=(0,g.connect)(function(e,t){var n=t.siteId;return{isRequesting:(0,y.default)(e,n)}},{requestJetpackUserConnectionData:v.requestJetpackUserConnectionData})(E),e.exports=t.default},"./client/components/data/query-products-list/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/products-list/selectors.js"),y=n("./client/state/products-list/actions.js"),v=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.props.isFetching||this.props.requestProductsList()}},{key:"render",value:function(){return null}}]),t}(_.Component);v.propTypes={isFetching:h.default.bool,requestProductsList:h.default.func},t.default=(0,g.connect)(function(e){return{isFetching:(0,b.isProductsListFetching)(e)}},{requestProductsList:y.requestProductsList})(v),e.exports=t.default},"./client/components/data/query-site-purchases/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/purchases/selectors.js"),y=n("./client/state/purchases/actions.js"),v=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"requestSitePurchases",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;e.siteId&&this.props.fetchSitePurchases(e.siteId)}},{key:"componentWillMount",value:function(){this.requestSitePurchases()}},{key:"componentWillReceiveProps",value:function(e){!e.requesting&&e.siteId&&this.props.siteId!==e.siteId&&this.requestSitePurchases(e)}},{key:"render",value:function(){return null}}]),t}(_.Component);v.propTypes={siteId:h.default.number,requesting:h.default.bool,fetchSitePurchases:h.default.func.isRequired},t.default=(0,g.connect)(function(e){return{requesting:(0,b.isFetchingSitePurchases)(e)}},{fetchSitePurchases:y.fetchSitePurchases})(v),e.exports=t.default},"./client/components/data/query-site-settings/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=n("./node_modules/prop-types/index.js"),_=s(h),g=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/site-settings/selectors.js"),y=n("./client/state/site-settings/actions.js"),v=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.requestSettings(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.siteId;e.siteId&&t!==e.siteId&&this.requestSettings(e)}},{key:"requestSettings",value:function(e){var t=e.requestingSiteSettings,n=e.siteId;!t&&n&&e.requestSiteSettings(n)}},{key:"render",value:function(){return null}}]),t}(m.Component);v.propTypes={siteId:_.default.number,requestingSiteSettings:_.default.bool,requestSiteSettings:_.default.func},t.default=(0,g.connect)(function(e,t){var n=t.siteId;return{requestingSiteSettings:(0,b.isRequestingSiteSettings)(e,n)}},{requestSiteSettings:y.requestSiteSettings})(v),e.exports=t.default},"./client/components/data/query-theme/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/themes/actions.js"),y=n("./client/state/themes/selectors.js"),v=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId===e.siteId&&this.props.themeId===e.themeId||this.request(e)}},{key:"request",value:function(e){e.isRequesting||e.requestTheme(e.themeId,e.siteId)}},{key:"render",value:function(){return null}}]),t}(_.Component);v.propTypes={siteId:h.default.oneOfType([h.default.number,h.default.oneOf(["wpcom","wporg"])]).isRequired,themeId:h.default.string.isRequired,isRequesting:h.default.bool.isRequired,requestTheme:h.default.func.isRequired},t.default=(0,g.connect)(function(e,t){var n=t.siteId,s=t.themeId;return{isRequesting:(0,y.isRequestingTheme)(e,n,s)}},{requestTheme:b.requestTheme})(v),e.exports=t.default},"./client/components/data/query-timezones/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.QueryTimezones=void 0;var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/timezones/actions.js"),y=t.QueryTimezones=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.props.requestTimezones()}},{key:"render",value:function(){return null}}]),t}(_.Component);y.propTypes={requestTimezones:h.default.func},t.default=(0,g.connect)(null,{requestTimezones:b.requestTimezones})(y)},"./client/components/formatted-header/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.headerText,n=e.subHeaderText,s=(0,d.default)("formatted-header",{"is-without-subhead":!n});return l.default.createElement("header",{className:s},l.default.createElement("h1",{className:"formatted-header__title"},(0,c.preventWidows)(t,2)),n&&l.default.createElement("p",{className:"formatted-header__subtitle"},(0,c.preventWidows)(n,2)))}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/prop-types/index.js"),a=s(r),o=n("./node_modules/react/react.js"),l=s(o),u=n("./node_modules/classnames/index.js"),d=s(u),c=n("./client/lib/formatting/index.js");i.propTypes={headerText:a.default.string,subHeaderText:a.default.node},t.default=i,e.exports=t.default},"./client/components/forms/form-legend/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/extends.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),o=s(a),l=n("./node_modules/react/react.js"),u=s(l),d=n("./node_modules/classnames/index.js"),c=s(d),f=function(e){var t=e.className,n=e.children,s=(0,o.default)(e,["className","children"]);return u.default.createElement("legend",(0,r.default)({},s,{className:(0,c.default)(t,"form-legend")}),n)};t.default=f,e.exports=t.default},"./client/components/forms/form-radio/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/extends.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),o=s(a),l=n("./node_modules/react/react.js"),u=s(l),d=n("./node_modules/classnames/index.js"),c=s(d),f=function(e){var t=e.className,n=(0,o.default)(e,["className"]);return u.default.createElement("input",(0,r.default)({},n,{type:"radio",className:(0,c.default)(t,"form-radio")}))};t.default=f,e.exports=t.default},"./client/components/forms/form-setting-explanation/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/extends.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/inherits.js"),h=s(m),_=n("./node_modules/react/react.js"),g=s(_),b=n("./node_modules/prop-types/index.js"),y=s(b),v=n("./node_modules/classnames/index.js"),E=s(v),j=n("./node_modules/lodash/lodash.js"),S=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=(0,E.default)(this.props.className,"form-setting-explanation",{"no-validate":this.props.noValidate,"is-indented":this.props.isIndented});return g.default.createElement("p",(0,r.default)({},(0,j.omit)(this.props,"className","noValidate","isIndented"),{className:e}),this.props.children)}}]),t}(g.default.Component);S.displayName="FormSettingExplanation",S.propTypes={noValidate:y.default.bool,isIndented:y.default.bool,className:y.default.string},S.defaultProps={noValidate:!1,isIndented:!1},t.default=S,e.exports=t.default},"./client/components/forms/form-toggle/compact.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/extends.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),o=s(a),l=n("./node_modules/react/react.js"),u=s(l),d=n("./node_modules/classnames/index.js"),c=s(d),f=n("./client/components/forms/form-toggle/index.jsx"),p=s(f),m=function(e){var t=e.className,n=e.children,s=(0,o.default)(e,["className","children"]);return u.default.createElement(p.default,(0,r.default)({},s,{className:(0,c.default)(t,"is-compact")}),n)};t.default=m,e.exports=t.default},"./client/components/forms/form-toggle/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/classnames/index.js"),y=s(b),v=n("./node_modules/lodash/lodash.js"),E=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.onKeyDown=function(e){s.props.disabled||("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),s.props.onChange(!s.props.checked)),s.props.onKeyDown(e))},s.onClick=function(e){e&&e.stopPropagation&&e.stopPropagation(),s.props.disabled||s.props.onChange(!s.props.checked)},s.onLabelClick=function(e){if(!s.props.disabled){var t=e.target.nodeName.toLowerCase();"a"!==t&&"input"!==t&&"select"!==t&&(e.preventDefault(),s.props.onChange(!s.props.checked))}},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.id=this.constructor.idNum++}},{key:"render",value:function(){var e=this.props.id||"toggle-"+this.id,t=(0,y.default)("form-toggle__wrapper",{"is-disabled":this.props.disabled}),n=(0,y.default)("form-toggle",this.props.className,{"is-toggling":this.props.toggling});return h.default.createElement("span",{className:t},h.default.createElement("input",{id:e,className:n,type:"checkbox",checked:this.props.checked,readOnly:!0,disabled:this.props.disabled}),h.default.createElement("label",{className:"form-toggle__label",htmlFor:e},h.default.createElement("span",{className:"form-toggle__switch",onClick:this.onClick,onKeyDown:this.onKeyDown,role:"checkbox","aria-checked":this.props.checked,"aria-label":this.props["aria-label"],tabIndex:this.props.disabled?-1:0}),h.default.createElement("span",{className:"form-toggle__label-content",onClick:this.onLabelClick},this.props.children)))}}]),t}(m.PureComponent);E.propTypes={onChange:g.default.func,onKeyDown:g.default.func,checked:g.default.bool,disabled:g.default.bool,id:g.default.string,className:g.default.string,toggling:g.default.bool,"aria-label":g.default.string},E.defaultProps={checked:!1,disabled:!1,onKeyDown:v.noop,onChange:v.noop},E.idNum=0,t.default=E,e.exports=t.default},"./client/components/happychat/connection.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HappychatConnection=void 0;var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=n("./node_modules/prop-types/index.js"),_=s(h),g=n("./node_modules/react-redux/es/index.js"),b=n("./client/config/index.js"),y=s(b),v=n("./client/state/happychat/utils.js"),E=n("./client/state/happychat/selectors/is-happychat-connection-uninitialized.js"),j=s(E),S=n("./client/state/happychat/connection/actions.js"),x=t.HappychatConnection=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.props.isHappychatEnabled&&this.props.isConnectionUninitialized&&this.props.initConnection(this.props.getAuth())}},{key:"render",value:function(){return null}}]),t}(m.Component);x.propTypes={getAuth:_.default.func,isConnectionUninitialized:_.default.bool,isHappychatEnabled:_.default.bool,initConnection:_.default.func},t.default=(0,g.connect)(function(e){return{getAuth:(0,v.getHappychatAuth)(e),isConnectionUninitialized:(0,j.default)(e),isHappychatEnabled:y.default.isEnabled("happychat")}},{initConnection:S.initConnection})(x)},"./client/components/header-cake/back.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/classnames/index.js"),y=s(b),v=n("./node_modules/i18n-calypso/index.js"),E=n("./node_modules/gridicons/build/index.js"),j=s(E),S=n("./node_modules/lodash/lodash.js"),x=n("./client/components/button/index.jsx"),T=s(x),C=n("./client/lib/viewport/index.js"),k=s(C),w={windowWidth:480,characterLength:8},I=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.state={windowWidth:k.default.getWindowInnerWidth()},s.handleWindowResize=function(){s.setState({windowWidth:k.default.getWindowInnerWidth()})},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.resizeThrottled=(0,S.throttle)(this.handleWindowResize,100),window.addEventListener("resize",this.resizeThrottled)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeThrottled)}},{key:"hideText",value:function(e){return this.state.windowWidth<=w.windowWidth&&e.length>=w.characterLength||this.state.windowWidth<=300}},{key:"render",value:function(){var e=this.props,t=e.href,n=e.icon,s=e.onClick,i=e.spacer,r=e.text,a=e.translate,o=void 0===r?a("Back"):r,l=(0,y.default)({"header-cake__back":!0,"is-spacer":i,"is-action":!!n});return h.default.createElement(T.default,{compact:!0,borderless:!0,className:l,href:t,onClick:s,disabled:i},h.default.createElement(j.default,{icon:n||"arrow-left",size:18}),!this.hideText(o)&&o)}}]),t}(m.Component);I.propTypes={onClick:g.default.func,href:g.default.string,text:g.default.string,spacer:g.default.bool},I.defaultProps={spacer:!1,disabled:!1},t.default=(0,v.localize)(I),e.exports=t.default},"./client/components/header-cake/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=s(_),b=n("./node_modules/classnames/index.js"),y=s(b),v=n("./client/components/card/index.jsx"),E=s(v),j=n("./client/components/header-cake/back.jsx"),S=s(j),x=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.backText,n=e.backHref,s=e.actionButton,i=e.actionText,r=e.actionIcon,a=e.actionHref,o=e.actionOnClick,l=(0,y.default)("header-cake",this.props.className,{"is-compact":this.props.isCompact});return g.default.createElement(E.default,{className:l},g.default.createElement(S.default,{text:t,href:n,onClick:this.props.onClick}),g.default.createElement("div",{className:"header-cake__title",onClick:this.props.onTitleClick},this.props.children),s||g.default.createElement(S.default,{text:i||t,href:a||n,onClick:o,icon:r,spacer:!o}))}}]),t}(_.Component);t.default=x,x.displayName="HeaderCake",x.propTypes={onClick:h.default.func,onTitleClick:h.default.func,backText:h.default.string,backHref:h.default.string,actionButton:h.default.element,actionText:h.default.string,actionHref:h.default.string,actionIcon:h.default.string,actionOnClick:h.default.func},x.defaultProps={isCompact:!1},e.exports=t.default},"./client/components/info-popover/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/gridicons/build/index.js"),y=s(b),v=n("./node_modules/classnames/index.js"),E=s(v),j=n("./client/components/popover/index.jsx"),S=s(j),x=n("./client/lib/analytics/index.js"),T=s(x),C=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.state={showPopover:!1},s.handleClick=function(e){e.preventDefault(),s.setState({showPopover:!s.state.showPopover},s.recordStats)},s.handleClose=function(){return s.setState({showPopover:!1},s.recordStats)},s.recordStats=function(){var e=s.props,t=e.gaEventCategory,n=e.popoverName;if(t&&n){var i=s.state.showPopover?" Opened":" Closed";T.default.ga.recordEvent(t,"InfoPopover: "+n+i)}},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return h.default.createElement("span",{onClick:this.handleClick,ref:"infoPopover",className:(0,E.default)("info-popover",{is_active:this.state.showPopover},this.props.className)},h.default.createElement(y.default,{icon:this.props.icon,size:this.props.iconSize}),h.default.createElement(S.default,{autoRtl:this.props.autoRtl,id:this.props.id,isVisible:this.state.showPopover,context:this.refs&&this.refs.infoPopover,ignoreContext:this.props.ignoreContext,position:this.props.position,onClose:this.handleClose,className:(0,E.default)("popover","info-popover__tooltip",this.props.className),rootClassName:this.props.rootClassName},this.props.children))}}]),t}(m.Component);C.propTypes={autoRtl:g.default.bool,className:g.default.string,gaEventCategory:g.default.string,icon:g.default.string,iconSize:g.default.number,id:g.default.string,ignoreContext:g.default.shape({getDOMNode:g.default.func}),popoverName:g.default.string,position:g.default.oneOf(["top","top right","right","bottom right","bottom","bottom left","left","top left"]),rootClassName:g.default.string},C.defaultProps={autoRtl:!0,icon:"info-outline",iconSize:18,position:"bottom"},t.default=C,e.exports=t.default},"./client/components/language-picker/index.jsx":function(e,t,n){
"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/slicedToArray.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/inherits.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/react/react.js"),y=s(b),v=n("./node_modules/classnames/index.js"),E=s(v),j=n("./node_modules/i18n-calypso/index.js"),S=n("./node_modules/lodash/lodash.js"),x=n("./client/components/language-picker/modal.jsx"),T=s(x),C=function(e){function t(e){(0,u.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.selectLanguage=function(e){var t=n.findLanguage("langSlug",e);if(t){var s=t[n.props.valueKey],i={target:{value:s}};n.props.onChange(i),n.setState({selectedLanguage:t})}},n.handleClick=function(e){n.props.disabled||(n.props.onClick(e),n.toggleOpen())},n.handleClose=function(){n.setState({open:!1})},n.state={selectedLanguage:n.findLanguage(e.valueKey,e.value)},n}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.value===this.props.value&&e.valueKey===this.props.valueKey||this.setState({selectedLanguage:this.findLanguage(e.valueKey,e.value)})}},{key:"findLanguage",value:function(e,t){return(0,S.find)(this.props.languages,function(n){return n[e]==t})}},{key:"toggleOpen",value:function(){this.setState({open:!this.state.open})}},{key:"renderPlaceholder",value:function(){var e=(0,E.default)("language-picker","is-loading");return y.default.createElement("div",{className:e},y.default.createElement("div",{className:"language-picker__icon"},y.default.createElement("div",{className:"language-picker__icon-inner"})),y.default.createElement("div",{className:"language-picker__name"},y.default.createElement("div",{className:"language-picker__name-inner"})))}},{key:"render",value:function(){var e=this.state.selectedLanguage;if(!e)return this.renderPlaceholder();var t=e.langSlug.split("-"),n=(0,r.default)(t,2),s=n[0],i=n[1],a=e.name,o=this.props,l=o.disabled,u=o.translate;return y.default.createElement("div",{className:"language-picker",onClick:this.handleClick,disabled:l},y.default.createElement("div",{className:"language-picker__icon"},y.default.createElement("div",{className:"language-picker__icon-inner"},s,i&&y.default.createElement("br",null),i)),y.default.createElement("div",{className:"language-picker__name"},y.default.createElement("div",{className:"language-picker__name-inner"},y.default.createElement("div",{className:"language-picker__name-label"},a),y.default.createElement("div",{className:"language-picker__name-change"},u("Change")))),y.default.createElement(T.default,{isVisible:this.state.open,languages:this.props.languages,onClose:this.handleClose,onSelected:this.selectLanguage,selected:e.langSlug}))}}]),t}(b.PureComponent);C.propTypes={languages:g.default.array.isRequired,valueKey:g.default.string,value:g.default.any,onChange:g.default.func,onClick:g.default.func},C.defaultProps={languages:[],valueKey:"value",onChange:S.noop,onClick:S.noop},t.default=(0,j.localize)(C),e.exports=t.default},"./client/components/language-picker/modal.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=s(_),b=n("./node_modules/classnames/index.js"),y=s(b),v=n("./node_modules/i18n-calypso/index.js"),E=n("./node_modules/lodash/lodash.js"),j=n("./client/components/dialog/index.jsx"),S=s(j),x=n("./client/components/section-nav/index.jsx"),T=s(x),C=n("./client/components/section-nav/tabs.jsx"),k=s(C),w=n("./client/components/section-nav/item.jsx"),I=s(w),A=n("./client/components/search/index.jsx"),R=s(A),P=function(e){function t(e){(0,o.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.handleSearch=function(e){n.setState({search:e})},n.handleClick=function(e){n.setState({selectedLanguageSlug:e})},n.handleSelectLanguage=function(){var e=n.state.selectedLanguageSlug;n.props.onSelected(e),n.handleClose()},n.handleClose=function(){n.props.onClose()},n.renderLanguageItem=function(e){var t=e.langSlug===n.state.selectedLanguageSlug,s=(0,y.default)("language-picker__modal-text",{"is-selected":t});return g.default.createElement("div",{className:"language-picker__modal-item",key:e.langSlug,onClick:(0,E.partial)(n.handleClick,e.langSlug)},g.default.createElement("span",{className:s},e.name))},n.state={filter:"popular",search:!1,selectedLanguageSlug:n.props.selected},n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.selected!==this.state.selectedLanguageSlug&&this.setState({selectedLanguageSlug:e.selected})}},{key:"getFilterLabel",value:function(e){var t=this.props.translate;switch(e){case"popular":return t("Popular languages",{textOnly:!0});default:return t("All languages",{textOnly:!0})}}},{key:"getDisplayedLanguages",value:function(){var e=this.props.languages,t=this.state,n=t.search,s=t.filter;if(n){var i=n.toLowerCase();return e.filter(function(e){return(0,E.includes)(e.name.toLowerCase(),i)})}switch(s){case"popular":var r=e.filter(function(e){return e.popular});return r.sort(function(e,t){return e.popular-t.popular}),r;default:return e}}},{key:"renderTabItems",value:function(){var e=this,t=["popular",""];return(0,E.map)(t,function(t){var n=e.state.filter===t,s=function(){return e.setState({filter:t})};return g.default.createElement(I.default,{key:t,selected:n,onClick:s},e.getFilterLabel(t))})}},{key:"renderLanguageList",value:function(){var e=this.getDisplayedLanguages();return g.default.createElement("div",{className:"language-picker__modal-list"},(0,E.map)(e,this.renderLanguageItem))}},{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.translate;if(!t)return null;var s=[{action:"cancel",label:n("Cancel")},{action:"confirm",label:n("Select Language"),isPrimary:!0,onClick:this.handleSelectLanguage}];return g.default.createElement(S.default,{isVisible:!0,buttons:s,onClose:this.handleClose,additionalClassNames:"language-picker__modal"},g.default.createElement(T.default,{selectedText:this.getFilterLabel(this.state.filter)},g.default.createElement(k.default,null,this.renderTabItems()),g.default.createElement(R.default,{pinned:!0,fitsContainer:!0,onSearch:this.handleSearch,placeholder:n("Search languagesâ€¦")})),this.renderLanguageList())}}]),t}(_.PureComponent);P.propTypes={onSelected:h.default.func,onClose:h.default.func},P.defaultProps={onSelected:E.noop,onClose:E.noop},t.default=(0,v.localize)(P),e.exports=t.default},"./client/components/logged-out-form/link-item.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/extends.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/inherits.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/react/react.js"),y=s(b),v=n("./node_modules/classnames/index.js"),E=s(v),j=n("./node_modules/lodash/lodash.js"),S=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return y.default.createElement("a",(0,r.default)({},(0,j.omit)(this.props,"classNames"),{className:(0,E.default)("logged-out-form__link-item",this.props.className)}),this.props.children)}}]),t}(y.default.Component);S.displayName="LoggedOutFormLinkItem",S.propTypes={className:g.default.string},t.default=S,e.exports=t.default},"./client/components/logged-out-form/links.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/extends.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/inherits.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/react/react.js"),y=s(b),v=n("./node_modules/classnames/index.js"),E=s(v),j=n("./node_modules/lodash/lodash.js"),S=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return y.default.createElement("div",(0,r.default)({},(0,j.omit)(this.props,"classNames"),{className:(0,E.default)("logged-out-form__links",this.props.className)}),this.props.children)}}]),t}(y.default.Component);S.propTypes={children:g.default.node.isRequired,className:g.default.string},t.default=S,e.exports=t.default},"./client/components/marketing-survey/cancel-purchase-form/enrichedSurveyData.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,s){var i=(0,o.get)(s,"subscribedDate",null),r=(0,o.get)(n,"options.created_at",null),l=(0,o.get)(s,"id",null),u=(0,o.get)(s,"productSlug",null);return(0,a.default)({purchase:u,purchaseId:l},i&&{daysSincePurchase:t.diff(i,"days",!0)},r&&{daysSinceSiteCreation:t.diff(r,"days",!0)},e)}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/assign.js"),a=s(r);t.default=i;var o=n("./node_modules/lodash/lodash.js");e.exports=t.default},"./client/components/progress-bar/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=s(_),b=n("./node_modules/classnames/index.js"),y=s(b),v=n("./client/components/screen-reader-text/index.js"),E=s(v),j=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.state={allTimeMax:s.props.value},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"getCompletionPercentage",value:function(){var e=Math.ceil(this.state.allTimeMax/this.props.total*100);return Math.min(e,100)}},{key:"renderBar",value:function(){var e=this.props.title?g.default.createElement(E.default,null,this.props.title):null,t={width:this.getCompletionPercentage()+"%"};return this.props.color&&(t.backgroundColor=this.props.color),g.default.createElement("div",{className:"progress-bar__progress",style:t},e)}},{key:"componentWillReceiveProps",value:function(e){this.setState({allTimeMax:Math.max(this.state.allTimeMax,e.value)})}},{key:"render",value:function(){var e=(0,y.default)(this.props.className,"progress-bar",{"is-compact":this.props.compact,"is-pulsing":this.props.isPulsing});return g.default.createElement("div",{className:e},this.renderBar())}}]),t}(_.PureComponent);j.defaultProps={total:100,compact:!1,isPulsing:!1},j.propTypes={value:h.default.number.isRequired,total:h.default.number,color:h.default.string,title:h.default.string,compact:h.default.bool,className:h.default.string,isPulsing:h.default.bool},t.default=j,e.exports=t.default},"./client/components/screen-reader-text/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.children;return a.default.createElement("span",{className:"screen-reader-text"},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n("./node_modules/react/react.js"),a=s(r);e.exports=t.default},"./client/components/section-header/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/classnames/index.js"),g=s(_),b=n("./client/components/card/compact.jsx"),y=s(b),v=n("./client/components/count/index.jsx"),E=s(v),j=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e="number"==typeof this.props.count,t=!(this.props.label||e||this.props.children),n=(0,g.default)(this.props.className,"section-header",{"is-empty":t});return h.default.createElement(y.default,{className:n,href:this.props.href},h.default.createElement("div",{className:"section-header__label"},h.default.createElement("span",{className:"section-header__label-text"},this.props.label),e&&h.default.createElement(E.default,{count:this.props.count})),h.default.createElement("div",{className:"section-header__actions"},this.props.children))}}]),t}(m.PureComponent);j.defaultProps={label:"",href:null},t.default=j,e.exports=t.default},"./client/components/section-nav/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/classnames/index.js"),y=s(b),v=n("./node_modules/lodash/lodash.js"),E=n("./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx"),j=s(E),S=n("./client/components/section-nav/tabs.jsx"),x=s(S),T=n("./client/components/section-nav/item.jsx"),C=s(T),k=n("./client/components/search/index.jsx"),w=s(k),I=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),A.call(s),i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.checkForSiblingControls(this.props.children)}},{key:"componentWillReceiveProps",value:function(e){(0,v.isEqual)(this.props,e)||(this.checkForSiblingControls(e.children),this.hasSiblingControls||this.closeMobilePanel())}},{key:"render",value:function(){var e=this.getChildren(),t=void 0;return e?(t=(0,y.default)({"section-nav":!0,"is-open":this.state.mobileOpen,"has-pinned-items":this.hasPinnedSearch||this.props.hasPinnedItems},this.props.className),h.default.createElement("div",{className:t},this.renderDropdown(),h.default.createElement("div",{className:"section-nav__panel"},e))):(t=(0,y.default)({"section-nav":!0,"is-empty":!0},this.props.className),h.default.createElement("div",{className:t},h.default.createElement("div",{className:"section-nav__panel"},h.default.createElement(C.default,null))))}}]),t}(m.Component);I.propTypes={selectedText:g.default.node,selectedCount:g.default.number,hasPinnedItems:g.default.bool,onMobileNavPanelOpen:g.default.func,className:g.default.string,allowDropdown:g.default.bool},I.defaultProps={onMobileNavPanelOpen:function(){},allowDropdown:!0};var A=function(){var e=this;this.state={mobileOpen:!1},this.renderDropdown=function(){return e.props.allowDropdown?h.default.createElement("div",{className:"section-nav__mobile-header",onClick:e.toggleMobileOpenState},h.default.createElement("span",{className:"section-nav__mobile-header-text"},e.props.selectedText)):h.default.createElement("div",null)},this.getChildren=function(){return h.default.Children.map(e.props.children,function(e){var t={hasSiblingControls:this.hasSiblingControls,closeSectionNavMobilePanel:this.closeMobilePanel};return e?(e.type!==x.default||e.props.selectedText||"string"!=typeof this.props.selectedText||(t.selectedText=this.props.selectedText),e.type===x.default&&this.props.selectedCount&&(t.selectedCount=this.props.selectedCount),e.type===w.default&&(e.props.pinned&&(this.hasPinnedSearch=!0),t.onSearch=this.generateOnSearch(e.props.onSearch)),h.default.cloneElement(e,t)):null}.bind(e))},this.closeMobilePanel=function(){window.innerWidth<480&&e.state.mobileOpen&&e.setState({mobileOpen:!1})},this.toggleMobileOpenState=function(){var t=!e.state.mobileOpen;e.setState({mobileOpen:t}),t&&e.props.onMobileNavPanelOpen()},this.generateOnSearch=function(t){return function(){t.apply(void 0,arguments),e.closeMobilePanel()}},this.checkForSiblingControls=function(t){e.hasSiblingControls=!1;var n=[w.default,j.default];h.default.Children.forEach(t,function(e,t){t&&e&&!(0,v.includes)(n,e.type)&&(this.hasSiblingControls=!0)}.bind(e))}};t.default=I,e.exports=t.default},"./client/components/section-nav/item.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/classnames/index.js"),y=s(b),v=n("./client/components/count/index.jsx"),E=s(v),j=n("./client/sections-preload.js"),S=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s._preloaded=!1,s.preload=function(){!s._preloaded&&s.props.preloadSectionName&&(s._preloaded=!0,(0,j.preload)(s.props.preloadSectionName))},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.itemType?this.props.itemType:"tab",t={"is-selected":this.props.selected,"is-external":this.props.isExternalLink};t["section-nav-"+e]=!0;var n=(0,y.default)(this.props.className,t),s=void 0,i=void 0;return this.props.isExternalLink&&(s="_blank"),this.props.disabled||(i=this.props.onClick),h.default.createElement("li",{className:n},h.default.createElement("a",{href:this.props.path,target:s,className:"section-nav-"+e+"__link",onClick:i,onMouseEnter:this.preload,tabIndex:this.props.tabIndex||0,"aria-selected":this.props.selected,disabled:this.props.disabled,role:"menuitem",rel:this.props.isExternalLink?"external":null},h.default.createElement("span",{className:"section-nav-"+e+"__text"},this.props.children,"number"==typeof this.props.count&&h.default.createElement(E.default,{count:this.props.count}))))}}]),t}(m.PureComponent);S.propTypes={itemType:g.default.string,path:g.default.string,selected:g.default.bool,tabIndex:g.default.number,onClick:g.default.func,isExternalLink:g.default.bool,disabled:g.default.bool,count:g.default.oneOfType([g.default.number,g.default.bool]),className:g.default.string,preloadSectionName:g.default.string},t.default=S,e.exports=t.default},"./client/components/section-nav/tabs.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/extends.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/inherits.js"),h=s(m),_=n("./node_modules/react/react.js"),g=s(_),b=n("./node_modules/react-dom/index.js"),y=s(b),v=n("./node_modules/prop-types/index.js"),E=s(v),j=n("./node_modules/classnames/index.js"),S=s(j),x=n("./node_modules/lodash/lodash.js"),T=n("./client/components/select-dropdown/item.jsx"),C=s(T),k=n("./client/components/select-dropdown/index.jsx"),w=s(k),I=n("./client/lib/viewport/index.js"),A=s(I),R=480,P=function(e){function t(){var e,n,s,i;(0,u.default)(this,t);for(var a=arguments.length,l=Array(a),d=0;d<a;d++)l[d]=arguments[d];return n=s=(0,p.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),s.state={isDropdown:!1},s.getTabWidths=function(){var e=0;g.default.Children.forEach(s.props.children,function(t,n){if(t){var s=y.default.findDOMNode(this.refs["tab-"+n]).offsetWidth;e+=s}}.bind(s)),s.tabsWidth=Math.max(e,s.tabsWidth||0)},s.getDropdown=function(){var e=g.default.Children.map(s.props.children,function(e,t){return e?g.default.createElement(C.default,(0,r.default)({},e.props,{key:"navTabsDropdown-"+t}),e.props.children):null});return g.default.createElement(w.default,{className:"section-nav-tabs__dropdown",selectedText:s.props.selectedText,selectedCount:s.props.selectedCount},e)},s.setDropdown=function(){var e=void 0;if(window.innerWidth>R){if(!s.refs.navGroup)return;e=s.refs.navGroup.offsetWidth,s.getTabWidths(),e<=s.tabsWidth&&!s.state.isDropdown?s.setState({isDropdown:!0}):e>s.tabsWidth&&s.state.isDropdown&&s.setState({isDropdown:!1})}else window.innerWidth<=R&&s.state.isDropdown&&s.setState({isDropdown:!1})},s.keyHandler=function(e){switch(e.keyCode){case 32:case 13:e.preventDefault(),document.activeElement.click()}},i=n,(0,p.default)(s,i)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.setDropdown(),this.debouncedAfterResize=(0,x.debounce)(this.setDropdown,300),window.addEventListener("resize",this.debouncedAfterResize)}},{key:"componentDidUpdate",value:function(){this.setDropdown()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debouncedAfterResize)}},{key:"render",value:function(){var e=g.default.Children.map(this.props.children,function(e,t){return e&&g.default.cloneElement(e,{ref:"tab-"+t})}),t=(0,S.default)({"section-nav-tabs":!0,"is-dropdown":this.state.isDropdown,"is-open":this.state.isDropdownOpen,"has-siblings":this.props.hasSiblingControls}),n=A.default.getWindowInnerWidth();return g.default.createElement("div",{className:"section-nav-group",ref:"navGroup"},g.default.createElement("div",{className:t},this.props.label&&g.default.createElement("h6",{className:"section-nav-group__label"},this.props.label),g.default.createElement("ul",{className:"section-nav-tabs__list",role:"menu",onKeyDown:this.keyHandler},e),this.state.isDropdown&&n>R&&this.getDropdown()))}}]),t}(_.Component);P.propTypes={selectedText:E.default.string,selectedCount:E.default.number,label:E.default.string,hasSiblingControls:E.default.bool},P.defaultProps={hasSiblingControls:!1},t.default=P,e.exports=t.default},"./client/components/sidebar-navigation/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=s(_),b=n("./node_modules/react-redux/es/index.js"),y=n("./node_modules/gridicons/build/index.js"),v=s(y),E=n("./client/state/document-head/selectors.js"),j=n("./client/state/ui/layout-focus/actions.js"),S=function(e){function t(e){(0,o.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.toggleSidebar=n.toggleSidebar.bind(n),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"toggleSidebar",value:function(e){e.preventDefault(),this.props.setLayoutFocus("sidebar")}},{key:"render",value:function(){return g.default.createElement("header",{className:"current-section"},g.default.createElement("a",{onClick:this.toggleSidebar,className:this.props.linkClassName},g.default.createElement(v.default,{icon:"chevron-left"}),this.props.children,g.default.createElement("div",null,g.default.createElement("p",{className:"current-section__"+this.props.sectionName+"-title"},this.props.sectionTitle),g.default.createElement("h1",{className:"current-section__section-title"},this.props.title))))}}]),t}(g.default.Component);S.propTypes={title:h.default.string,linkClassName:h.default.string,sectionTitle:h.default.string,sectionName:h.default.string.isRequired,setLayoutFocus:h.default.func.isRequired},t.default=(0,b.connect)(function(e){return{title:(0,E.getDocumentHeadTitle)(e)}},{setLayoutFocus:j.setLayoutFocus})(S),e.exports=t.default},"./client/components/timezone/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/slicedToArray.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/inherits.js"),h=s(m),_=n("./node_modules/react/react.js"),g=s(_),b=n("./node_modules/prop-types/index.js"),y=s(b),v=n("./node_modules/react-redux/es/index.js"),E=n("./node_modules/lodash/lodash.js"),j=n("./node_modules/i18n-calypso/index.js"),S=n("./client/components/data/query-timezones/index.jsx"),x=s(S),T=n("./client/state/selectors/get-raw-offsets.js"),C=s(T),k=n("./client/state/selectors/get-timezones.js"),w=s(k),I=function(e){function t(){var e,n,s,i;(0,u.default)(this,t);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=s=(0,p.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(a))),s.onSelect=function(e){s.props.onSelect(e.target.value)},i=n,(0,p.default)(s,i)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"renderOptionsByContinent",value:function(){var e=this.props.timezones;return(0,E.map)(e,function(e){var t=(0,r.default)(e,2),n=t[0],s=t[1];return g.default.createElement("optgroup",{label:n,key:n},(0,E.map)(s,function(e,t){var n=(0,r.default)(e,2),s=n[0],i=n[1];return g.default.createElement("option",{value:s,key:t},i)}))})}},{key:"renderManualUtcOffsets",value:function(){var e=this.props,t=e.rawOffsets,n=e.translate;return g.default.createElement("optgroup",{label:n("Manual Offsets")},(0,E.map)(t,function(e,t){return g.default.createElement("option",{value:t,key:t},e)}))}},{key:"render",value:function(){var e=this.props.selectedZone;return g.default.createElement("select",{onChange:this.onSelect,value:e||""},g.default.createElement(x.default,null),this.renderOptionsByContinent(),g.default.createElement("optgroup",{label:"UTC"},g.default.createElement("option",{value:"UTC"},"UTC")),this.renderManualUtcOffsets())}}]),t}(_.Component);I.defaultProps={onSelect:E.noop},I.propTypes={selectedZone:y.default.string,onSelect:y.default.func},t.default=(0,v.connect)(function(e){return{rawOffsets:(0,C.default)(e),timezones:(0,w.default)(e)}})((0,j.localize)(I)),e.exports=t.default},"./client/components/token-field/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/freeze.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/assign.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/typeof.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/extends.js"),c=s(d),f=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),h=s(m),_=n("./node_modules/babel-runtime/helpers/createClass.js"),g=s(_),b=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),y=s(b),v=n("./node_modules/babel-runtime/helpers/inherits.js"),E=s(v),j=n("./node_modules/react/react.js"),S=s(j),x=n("./node_modules/prop-types/index.js"),T=s(x),C=n("./node_modules/lodash/lodash.js"),k=n("./node_modules/classnames/index.js"),w=s(k),I=n("./node_modules/debug/browser.js"),A=s(I),R=n("./client/components/token-field/suggestions-list.jsx"),P=s(R),M=n("./client/components/token-field/token.jsx"),D=s(M),N=n("./client/components/token-field/token-input.jsx"),O=s(N),L=(0,A.default)("calypso:token-field"),F=function(e){function t(){var e,n,s,i;(0,h.default)(this,t);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=s=(0,y.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(a))),s.state=s.constructor.initialState,s._renderTokensAndInput=function(){var e=(0,C.map)(s.props.value,s._renderToken);return e.splice(s._getIndexOfInput(),0,s._renderInput()),e},s._renderToken=function(e){var t=s._getTokenValue(e),n=e.status?e.status:void 0;return S.default.createElement(D.default,{key:"token-"+t,value:t,status:n,tooltip:e.tooltip,displayTransform:s.props.displayTransform,onClickRemove:s._onTokenClickRemove,isBorderless:e.isBorderless||s.props.isBorderless,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,disabled:"error"!==n&&s.props.disabled})},s._renderInput=function(){var e=s.props,t=e.autoCapitalize,n=e.autoComplete,i=e.id,r=e.maxLength,a=e.value,o=e.placeholder,l={autoCapitalize:t,autoComplete:n,disabled:s.props.disabled,hasFocus:s.state.tokenInputHasFocus,id:i,key:"input",onBlur:s._onBlur,value:s.state.incompleteTokenValue};return 0===a.length&&o&&(l.placeholder=o),r&&a.length>=r||(l=(0,c.default)({},l,{onChange:s._onInputChange})),S.default.createElement(O.default,l)},s.setTokensAndInput=function(e){s.tokensAndInput=e},s._onFocus=function(e){s.setState({isActive:!0,tokenInputHasFocus:!0}),"function"==typeof s.props.onFocus&&s.props.onFocus(e)},s._onBlur=function(){s._inputHasValidValue()?(L("_onBlur adding current token"),s.setState({isActive:!1},s._addCurrentToken)):(L("_onBlur not adding current token"),
s.setState(s.constructor.initialState))},s._onTokenClickRemove=function(e){s._deleteToken(e.value)},s._onSuggestionHovered=function(e){var t=s._getMatchingSuggestions().indexOf(e);t>=0&&s.setState({selectedSuggestionIndex:t,selectedSuggestionScroll:!1})},s._onSuggestionSelected=function(e){L("_onSuggestionSelected",e),s._addNewToken(e)},s._onInputChange=function(e){var t=e.value,n=s.props.tokenizeOnSpace?/[ ,\t]+/:/[,\t]+/,i=t.split(n);i.length>1&&s._addNewTokens(i.slice(0,-1)),s.setState({incompleteTokenValue:(0,C.last)(i)||"",selectedSuggestionIndex:-1,selectedSuggestionScroll:!1})},s._onContainerTouched=function(e){e.target===s.tokensAndInput&&s.state.isActive&&e.preventDefault()},s._onKeyDown=function(e){var t=!1;switch(e.keyCode){case 8:t=s._handleDeleteKey(s._deleteTokenBeforeInput);break;case 9:t=s._addCurrentToken();break;case 13:t=s._addCurrentToken();break;case 37:t=s._handleLeftArrowKey();break;case 38:t=s._handleUpArrowKey();break;case 39:t=s._handleRightArrowKey();break;case 40:t=s._handleDownArrowKey();break;case 46:t=s._handleDeleteKey(s._deleteTokenAfterInput);break;case 32:s.props.tokenizeOnSpace&&(t=s._addCurrentToken())}t&&e.preventDefault()},s._onKeyPress=function(e){var t=!1;switch(e.charCode){case 44:t=s._handleCommaKey()}t&&e.preventDefault()},s._handleDeleteKey=function(e){var t=!1;return s.state.tokenInputHasFocus&&s._isInputEmpty()&&(e(),t=!0),t},s._getMatchingSuggestions=function(){var e=s.props.suggestions,t=s.props.saveTransform(s.state.incompleteTokenValue),n=[],i=[];return 0===t.length?e=(0,C.difference)(e,s.props.value):(t=t.toLocaleLowerCase(),(0,C.each)(e,function(e){var s=e.toLocaleLowerCase().indexOf(t);this.props.value.indexOf(e)===-1&&(0===s?n.push(e):s>0&&i.push(e))}.bind(s)),e=n.concat(i)),(0,C.take)(e,s.props.maxSuggestions)},s._getSelectedSuggestion=function(){if(s.state.selectedSuggestionIndex!==-1)return s._getMatchingSuggestions()[s.state.selectedSuggestionIndex]},s._addCurrentToken=function(){var e=!1,t=s._getSelectedSuggestion();return t?(s._addNewToken(t),e=!0):s._inputHasValidValue()&&(s._addNewToken(s.state.incompleteTokenValue),e=!0),e},s._handleLeftArrowKey=function(){var e=!1;return s._isInputEmpty()&&(s._moveInputBeforePreviousToken(),e=!0),e},s._handleRightArrowKey=function(){var e=!1;return s._isInputEmpty()&&(s._moveInputAfterNextToken(),e=!0),e},s._handleUpArrowKey=function(){return s.setState({selectedSuggestionIndex:Math.max((s.state.selectedSuggestionIndex||0)-1,0),selectedSuggestionScroll:!0}),!0},s._handleDownArrowKey=function(){return s.setState({selectedSuggestionIndex:Math.min(s.state.selectedSuggestionIndex+1||0,s._getMatchingSuggestions().length-1),selectedSuggestionScroll:!0}),!0},s._handleCommaKey=function(){var e=!0;return s._inputHasValidValue()&&s._addNewToken(s.state.incompleteTokenValue),e},s._isInputEmpty=function(){return 0===s.state.incompleteTokenValue.length},s._inputHasValidValue=function(){return s.props.saveTransform(s.state.incompleteTokenValue).length>0},s._deleteTokenBeforeInput=function(){var e=s._getIndexOfInput()-1;e>-1&&s._deleteToken(s.props.value[e])},s._deleteTokenAfterInput=function(){var e=s._getIndexOfInput();e<s.props.value.length&&(s._deleteToken(s.props.value[e]),s._moveInputToIndex(e))},s._deleteToken=function(e){var t=s.props.value.filter(function(t){return s._getTokenValue(t)!==s._getTokenValue(e)});s.props.onChange(t)},s._moveInputToIndex=function(e){s.setState({inputOffsetFromEnd:s.props.value.length-Math.max(e,-1)-1})},s._moveInputBeforePreviousToken=function(){s.setState({inputOffsetFromEnd:Math.min(s.state.inputOffsetFromEnd+1,s.props.value.length)})},s._moveInputAfterNextToken=function(){s.setState({inputOffsetFromEnd:Math.max(s.state.inputOffsetFromEnd-1,0)})},s._addNewTokens=function(e){var t=(0,C.uniq)(e.map(s.props.saveTransform).filter(Boolean).filter(function(e){return!s._valueContainsToken(e)}));if(L("_addNewTokens: tokensToAdd",t),t.length>0){var n=(0,C.clone)(s.props.value);n.splice.apply(n,[s._getIndexOfInput(),0].concat(t)),L("_addNewTokens: onChange",n),s.props.onChange(n)}},s._addNewToken=function(e){s._addNewTokens([e]),s.setState({incompleteTokenValue:"",selectedSuggestionIndex:-1,selectedSuggestionScroll:!1}),s.state.isActive&&(L("_addNewToken focusing input"),s.setState({tokenInputHasFocus:!0}))},s._valueContainsToken=function(e){return(0,C.some)(s.props.value,function(t){return s._getTokenValue(e)===s._getTokenValue(t)})},s._getTokenValue=function(e){return"object"===("undefined"==typeof e?"undefined":(0,u.default)(e))?e.value:e},s._getIndexOfInput=function(){return s.props.value.length-s.state.inputOffsetFromEnd},i=n,(0,y.default)(s,i)}return(0,E.default)(t,e),(0,g.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.disabled&&this.state.isActive&&this.setState({isActive:!1,incompleteTokenValue:""})}},{key:"render",value:function(){var e=(0,w.default)("token-field",{"is-active":this.state.isActive,"is-disabled":this.props.disabled}),t={ref:"main",className:e,tabIndex:"-1"};return this.props.disabled||(t=(0,o.default)({},t,{onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onFocus:this._onFocus})),S.default.createElement("div",t,S.default.createElement("div",{ref:this.setTokensAndInput,className:"token-field__input-container",tabIndex:"-1",onMouseDown:this._onContainerTouched,onTouchStart:this._onContainerTouched},this._renderTokensAndInput()),S.default.createElement(P.default,{match:this.props.saveTransform(this.state.incompleteTokenValue),displayTransform:this.props.displayTransform,suggestions:this._getMatchingSuggestions(),selectedIndex:this.state.selectedSuggestionIndex,scrollIntoView:this.state.selectedSuggestionScroll,isExpanded:this.state.isActive,onHover:this._onSuggestionHovered,onSelect:this._onSuggestionSelected}))}}]),t}(j.PureComponent);F.propTypes={suggestions:T.default.array,maxSuggestions:T.default.number,displayTransform:T.default.func,saveTransform:T.default.func,onChange:T.default.func,isBorderless:T.default.bool,maxLength:T.default.number,onFocus:T.default.func,disabled:T.default.bool,tokenizeOnSpace:T.default.bool,placeholder:T.default.string,id:T.default.string,value:function e(t){var e=t.value;return Array.isArray(e)?void(0,C.forEach)(e,function(e){if("object"===("undefined"==typeof e?"undefined":(0,u.default)(e))&&!("value"in e))return new Error("When using object for value prop, each object is expected to have a 'value' property.")}):new Error("Value prop is expected to be an array.")}},F.defaultProps={suggestions:(0,r.default)([]),maxSuggestions:100,value:(0,r.default)([]),placeholder:"",displayTransform:C.identity,saveTransform:function(e){return e.trim()},onChange:function(){},isBorderless:!1,disabled:!1,tokenizeOnSpace:!1},F.initialState={incompleteTokenValue:"",inputOffsetFromEnd:0,isActive:!1,selectedSuggestionIndex:-1,selectedSuggestionScroll:!1,tokenInputHasFocus:!1},t.default=F,e.exports=t.default},"./client/components/token-field/suggestions-list.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/freeze.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/inherits.js"),h=s(m),_=n("./node_modules/lodash/lodash.js"),g=n("./node_modules/prop-types/index.js"),b=s(g),y=n("./node_modules/react/react.js"),v=s(y),E=n("./node_modules/classnames/index.js"),j=s(E),S=n("./node_modules/dom-scroll-into-view/index.js"),x=s(S),T=function(e){function t(){var e,n,s,i;(0,u.default)(this,t);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=s=(0,p.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(a))),s._computeSuggestionMatch=function(e){var t,n=s.props.displayTransform(s.props.match||"").toLocaleLowerCase();return 0===n.length?null:(e=s.props.displayTransform(e),t=e.toLocaleLowerCase().indexOf(n),{suggestionBeforeMatch:e.substring(0,t),suggestionMatch:e.substring(t,t+n.length),suggestionAfterMatch:e.substring(t+n.length)})},s._renderSuggestions=function(){return(0,_.map)(s.props.suggestions,function(e,t){var n=this._computeSuggestionMatch(e),s=(0,j.default)("token-field__suggestion",{"is-selected":t===this.props.selectedIndex});return v.default.createElement("li",{className:s,key:e,onMouseDown:this._handleMouseDown,onClick:this._handleClick(e),onMouseEnter:this._handleHover(e)},n?v.default.createElement("span",null,n.suggestionBeforeMatch,v.default.createElement("strong",{className:"token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch):this.props.displayTransform(e))}.bind(s))},s._handleHover=function(e){return function(){this._scrollingIntoView||this.props.onHover(e)}.bind(s)},s._handleClick=function(e){return function(){this.props.onSelect(e)}.bind(s)},s._handleMouseDown=function(e){e.preventDefault()},i=n,(0,p.default)(s,i)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidUpdate",value:function(e){var t;e.isExpanded&&this.props.isExpanded&&this.props.selectedIndex>-1&&this.props.scrollIntoView&&(this._scrollingIntoView=!0,t=this.refs.list,(0,x.default)(t.children[this.props.selectedIndex],t,{onlyScrollIfNeeded:!0}),setTimeout(function(){this._scrollingIntoView=!1}.bind(this),100))}},{key:"render",value:function(){var e=(0,j.default)("token-field__suggestions-list",{"is-expanded":this.props.isExpanded&&this.props.suggestions.length>0});return v.default.createElement("ul",{ref:"list",className:e,tabIndex:"-1"},this._renderSuggestions())}}]),t}(v.default.PureComponent);T.propTypes={isExpanded:b.default.bool,match:b.default.string,displayTransform:b.default.func.isRequired,onSelect:b.default.func,suggestions:b.default.array,selectedIndex:b.default.number},T.defaultProps={isExpanded:!1,match:"",onHover:function(){},onSelect:function(){},suggestions:(0,r.default)([])},t.default=T,e.exports=t.default},"./client/components/token-field/token-input.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/extends.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/inherits.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/react/react.js"),y=s(b),v=n("./node_modules/lodash/lodash.js"),E=function(e){function t(){var e,n,s,i;(0,u.default)(this,t);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=s=(0,p.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(a))),s.setTextInput=function(e){s.textInput=e},s.onChange=function(e){s.props.onChange({value:e.target.value})},i=n,(0,p.default)(s,i)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidUpdate",value:function(){this.props.hasFocus&&this.textInput.focus()}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.value,s=(0===n.length&&t&&t.length||n.length)+1;return y.default.createElement("input",(0,r.default)({className:"token-field__input",onChange:this.onChange,ref:this.setTextInput,size:s,type:"text"},(0,v.omit)(this.props,["hasFocus","onChange"])))}}]),t}(y.default.PureComponent);E.propTypes={disabled:g.default.bool,hasFocus:g.default.bool,onChange:g.default.func,onBlur:g.default.func,placeholder:g.default.string,value:g.default.string},E.defaultProps={disabled:!1,hasFocus:!1,onChange:v.noop,onBlur:v.noop,placeholder:"",value:""},t.default=E,e.exports=t.default},"./client/components/token-field/token.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=s(_),b=n("./node_modules/classnames/index.js"),y=s(b),v=n("./node_modules/gridicons/build/index.js"),E=s(v),j=n("./client/components/tooltip/index.jsx"),S=s(j),x=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s._onClickRemove=function(){s.props.onClickRemove({value:s.props.value})},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.status,s=e.isBorderless,i=e.tooltip,r=e.displayTransform,a=(0,y.default)("token-field__token",{"is-error":"error"===n,"is-success":"success"===n,"is-validating":"validating"===n,"is-borderless":s,"is-disabled":this.props.disabled});return g.default.createElement("span",{className:a,tabIndex:"-1",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},g.default.createElement("span",{className:"token-field__token-text"},r(t)),g.default.createElement(E.default,{icon:"cross-small",size:24,className:"token-field__remove-token",onClick:!this.props.disabled&&this._onClickRemove}),i&&g.default.createElement(S.default,{showOnMobile:!0,context:this,status:n,isVisible:!0,position:"bottom"},i))}}]),t}(g.default.PureComponent);x.displayName="Token",x.propTypes={value:h.default.string.isRequired,displayTransform:h.default.func.isRequired,onClickRemove:h.default.func,status:h.default.oneOf(["error","success","validating"]),isBorderless:h.default.bool,tooltip:h.default.string,disabled:h.default.bool},x.defaultProps={onClickRemove:function(){},isBorderless:!1,disabled:!1},t.default=x,e.exports=t.default},"./client/components/tooltip/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/classnames/index.js"),y=s(b),v=n("./client/components/popover/index.jsx"),E=s(v),j=n("./client/lib/viewport/index.js"),S=s(j),x=function(){},T=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){if(!this.props.showOnMobile&&S.default.isMobile())return null;var e=(0,y.default)("popover","tooltip","is-"+this.props.status,"is-"+this.props.position,this.props.className);return h.default.createElement(E.default,{autoPosition:this.props.autoPosition,className:e,rootClassName:this.props.rootClassName,context:this.props.context,id:this.props.id,isVisible:this.props.isVisible,onClose:x,position:this.props.position,showDelay:this.props.showDelay},this.props.children)}}]),t}(m.Component);T.propTypes={autoPosition:g.default.bool,className:g.default.string,id:g.default.string,isVisible:g.default.bool,position:g.default.string,rootClassName:g.default.string,status:g.default.string,showDelay:g.default.number,showOnMobile:g.default.bool},T.defaultProps={showDelay:100,position:"top",showOnMobile:!1},t.default=T,e.exports=t.default},"./client/components/wizard/navigation-link.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/i18n-calypso/index.js"),y=n("./node_modules/gridicons/build/index.js"),v=s(y),E=n("./client/components/button/index.jsx"),j=s(E),S=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.getText=function(){var e=s.props,t=e.direction,n=e.text,i=e.translate;return n||i("back"===t?"Back":"Skip for now")},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.direction,n=e.href;return h.default.createElement(j.default,{compact:!0,borderless:!0,className:"wizard__navigation-link",href:n},"back"===t&&h.default.createElement(v.default,{icon:"arrow-left",size:18}),this.getText(),"forward"===t&&h.default.createElement(v.default,{icon:"arrow-right",size:18}))}}]),t}(m.Component);S.propTypes={direction:g.default.oneOf(["back","forward"]).isRequired,href:g.default.string,text:g.default.string,translate:g.default.func.isRequired},t.default=(0,b.localize)(S),e.exports=t.default},"./client/jetpack-connect/happychat-button.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/gridicons/build/index.js"),o=s(a),l=n("./node_modules/prop-types/index.js"),u=s(l),d=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/i18n-calypso/index.js"),f=n("./client/lib/analytics/index.js"),p=s(f),m=n("./client/components/happychat/button.jsx"),h=s(m),_=n("./client/components/happychat/connection.jsx"),g=s(_),b=n("./client/config/index.js"),y=n("./client/state/current-user/selectors.js"),v=n("./client/state/happychat/selectors/has-active-happychat-session.js"),E=s(v),j=n("./client/state/happychat/selectors/is-happychat-available.js"),S=s(j),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"calypso_jpc_chat_initiated";return function(){return p.default.tracks.recordEvent(e)}},T=function(e){var t=e.children,n=e.isChatActive,s=e.isChatAvailable,i=e.isLoggedIn,a=e.label,l=e.translate,u=e.eventName;return(0,b.isEnabled)("jetpack/happychat")&&i?s||n?r.default.createElement(h.default,{borderless:!1,className:"logged-out-form__link-item jetpack-connect__happychat-button",onClick:x(u)},r.default.createElement(g.default,null),r.default.createElement(o.default,{icon:"chat",size:18})," ",a||l("Get help connecting your site")):r.default.createElement("div",null,r.default.createElement(g.default,null),t):r.default.createElement("div",null,t)};T.propTypes={eventName:u.default.string,label:u.default.string},t.default=(0,d.connect)(function(e){return{isChatAvailable:(0,S.default)(e),isChatActive:(0,E.default)(e),isLoggedIn:Boolean((0,y.getCurrentUserId)(e))}})((0,c.localize)(T)),e.exports=t.default},"./client/jetpack-connect/help-button.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/prop-types/index.js"),o=s(a),l=n("./node_modules/gridicons/build/index.js"),u=s(l),d=n("./client/components/logged-out-form/link-item.jsx"),c=s(d),f=n("./node_modules/i18n-calypso/index.js"),p=function(e){var t=e.label,n=e.translate,s=e.onClick;return r.default.createElement(c.default,{className:"jetpack-connect__help-button",href:"https://jetpack.com/contact-support",target:"_blank",rel:"noopener noreferrer",onClick:s},r.default.createElement(u.default,{icon:"help-outline",size:18})," ",t||n("Get help connecting your site"))};p.propTypes={onClick:o.default.func,label:o.default.string},t.default=(0,f.localize)(p),e.exports=t.default},"./client/lib/credit-card-details/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./client/lib/credit-card-details/masking.js"),r=s(i),a=n("./client/lib/credit-card-details/validation.js"),o=s(a);t.default={getCreditCardType:o.default.getCreditCardType,maskField:r.default.maskField,unmaskField:r.default.unmaskField,validateCardDetails:o.default.validateCardDetails},e.exports=t.default},"./client/lib/credit-card-details/masking.js":function(e,t,n){"use strict";function s(e,t,n){var s=a[e];return s?s.mask(t,n):n}function i(e,t,n){var s=a[e];return s?s.unmask(s.mask(t,n)):n}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/lodash/lodash.js"),a={};a["expiration-date"]={mask:function(e,t){return e&&e.length>t.length?t:e&&2===e.length&&3===t.length&&"/"===t[2]?t:(t=t.replace(/[^\d]/g,""),t.length<=2?t:t.substring(0,2)+"/"+t.substring(2,4))},unmask:r.identity},a.number={mask:function(e,t){var n=t.replace(/[^0-9]/g,""),s=n.slice(0,4)+" "+n.slice(4,8)+" "+n.slice(8,12)+" "+n.slice(12,16);return s.trim()},unmask:function(e){return e.replace(/ /g,"")}},a.cvv={mask:function(e,t){return t.replace(/[^\d]/g,"").substring(0,4)},unmask:r.identity},t.default={maskField:s,unmaskField:i},e.exports=t.default},"./client/lib/credit-card-details/validation.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(){return{name:{description:y.default.translate("Name on Card",{context:"Upgrades: Card holder name label on credit card form",textOnly:!0}),rules:["required"]},number:{description:y.default.translate("Card Number",{context:"Upgrades: Card number label on credit card form",textOnly:!0}),rules:["required","validCreditCardNumber"]},"expiration-date":{description:y.default.translate("Credit Card Expiration Date"),rules:["required","validExpirationDate"]},cvv:{description:y.default.translate("Credit Card CVV Code"),rules:["required","validCvvNumber"]},country:{description:y.default.translate("Country"),rules:["required"]},"postal-code":{description:y.default.translate("Postal Code",{context:"Upgrades: Postal code on credit card form",textOnly:!0}),rules:["required"]}}}function r(e){var t=e.split("/"),n=(0,m.default)(t,2),s=n[0],i=n[1];return{month:_.default.expiration.month.parse(s),year:_.default.expiration.year.parse(i,!0)}}function a(e){return y.default.translate("%(description)s is invalid",{args:{description:(0,g.capitalize)(e)}})}function o(e){var t=i(),n=(0,f.default)(t).reduce(function(n,s){var i=t[s],r=u(i,e[s],e);return r.length&&(n[s]=r),n},{});return{errors:n}}function l(e){if(e){if(e=e.replace(/ /g,""),e.match(/^3[47]\d{0,13}$/))return"amex";if(e.match(/^4\d{0,12}$/)||e.match(/^4\d{15}$/))return"visa";if(e.match(/^5[1-5]\d{0,14}|^2(?:2(?:2[1-9]|[3-9]\d)|[3-6]\d\d|7(?:[01]\d|20))\d{0,12}$/))return"mastercard";if(e.match(/^6011\d{0,12}$/)||(0,g.inRange)(parseInt(e,10),622126,622926)||e.match(/^64[4-9]\d{0,13}$/)||e.match(/^65\d{0,14}$/))return"discover"}return null}function u(e,t,n){return(0,g.compact)(e.rules.map(function(s){var i=d(s);if(!i.isValid(t,n))return i.error(e.description)}))}function d(e){return(0,g.isArray)(e)?v[e[0]].apply(null,e.slice(1)):v[e]}Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/babel-runtime/core-js/object/keys.js"),f=s(c),p=n("./node_modules/babel-runtime/helpers/slicedToArray.js"),m=s(p),h=n("./node_modules/creditcards/index.js"),_=s(h),g=n("./node_modules/lodash/lodash.js"),b=n("./node_modules/i18n-calypso/index.js"),y=s(b),v={};v.required={isValid:function(e){return!(0,g.isEmpty)(e)},error:function(e){return y.default.translate("Missing required %(description)s field",{args:{description:e}})}},v.validCreditCardNumber={isValid:function(e){return!!e&&_.default.card.isValid(e)},error:a},v.validCvvNumber={isValid:function(e){return!!e&&_.default.cvc.isValid(e)},error:a},v.validExpirationDate={isValid:function(e){if(!e)return!1;var t=r(e);return _.default.expiration.month.isValid(t.month)&&_.default.expiration.year.isValid(t.year)&&!_.default.expiration.isPast(t.month,t.year)},error:a},t.default={getCreditCardType:l,validateCardDetails:o},e.exports=t.default},"./client/lib/domains/dns/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(0,j.mapValues)(e,function(n,s){var i=r({value:n,domainName:t,name:s,type:e.type});return i?[]:["Invalid"]})}function r(e){var t=e.name,n=e.value,s=e.type,i=e.domainName;switch(t){case"name":return o(n,s,i);case"target":return a(n);case"data":return l(n,s);case"protocol":return(0,j.includes)(["tcp","udp","tls"],n);case"weight":case"aux":case"port":return n.toString().match(/^\d{1,5}$/);case"service":return n.match(/^[^\s\.]+$/);default:return!0}}function a(e){return!(e.length>253)&&/^([a-z0-9-_]{1,63}\.)*[a-z0-9-]{1,63}\.[a-z]{2,63}$/i.test(e)}function o(e,t,n){if(c(e,n)&&f(t))return!0;switch(t){case"A":case"AAAA":return/^([a-z0-9]([a-z0-9-]*[a-z0-9])?\.)*[a-z0-9]([a-z0-9-]*[a-z0-9])?$/i.test(e);default:return/^([a-z0-9-_]{1,63}\.)*([a-z0-9-_]{1,63})$/i.test(e)}}function l(e,t){switch(t){case"A":return e.match(/^(\d{1,3}\.){3}\d{1,3}$/);case"AAAA":return e.match(/^[a-f0-9\:]+$/i);case"CNAME":case"MX":return a(e);case"TXT":return e.length>0&&e.length<256}}function u(e,t){var n=(0,E.default)({},e);return n.data=p(e.data),n.name=d(e.name,e.type,t),e.target&&(n.target=p(e.target)),e.service&&(n.service=(0,j.trimStart)(e.service,"_")),n}function d(e,t,n){var s=(0,j.endsWith)(e,"."+n);return c(e,n)&&f(t)?n+".":s?e.replace(new RegExp("\\.+"+n+"\\.?$","i"),""):e}function c(e,t){var n=["@",t,t+".","@."+t,"@."+t+"."];return!e||(0,j.includes)(n,e)}function f(e){return(0,j.includes)(["A","MX","SRV","TXT"],e)}function p(e){return"string"==typeof e&&e.match(/^([a-z0-9-_]+\.)+\.?[a-z]+$/i)?e+".":e}function m(e){return(0,j.startsWith)(e.id,"wpcom:")}function h(e){return(0,j.matches)({type:"A",name:e+"."})}function _(e,t){var n=(0,j.filter)(t,h(e)),s=(0,j.find)(n,m),i=(0,j.find)(n,(0,j.negate)(m));return s&&i?(0,j.without)(t,s):t}function g(e,t){if(!(0,j.some)(t,h(e))){var n={domain:e,id:"wpcom:A:"+e+".:"+e,name:e+".",protected_field:!0,type:"A"};return t.concat([n])}return t}function b(e){return e.isBeingDeleted||e.isBeingAdded}function y(e,t){var n=(0,j.filter)(t,{type:"MX"});return"MX"===e.type&&1===n.length}Object.defineProperty(t,"__esModule",{value:!0}),t.isDeletingLastMXRecord=t.isBeingProcessed=t.validateAllFields=t.removeDuplicateWpcomRecords=t.getNormalizedData=t.addMissingWpcomRecords=void 0;var v=n("./node_modules/babel-runtime/core-js/object/assign.js"),E=s(v),j=n("./node_modules/lodash/lodash.js");t.addMissingWpcomRecords=g,t.getNormalizedData=u,t.removeDuplicateWpcomRecords=_,t.validateAllFields=i,t.isBeingProcessed=b,t.isDeletingLastMXRecord=y},"./client/lib/domains/dns/reducer.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var s=(0,f.default)({},t,{$set:(0,m.default)({},e[t]||u(),n)});return(0,g.default)(e,s)}function r(e,t,n){var s=(0,m.default)({},n,{isBeingAdded:!0});return(0,g.default)(e,(0,f.default)({},t,{isSubmittingForm:{$set:!0},records:{$apply:function(e){var n=e.concat([s]);return(0,y.removeDuplicateWpcomRecords)(t,n)}}}))}function a(e,t,n){var s=l(e[t].records,n);if(s===-1)return e;var i=(0,f.default)({},t,{records:{$apply:function(e){var n=(0,h.reject)(e,function(e,t){return s===t});return(0,y.addMissingWpcomRecords)(t,n)}}});return(0,g.default)(e,i)}function o(e,t,n,s){var i=l(e[t].records,n),r=(0,m.default)({},n,s);if(i===-1)return e;var a=(0,f.default)({},t,{records:(0,f.default)({},i,{$merge:r})});return(0,g.default)(e,a)}function l(e,t){var n=(0,h.pick)(t,["id","data","name","type"]);return(0,h.findIndex)(e,n)}function u(){return{isFetching:!1,hasLoadedFromServer:!1,isSubmittingForm:!1,records:null}}function d(e,t){var n=t.action;switch(n.type){case b.action.DNS_FETCH:e=i(e,n.domainName,{isFetching:!0});break;case b.action.DNS_FETCH_COMPLETED:e=i(e,n.domainName,{records:n.records,isFetching:!1,hasLoadedFromServer:!0});break;case b.action.DNS_FETCH_FAILED:e=i(e,n.domainName,{isFetching:!1});break;case b.action.DNS_ADD:e=r(e,n.domainName,n.record);break;case b.action.DNS_ADD_COMPLETED:e=i(e,n.domainName,{isSubmittingForm:!1}),e=o(e,n.domainName,n.record,{isBeingAdded:!1});break;case b.action.DNS_APPLY_TEMPLATE_COMPLETED:e=i(e,n.domainName,{records:n.records,isFetching:!1,hasLoadedFromServer:!0});break;case b.action.DNS_ADD_FAILED:e=i(e,n.domainName,{isSubmittingForm:!1}),e=a(e,n.domainName,n.record);break;case b.action.DNS_DELETE:e=o(e,n.domainName,n.record,{isBeingDeleted:!0});break;case b.action.DNS_DELETE_COMPLETED:e=a(e,n.domainName,n.record);break;case b.action.DNS_DELETE_FAILED:e=o(e,n.domainName,n.record,{isBeingDeleted:!1})}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.getInitialStateForDomain=void 0;var c=n("./node_modules/babel-runtime/helpers/defineProperty.js"),f=s(c),p=n("./node_modules/babel-runtime/core-js/object/assign.js"),m=s(p),h=n("./node_modules/lodash/lodash.js"),_=n("./node_modules/immutability-helper/index.js"),g=s(_),b=n("./client/lib/upgrades/constants.js"),y=n("./client/lib/domains/dns/index.js");t.getInitialStateForDomain=u,t.reducer=d},"./client/lib/domains/dns/store.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("./client/lib/store/index.js"),i=n("./client/lib/domains/dns/reducer.js"),r=(0,s.createReducerStore)(i.reducer);r.getByDomainName=function(e){var t=this.get();return t[e]||(0,i.getInitialStateForDomain)()},t.default=r,e.exports=t.default},"./client/lib/domains/email-forwarding/reducer.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var s=(0,u.default)({},t,{$set:(0,c.default)({},e[t]||_,n)});return(0,m.default)(e,s)}function r(e,t,n){var s=(0,f.findIndex)(e[t].list,{mailbox:n});if(s===-1)return e;var i=(0,u.default)({},t,{list:{$splice:[[s,1]]},needsUpdate:{$set:!0}});return(0,m.default)(e,i)}function a(e,t,n){var s=(0,u.default)({},t,{list:{$apply:function(e){return(0,f.sortBy)(e.concat([n]),"mailbox")}},needsUpdate:{$set:!0}});return(0,m.default)(e,s)}function o(e,t){var n=t.action;switch(n.type){case h.action.EMAIL_FORWARDING_FETCH:e=i(e,n.domainName,{isFetching:!0,needsUpdate:!1});break;case h.action.EMAIL_FORWARDING_FETCH_FAILED:e=i(e,n.domainName,{isFetching:!1,needsUpdate:!0});break;case h.action.EMAIL_FORWARDING_FETCH_COMPLETED:e=i(e,n.domainName,{hasLoadedFromServer:!0,isFetching:!1,list:n.forwards||[],needsUpdate:!1});break;case h.action.EMAIL_FORWARDING_ADD_COMPLETED:e=a(e,n.domainName,{active:!0,domain:n.domainName,email:n.mailbox+"@"+n.domainName,mailbox:n.mailbox,forward_address:n.destination,temporary:!0});break;case h.action.EMAIL_FORWARDING_DELETE_COMPLETED:e=r(e,n.domainName,n.mailbox)}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialDomainState=void 0;var l=n("./node_modules/babel-runtime/helpers/defineProperty.js"),u=s(l),d=n("./node_modules/babel-runtime/core-js/object/assign.js"),c=s(d),f=n("./node_modules/lodash/lodash.js"),p=n("./node_modules/immutability-helper/index.js"),m=s(p),h=n("./client/lib/upgrades/constants.js"),_={hasLoadedFromServer:!1,isFetching:!1,list:null,needsUpdate:!0};t.initialDomainState=_,t.reducer=o;
},"./client/lib/domains/email-forwarding/store.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("./client/lib/store/index.js"),i=n("./client/lib/domains/email-forwarding/reducer.js"),r=(0,s.createReducerStore)(i.reducer);r.getByDomainName=function(e){var t=this.get();return t[e]||i.initialDomainState},t.default=r,e.exports=t.default},"./client/lib/domains/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){this.code=e,this.message=e}function r(e){var t=e.split(".")[1],n=(0,w.some)(O,function(t){return(0,w.includes)(e,t)});return!((0,w.includes)(N,t)||n)}function a(e,t){return e?void A.default.undocumented().isDomainAvailable(e,function(e,n){return e?void t(e.error):void t(null,n)}):void t(null,{status:R.domainAvailability.EMPTY_QUERY})}function o(e,t){return e?void A.default.undocumented().getInboundTransferStatus(e,function(e,n){return e?void t(e.error):void t(null,n)}):void t(null)}function l(e,t,n){return t&&e?void A.default.undocumented().restartInboundTransfer(e,t,function(e,t){return e?void n(e.error):void n(null,t)}):void n(null)}function u(e,t,n){return t?(t.match(/^https?:\/\//i)||(t="http://"+t),void A.default.undocumented().canRedirect(e,t,function(e,t){n(e?new i(e.error):t.can_redirect?null:new i("cannot_redirect"))})):void n(new i("empty_query"))}function d(e,t){A.default.site(e).domain().getPrimary(function(e,n){t(e,n)})}function c(e){return e.trim().toLowerCase().replace(/^(https?:\/\/)?(www\.)?/,"").replace(/\/$/,"").replace(/_/g,"-")}function f(e){return e.match(/\..+\.[a-z]{2,3}\.[a-z]{2}$|\..+\.[a-z]{3,}$|\..{4,}\.[a-z]{2}$/)}function p(e,t){var n=e[t];return n&&(n.hasLoadedFromServer||n.isFetching)}function m(e){return"no_subscription"!==e.googleAppsSubscription.status}function h(e){return e.type===R.type.MAPPED}function _(e){return e.filter(function(e){return(0,w.includes)([R.type.REGISTERED,R.type.MAPPED],e.type)&&r(e.name)})}function g(e){return _(e).length>0}function b(e){return e.googleAppsSubscription&&e.googleAppsSubscription.pendingUsers&&0!==e.googleAppsSubscription.pendingUsers.length}function y(e){var t=e.domains,n=e.selectedDomainName,s=e.isTransfer;return(0,w.find)(t.list,function(e){return e.name===n&&(!(!s||e.type!==R.type.TRANSFER)||e.type!==R.type.TRANSFER)})}function v(e){return e.type===R.type.REGISTERED}function E(e){return e.filter(v)}function j(e){return e.filter(h)}function S(e){return j(e).length>0}function x(e){var t=e.lastIndexOf(".");if(t===-1)return"";var n=(0,P.parseDomainAgainstTldList)(e,D.default);return n||(n=e.substring(t+1)),n}function T(e){var t=x(e),n=(0,w.replace)(t,/\./g,"dot");return(0,w.includes)(["com","net","org"],n)?"domain_reg":"dot"+n+"_domain"}Object.defineProperty(t,"__esModule",{value:!0}),t.restartInboundTransfer=t.isSubdomain=t.isRegisteredDomain=t.isMappedDomain=t.isInitialized=t.hasPendingGoogleAppsUsers=t.hasMappedDomain=t.hasGoogleAppsSupportedDomain=t.hasGoogleApps=t.getTld=t.getMappedDomains=t.getRegisteredDomains=t.getSelectedDomain=t.getPrimaryDomain=t.getGoogleAppsSupportedDomains=t.getFixedDomainSearch=t.getDomainProductSlug=t.checkInboundTransferStatus=t.checkDomainAvailability=t.canRedirect=t.canAddGoogleApps=void 0;var C=n("./node_modules/inherits/inherits_browser.js"),k=s(C),w=n("./node_modules/lodash/lodash.js"),I=n("./client/lib/wp/browser.js"),A=s(I),R=n("./client/lib/domains/constants.js"),P=n("./client/lib/domains/utils.js"),M=n("./client/lib/domains/tlds/wpcom-multi-level-tlds.json"),D=s(M),N=["in"],O=["google"];(0,k.default)(i,Error),t.canAddGoogleApps=r,t.canRedirect=u,t.checkDomainAvailability=a,t.checkInboundTransferStatus=o,t.getDomainProductSlug=T,t.getFixedDomainSearch=c,t.getGoogleAppsSupportedDomains=_,t.getPrimaryDomain=d,t.getSelectedDomain=y,t.getRegisteredDomains=E,t.getMappedDomains=j,t.getTld=x,t.hasGoogleApps=m,t.hasGoogleAppsSupportedDomain=g,t.hasMappedDomain=S,t.hasPendingGoogleAppsUsers=b,t.isInitialized=p,t.isMappedDomain=h,t.isRegisteredDomain=v,t.isSubdomain=f,t.restartInboundTransfer=l},"./client/lib/domains/nameservers/reducer.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var s=(0,o.default)({},t,{$set:(0,u.default)({},e[t]||p,n)});return(0,c.default)(e,s)}function r(e,t){var n=t.action;switch(n.type){case f.action.NAMESERVERS_FETCH:e=i(e,n.domainName,{isFetching:!0});break;case f.action.NAMESERVERS_FETCH_FAILED:e=i(e,n.domainName,{isFetching:!1});break;case f.action.NAMESERVERS_FETCH_COMPLETED:e=i(e,n.domainName,{isFetching:!1,hasLoadedFromServer:!0,list:n.nameservers});break;case f.action.NAMESERVERS_UPDATE_COMPLETED:e=i(e,n.domainName,{isFetching:!1,hasLoadedFromServer:!0,list:n.nameservers})}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialDomainState=void 0;var a=n("./node_modules/babel-runtime/helpers/defineProperty.js"),o=s(a),l=n("./node_modules/babel-runtime/core-js/object/assign.js"),u=s(l),d=n("./node_modules/immutability-helper/index.js"),c=s(d),f=n("./client/lib/upgrades/constants.js"),p={isFetching:!1,hasLoadedFromServer:!1,list:null};t.initialDomainState=p,t.reducer=r},"./client/lib/domains/nameservers/store.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("./client/lib/store/index.js"),i=n("./client/lib/domains/nameservers/reducer.js"),r=(0,s.createReducerStore)(i.reducer);r.getByDomainName=function(e){var t=this.get();return t[e]||i.initialDomainState},t.default=r,e.exports=t.default},"./client/lib/domains/reducer.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return(0,h.default)(e,(0,u.default)({},t,{$apply:function(e){return(0,c.default)({},e,n)}}))}function r(e,t,n,s){return(0,h.default)(e,(0,u.default)({},t,{list:{$apply:function(e){return e.map(function(e){return e.name!==n?e:(0,c.default)({},e,s)})}}}))}function a(e,t){var n,s,a=t.action,l=a.type,u=a.siteId;switch(l){case g.action.DOMAINS_INITIALIZE:return(0,b.isInitialized)(e,u)?e:i(e,u,{isFetching:!1,hasLoadedFromServer:!1,list:null});case g.action.DOMAINS_FETCH:return i(e,u,{isFetching:!0});case g.action.DOMAINS_FETCH_COMPLETED:return i(e,u,{isFetching:!1,hasLoadedFromServer:!0,list:a.domains,settingPrimaryDomain:!1});case g.action.DOMAINS_FETCH_FAILED:return y(a.error),i(e,u,{isFetching:!1});case g.action.PRIMARY_DOMAIN_SET:return i(e,u,{settingPrimaryDomain:!0});case g.action.PRIMARY_DOMAIN_SET_COMPLETED:return i(e,u,{settingPrimaryDomain:!1,list:(0,_.sortBy)(o(e,u).list.map(function(e){return(0,c.default)({},e,{isPrimary:e.name===a.domainName})}),function(e){return!e.isPrimary})});case g.action.PRIMARY_DOMAIN_SET_FAILED:return i(e,u,{settingPrimaryDomain:!1});case g.action.PRIVACY_PROTECTION_ENABLE_COMPLETED:return r(e,a.siteId,a.domainName,{privateDomain:!0});case g.action.DOMAIN_TRANSFER_CODE_REQUEST_COMPLETED:return n=(0,b.getSelectedDomain)({domains:o(e,a.siteId),selectedDomainName:a.domainName}),s=!a.disablePrivacy&&n.privateDomain,r(e,a.siteId,a.domainName,{privateDomain:s});default:return e}}function o(e,t){return e[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialState=t.getBySite=void 0;var l=n("./node_modules/babel-runtime/helpers/defineProperty.js"),u=s(l),d=n("./node_modules/babel-runtime/core-js/object/assign.js"),c=s(d),f=n("./node_modules/debug/browser.js"),p=s(f),m=n("./node_modules/immutability-helper/index.js"),h=s(m),_=n("./node_modules/lodash/lodash.js"),g=n("./client/lib/upgrades/constants.js"),b=n("./client/lib/domains/index.js"),y=(0,p.default)("calypso:lib:domains:store"),v={};t.getBySite=o,t.initialState=v,t.reducer=a},"./client/lib/domains/store.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("./client/lib/store/index.js"),i=n("./client/lib/domains/reducer.js"),r=(0,s.createReducerStore)(i.reducer,i.initialState);r.getBySite=function(e){return(0,i.getBySite)(r.get(),e)},t.default=r,e.exports=t.default},"./client/lib/domains/tlds/wpcom-multi-level-tlds.json":function(e,t){e.exports={"co.in":1,"com.br":0,"firm.in":1,"gen.in":1,"ind.in":1,"net.br":0,"net.in":1,"org.in":1}},"./client/lib/domains/wapi-domain-info/assembler.js":function(e,t,n){"use strict";function s(e){return{locked:e.locked,pendingTransfer:e.pending_transfer,transferProhibited:e.transfer_prohibited}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={createDomainObject:s},e.exports=t.default},"./client/lib/domains/wapi-domain-info/reducer.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var s=(0,o.default)({},t,{$set:(0,u.default)({},e[t]||_,n)});return(0,c.default)(e,s)}function r(e,t){var n=t.action;switch(n.type){case f.action.WAPI_DOMAIN_INFO_FETCH:return i(e,n.domainName,{needsUpdate:!1});case f.action.WAPI_DOMAIN_INFO_FETCH_COMPLETED:return i(e,n.domainName,{hasLoadedFromServer:!0,data:n.status,needsUpdate:!1});case f.action.WAPI_DOMAIN_INFO_FETCH_FAILED:return i(e,n.domainName,{needsUpdate:!0});case f.action.DOMAIN_TRANSFER_CANCEL_REQUEST_COMPLETED:return i(e,n.domainName,{data:(0,u.default)({},e[n.domainName].data,{locked:n.locked,pendingTransfer:!1})});case f.action.PRIVACY_PROTECTION_ENABLE_COMPLETED:return i(e,n.domainName,{data:(0,u.default)({},e[n.domainName].data,{pendingTransfer:!1})});case f.action.DOMAIN_TRANSFER_CODE_REQUEST_COMPLETED:var s=e[n.domainName].data,r=(0,h.getSelectedDomain)({domains:m.default.getBySite(n.siteId),selectedDomainName:n.domainName}),a=!n.unlock&&s.locked,o=!r.privateDomain&&!a;return i(e,n.domainName,{data:(0,u.default)({},e[n.domainName].data,{locked:a,pendingTransfer:o})});case f.action.DOMAIN_TRANSFER_ACCEPT_COMPLETED:case f.action.DOMAIN_TRANSFER_DECLINE_COMPLETED:return i(e,n.domainName,{data:(0,u.default)({},e[n.domainName].data,{pendingTransfer:!1})});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialDomainState=void 0;var a=n("./node_modules/babel-runtime/helpers/defineProperty.js"),o=s(a),l=n("./node_modules/babel-runtime/core-js/object/assign.js"),u=s(l),d=n("./node_modules/immutability-helper/index.js"),c=s(d),f=n("./client/lib/upgrades/constants.js"),p=n("./client/lib/domains/store.js"),m=s(p),h=n("./client/lib/domains/index.js"),_={hasLoadedFromServer:!1,data:null,needsUpdate:!0};t.initialDomainState=_,t.reducer=r},"./client/lib/domains/wapi-domain-info/store.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./client/lib/store/index.js"),r=n("./client/lib/domains/store.js"),a=s(r),o=n("./client/lib/domains/wapi-domain-info/reducer.js"),l=(0,i.createReducerStore)(o.reducer,{},[a.default.dispatchToken]);l.getByDomainName=function(e){var t=this.get();return t[e]||o.initialDomainState},t.default=l,e.exports=t.default},"./client/lib/domains/whois/assembler.js":function(e,t,n){"use strict";function s(e){var t=i(e,a.whoisType.REGISTRANT),n=i(e,a.whoisType.PRIVACY_SERVICE);return[t,n]}function i(e,t){var n=(0,r.find)(e,{type:t})||{};return{firstName:n.fname||"",lastName:n.lname||"",organization:n.org||"",address1:n.sa1||"",address2:n.sa2||"",city:n.city||"",state:n.state||"",stateName:n.sp||"",postalCode:n.pc||"",countryCode:n.country_code||"",countryName:n.cc||"",email:n.email||"",phone:n.phone||"",fax:n.fax||"",type:t}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/lodash/lodash.js"),a=n("./client/lib/domains/whois/constants.js");t.default={createDomainWhois:s},e.exports=t.default},"./client/lib/domains/whois/reducer.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var s=(0,o.default)({},t,{$set:(0,u.default)({},e[t]||p,n)});return(0,c.default)(e,s)}function r(e,t){var n=t.action;switch(n.type){case f.action.WHOIS_FETCH:e=i(e,n.domainName,{isFetching:!0,needsUpdate:!1});break;case f.action.WHOIS_FETCH_FAILED:e=i(e,n.domainName,{isFetching:!1,needsUpdate:!0});break;case f.action.WHOIS_FETCH_COMPLETED:e=i(e,n.domainName,{data:n.data,hasLoadedFromServer:!0,isFetching:!1,needsUpdate:!1});break;case f.action.WHOIS_UPDATE_COMPLETED:e=i(e,n.domainName,{needsUpdate:!0})}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialDomainState=void 0;var a=n("./node_modules/babel-runtime/helpers/defineProperty.js"),o=s(a),l=n("./node_modules/babel-runtime/core-js/object/assign.js"),u=s(l),d=n("./node_modules/immutability-helper/index.js"),c=s(d),f=n("./client/lib/upgrades/constants.js"),p={data:null,hasLoadedFromServer:!1,isFetching:!1,needsUpdate:!0};t.initialDomainState=p,t.reducer=r},"./client/lib/domains/whois/store.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("./client/lib/store/index.js"),i=n("./client/lib/domains/whois/reducer.js"),r=(0,s.createReducerStore)(i.reducer);r.getByDomainName=function(e){var t=this.get();return t[e]||i.initialDomainState},t.default=r,e.exports=t.default},"./client/lib/interval/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EVERY_MINUTE=t.EVERY_THIRTY_SECONDS=t.EVERY_TEN_SECONDS=t.EVERY_FIVE_SECONDS=t.EVERY_SECOND=void 0;var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=n("./node_modules/prop-types/index.js"),_=s(h),g=t.EVERY_SECOND=1e3,b=t.EVERY_FIVE_SECONDS=5e3,y=t.EVERY_TEN_SECONDS=1e4,v=t.EVERY_THIRTY_SECONDS=3e4,E=t.EVERY_MINUTE=6e4,j=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.tick=function(){s.props.onTick()},s.start=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.props;s.interval=setInterval(s.tick,e.period)},s.stop=function(){s.interval=clearInterval(s.interval)},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.start()}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillReceiveProps",value:function(e){e.period!==this.props.period&&(this.stop(),this.start(e))}},{key:"render",value:function(){return null}}]),t}(m.Component);j.propTypes={onTick:_.default.func.isRequired,period:_.default.oneOf([g,b,y,v,E]).isRequired},t.default=j},"./client/lib/media/library-selected-store.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){e in g._media||(g._media[e]=[])}function r(e,t){g._media[e]=(0,d.map)(t,"ID")}function a(e,t){i(e),g._media[e].push(t.ID)}function o(e,t,n){var s;n||(n=t.ID),n&&e in g._media&&(s=g._media[e].indexOf(n),-1!==s&&g._media[e].splice(s,1,t.ID))}function l(e,t){t.forEach(function(t){o(e,t)})}function u(e,t){var n;e in g._media&&(n=g._media[e].indexOf(t.ID),-1!==n&&g._media[e].splice(n,1))}Object.defineProperty(t,"__esModule",{value:!0});var d=n("./node_modules/lodash/lodash.js"),c=n("./client/lib/media/store.js"),f=s(c),p=n("./client/dispatcher/index.js"),m=s(p),h=n("./client/lib/mixins/emitter/index.js"),_=s(h),g={_media:{}};(0,_.default)(g),g.get=function(e,t){return f.default.get(e,t)},g.getAll=function(e){return e in g._media?g._media[e].map(function(t){return f.default.get(e,t)}).filter(function(e){return e&&(e.guid||e.transient)}):[]},g.dispatchToken=m.default.register(function(e){var t=e.action;switch(m.default.waitFor([f.default.dispatchToken]),t.type){case"CHANGE_MEDIA_SOURCE":r(t.siteId,[]),g.emit("change");break;case"SET_MEDIA_LIBRARY_SELECTED_ITEMS":if(t.error||!t.siteId||!t.data||!Array.isArray(t.data))break;r(t.siteId,t.data),g.emit("change");break;case"CREATE_MEDIA_ITEM":!t.error&&t.siteId&&t.data&&(a(t.siteId,t.data),g.emit("change"));break;case"RECEIVE_MEDIA_ITEM":if(t.error&&t.siteId&&t.id&&(u(t.siteId,{ID:t.id}),g.emit("change")),!t.siteId||!t.data||t.error)break;o(t.siteId,t.data,t.id),g.emit("change");break;case"RECEIVE_MEDIA_ITEMS":!t.error&&t.siteId&&t.data&&t.data.media&&(l(t.siteId,t.data.media),g.emit("change"));break;case"REMOVE_MEDIA_ITEM":if(!t.siteId||!t.data||t.error)break;u(t.siteId,t.data),g.emit("change")}}),t.default=g,e.exports=t.default},"./client/lib/olark-events/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/debug/browser.js"),r=s(i),a=n("./client/lib/mixins/emitter/index.js"),o=s(a),l=["api.box.onShow","api.box.onHide","api.box.onExpand","api.box.onShrink","api.chat.onReady","api.chat.onOperatorsAvailable","api.chat.onOperatorsAway","api.chat.onBeginConversation","api.chat.onMessageToOperator","api.chat.onMessageToVisitor","api.chat.onCommandFromOperator","api.chat.onOfflineMessageToOperator"],u=(0,r.default)("calypso:olark:events"),d={},c=!1,f=!1,p={initialize:function(){var e=this;return c?void u("Already initalized"):(c=!0,l.forEach(function(t){return e.addOlarkEventListener(t)}),void u("Initalized"))},addOlarkEventListener:function(e){u("Adding olark event listener: %s",e),d[e]||(d[e]=!0)},olarkEventListener:function(e){u("Olark event: %s",e);for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];this.emit.apply(this,[e].concat(n))}};(0,o.default)(p),p.once("api.chat.onReady",function(){f=!0}),p.on("newListener",function(e,t){f&&"api.chat.onReady"===e&&t()}),t.default=p,e.exports=t.default},"./client/lib/olark-store/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./client/dispatcher/index.js"),r=s(i),a=n("./client/lib/olark-store/constants.js"),o={setUserEligibility:function(e){r.default.handleServerAction({isUserEligible:e,type:a.action.OLARK_USER_ELIGIBILITY})},setLocale:function(e){r.default.handleServerAction({locale:e,type:a.action.OLARK_LOCALE})},setReady:function(){r.default.handleServerAction({type:a.action.OLARK_READY})},setOperatorsAvailable:function(){r.default.handleServerAction({type:a.action.OLARK_OPERATORS_AVAILABLE})},setOperatorsAway:function(){r.default.handleServerAction({type:a.action.OLARK_OPERATORS_AWAY})},setClosed:function(e){r.default.handleServerAction({isSupportClosed:e,type:a.action.OLARK_SET_CLOSED})},setExpanded:function(e){r.default.handleServerAction({isOlarkExpanded:e,type:a.action.OLARK_SET_EXPANDED})},updateDetails:function(){},sendNotificationToVisitor:function(){},sendNotificationToOperator:function(){},expandBox:function(){},shrinkBox:function(){},hideBox:function(){},focusBox:function(){}};t.default=o,e.exports=t.default},"./client/lib/olark-store/constants.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.action=void 0;var i=n("./node_modules/key-mirror/index.js"),r=s(i);t.action=(0,r.default)({OLARK_READY:null,OLARK_OPERATORS_AWAY:null,OLARK_OPERATORS_AVAILABLE:null,OLARK_DETAILS:null,OLARK_LOCALE:null,OLARK_USER_ELIGIBILITY:null,OLARK_SET_CLOSED:null,OLARK_SET_EXPANDED:null})},"./client/lib/olark-store/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/assign.js"),r=s(i),a=n("./client/lib/store/index.js"),o=n("./client/lib/olark-store/constants.js"),l={isOperatorAvailable:!1,isOlarkReady:!1,isUserEligible:!1,isOlarkExpanded:!1,isSupportClosed:!1,locale:"en",details:{}},u=(0,a.createReducerStore)(function(e,t){var n=void 0,s=t.action;switch(s.type){case o.action.OLARK_USER_ELIGIBILITY:n={isUserEligible:s.isUserEligible};break;case o.action.OLARK_LOCALE:n={locale:s.locale};break;case o.action.OLARK_READY:n={isOlarkReady:!0};break;case o.action.OLARK_OPERATORS_AWAY:n={isOperatorAvailable:!1};break;case o.action.OLARK_OPERATORS_AVAILABLE:n={isOperatorAvailable:!0};break;case o.action.OLARK_SET_EXPANDED:n={isOlarkExpanded:s.isOlarkExpanded};break;case o.action.OLARK_DETAILS:n={details:s.details};break;case o.action.OLARK_SET_CLOSED:n={isSupportClosed:s.isSupportClosed}}return n?(0,r.default)({},e,n):e},l);t.default=u,e.exports=t.default},"./client/lib/olark/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/promise.js"),r=s(i),a=n("./node_modules/debug/browser.js"),o=s(a),l=n("./client/config/index.js"),u=s(l),d=n("./node_modules/i18n-calypso/index.js"),c=s(d),f=n("./client/lib/wp/browser.js"),p=s(f),m=n("./client/lib/mixins/emitter/index.js"),h=s(m),_=n("./client/lib/user/index.js"),g=s(_),b=n("./client/notices/index.js"),y=s(b),v=n("./client/lib/olark-events/index.js"),E=s(v),j=n("./client/lib/olark-store/index.js"),S=s(j),x=n("./client/lib/olark-store/actions.js"),T=s(x),C=n("./client/state/ui/olark/actions.js"),k=(0,o.default)("calypso:olark"),w=(0,g.default)(),I=p.default.undocumented(),A={apiId:1,eligibilityKey:"SupportChat",operatorsAvailableKey:"OlarkOperatorsAvailable",conversationStarted:!1,operatorAvailable:!1,userType:"Unknown",initialize:function(e){var t=this;k("Initializing Olark Live Chat"),this.getOlarkConfiguration().then(function(n){return t.configureOlark(n,e)}).catch(function(e){return t.handleError(e)})},handleError:function(e){e&&e.message&&"authorization_required"!==e.error&&y.default.error(e.message)},getOlarkConfiguration:function(){return new r.default(function(e,t){k("Using rest api to get olark configuration");var n=(0,u.default)("client_slug");I.getOlarkConfiguration(n,function(n,s){return n?void t(n):void e(s)})})},configureOlark:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],s=w.get(),i=["api.chat.onReady","api.chat.onOperatorsAway","api.chat.onOperatorsAvailable","api.chat.onBeginConversation","api.chat.onMessageToVisitor","api.chat.onMessageToOperator","api.chat.onCommandFromOperator"],r=["api.box.onShow","api.box.onExpand","api.box.onHide","api.box.onShrink","api.chat.onMessageToVisitor"],a=["api.chat.onReady","api.chat.onBeginConversation","api.chat.onMessageToVisitor","api.chat.onMessageToOperator","api.chat.onCommandFromOperator","api.chat.onOfflineMessageToOperator"];E.default.initialize(),E.default.once("api.chat.onReady",T.default.setReady),E.default.once("api.chat.onReady",function(){return n((0,C.olarkReady)())}),E.default.on("api.chat.onOperatorsAway",T.default.setOperatorsAway),E.default.on("api.chat.onOperatorsAway",function(){return n((0,C.operatorsAway)())}),E.default.on("api.chat.onOperatorsAvailable",T.default.setOperatorsAvailable),E.default.on("api.chat.onOperatorsAvailable",function(){return n((0,C.operatorsAvailable)())}),r.forEach(this.hookExpansionEventToStoreSync.bind(this)),i.forEach(function(e){return E.default.on(e,T.default.updateDetails)}),a.forEach(function(t){return E.default.on(t,function(){setTimeout(function(){return e.updateOlarkFormatting(s.display_name,s.avatar_URL)},0)})}),k("Olark code loaded, beginning configuration"),E.default.on("api.chat.onCommandFromOperator",function(e){"end"===e.command.name&&T.default.sendNotificationToVisitor(c.default.translate("Your live chat has ended. We'll send a transcript to %(email)s.",{args:{email:s.email}}))}),this.setOlarkOptions(s,t),n((0,C.setChatAvailability)(t.availability))},updateOlarkGroupAndEligibility:function(){var e=this;this.getOlarkConfiguration().then(function(e){var t="undefined"==typeof e.isUserEligible||e.isUserEligible;T.default.setUserEligibility(t)}).catch(function(t){return e.handleError(t)})},syncStoreWithExpandedState:function(){var e=!!document.querySelector(".olrk-state-expanded");e!==S.default.get().isOlarkExpanded&&T.default.setExpanded(e)},hookExpansionEventToStoreSync:function(e){E.default.on(e,this.syncStoreWithExpandedState)},setOlarkOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.group||(0,u.default)("olark").business_group_id,s="undefined"==typeof t.isUserEligible||t.isUserEligible,i=t.nickname||e.username+" | "+this.userType;k("Nickname: "+i),k("Group: "+n),T.default.setUserEligibility(s),T.default.setClosed(t.isClosed),t.locale&&T.default.setLocale(t.locale)},updateOlarkFormatting:function(e,t){var n,s,i,r,a,o,l,u,d,f,p,m=document.querySelectorAll(".hbl_pal_local_fg, .hbl_pal_remote_fg:not(.habla_conversation_notification_nickname)"),h=document.querySelectorAll(".olrk_avatar"),_={},g="//gravatar.com/avatar?s=32&d=identicon&r=PG",b=c.default.translate("staff");for(a=0;a<h.length;a++)o=h.item(a),l=o.parentElement.querySelector(".hbl_pal_remote_fg"),l&&(_[l.originalTextContent||l.textContent]=o.getAttribute("src"));for(d=0;d<m.length;d++)f=m.item(d),n=f.className.replace(/.*(habla_conversation_person\d+).*/,"$1"),p=!!f.className.match(/hbl_pal_local_fg/),u=f.textContent,s!==n?(p?f.textContent=e:f.querySelector(".staff-label")||(f.originalTextContent=f.textContent,f.textContent=f.textContent.replace(":",""),r=document.createElement("span"),r.setAttribute("class","staff-label"),r.appendChild(document.createTextNode(b)),f.appendChild(r)),f.querySelector(".gravatar")||(i=document.createElement("img"),i.setAttribute("class","gravatar"),p?i.setAttribute("src",t):i.setAttribute("src",_[u]||g),f.insertBefore(i,f.firstChild)),s=n):f.parentElement.removeChild(f)}};(0,h.default)(A),t.default=A,e.exports=t.default},"./client/lib/paygate-loader/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(){if(!(this instanceof i))return new i}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/debug/browser.js"),a=s(r),o=n("./client/lib/load-script/index.js"),l=(0,a.default)("calypso:paygate");i.prototype.ready=function(e,t){return window.Paygate?t(null,window.Paygate):void(0,o.loadjQueryDependentScript)(e,function(e){return e?void t(e):(l("Paygate loaded for the first time"),void t(null,window.Paygate))}.bind(this))},t.default=new i,e.exports=t.default},"./client/lib/react-pass-to-children/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,s=(0,i.assign)({},e.props,t);return delete s.children,a.default.Children.count(e.props.children)>1?(n=a.default.Children.map(e.props.children,function(e){return a.default.isValidElement(e)?a.default.cloneElement(e,s):e}),a.default.createElement("div",null,n)):a.default.cloneElement(e.props.children,s)};var i=n("./node_modules/lodash/lodash.js"),r=n("./node_modules/react/react.js"),a=s(r);e.exports=t.default},"./client/lib/store-transactions/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){return new a(e)}function r(e,t){this.code=e,this.message=t}function a(e){b.Readable.call(this,{objectMode:!0}),this._initialData=e,this._hasStarted=!1}function o(e,t,n){function s(e){return e.is_error?n(new Error("Paygate Response Error: "+e.error_msg)):void n(null,e.token)}function i(){n(new Error("Paygate Request Error"))}w.paygateConfiguration({request_type:e,country:t.country},function(e,r){return e?void n(e):void j.default.ready(r.js_url,function(e,a){var o;return e?void n(e):(a.setProcessor(r.processor),a.setApiUrl(r.api_url),a.setPublicKey(r.public_key),a.setEnvironment(r.environment),o=l(t),void a.createToken(o,s,i))})})}function l(e){return{name:e.name,number:e.number,cvc:e.cvv,zip:e["postal-code"],country:e.country,exp_month:e["expiration-date"].substring(0,2),exp_year:"20"+e["expiration-date"].substring(3,5)}}function u(e){return!(0,h.isEmpty)(e.domainDetails)}function d(e){return{paymentMethod:"WPCOM_Billing_MoneyPress_Paygate",newCardDetails:e||{}}}function c(e){return{paymentMethod:"WPCOM_Billing_MoneyPress_Stored",storedCard:e}}function f(){return{paymentMethod:"WPCOM_Billing_WPCOM"}}Object.defineProperty(t,"__esModule",{value:!0});var p=n("./node_modules/babel-runtime/core-js/object/assign.js"),m=s(p),h=n("./node_modules/lodash/lodash.js"),_=n("./node_modules/debug/browser.js"),g=s(_),b=n("./node_modules/stream-browserify/index.js"),y=n("./node_modules/inherits/inherits_browser.js"),v=s(y),E=n("./client/lib/paygate-loader/index.js"),j=s(E),S=n("./client/lib/credit-card-details/index.js"),x=n("./client/lib/store-transactions/step-types.js"),T=n("./client/lib/wp/browser.js"),C=s(T),k=(0,g.default)("calypso:store-transactions"),w=C.default.undocumented();(0,v.default)(r,Error),(0,v.default)(a,b.Readable),a.prototype._read=function(){var e,t;if(this._hasStarted)return!1;if(this._hasStarted=!0,e=this._initialData.payment.paymentMethod,t=this._paymentHandlers[e],!t)throw new Error("Invalid payment method: "+e);t.call(this)},a.prototype._pushStep=function(e){var t={first:!1,last:!1,timestamp:Date.now()};this.push((0,m.default)(t,e))},a.prototype._paymentHandlers={WPCOM_Billing_MoneyPress_Stored:function(){var e=this._initialData.payment.storedCard,t=e.mp_ref,n=e.stored_details_id,s=e.payment_partner;this._pushStep({name:x.INPUT_VALIDATION,first:!0}),k("submitting transaction with stored card"),this._submitWithPayment({payment_method:"WPCOM_Billing_MoneyPress_Stored",payment_key:t,payment_partner:s,stored_details_id:n})},WPCOM_Billing_MoneyPress_Paygate:function(){var e=this._initialData.payment.newCardDetails,t=(0,S.validateCardDetails)(e);return(0,h.isEmpty)(t.errors)?(this._pushStep({name:x.INPUT_VALIDATION,first:!0}),k("submitting transaction with new card"),void this._createPaygateToken(function(t){var n=e.name,s=e.country,i=e["postal-code"];this._submitWithPayment({payment_method:"WPCOM_Billing_MoneyPress_Paygate",payment_key:t,name:n,zip:i,country:s})}.bind(this))):void this._pushStep({name:x.INPUT_VALIDATION,error:new r("invalid-card-details",t.errors),first:!0,last:!0})},WPCOM_Billing_WPCOM:function(){this._pushStep({name:x.INPUT_VALIDATION,first:!0}),this._submitWithPayment({payment_method:"WPCOM_Billing_WPCOM"})}},a.prototype._createPaygateToken=function(e){this._pushStep({name:x.SUBMITTING_PAYMENT_KEY_REQUEST}),o("new_purchase",this._initialData.payment.newCardDetails,function(t,n){return t?this._pushStep({name:x.RECEIVED_PAYMENT_KEY_RESPONSE,error:t,last:!0}):(this._pushStep({name:x.RECEIVED_PAYMENT_KEY_RESPONSE}),void e(n))}.bind(this))},a.prototype._submitWithPayment=function(e){var t=this.push.bind(this,null),n={cart:(0,h.omit)(this._initialData.cart,["messages"]),domain_details:this._initialData.domainDetails,payment:e};this._pushStep({name:x.SUBMITTING_WPCOM_REQUEST}),w.transactions("POST",n,function(e,n){return e?this._pushStep({name:x.RECEIVED_WPCOM_RESPONSE,error:e,last:!0}):(this._pushStep({name:x.RECEIVED_WPCOM_RESPONSE,data:n,last:!0}),void t())}.bind(this))},t.default={createPaygateToken:o,fullCreditsPayment:f,hasDomainDetails:u,newCardPayment:d,storedCardPayment:c,submit:i},e.exports=t.default},"./client/lib/store-transactions/step-types.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BEFORE_SUBMIT="before-submit",t.INPUT_VALIDATION="input-validation",t.RECEIVED_PAYMENT_KEY_RESPONSE="received-payment-key-response",t.RECEIVED_WPCOM_RESPONSE="received-wpcom-response",t.SUBMITTING_PAYMENT_KEY_REQUEST="submitting-payment-key-request",t.SUBMITTING_WPCOM_REQUEST="submitting-wpcom-request"},"./client/lib/track-form/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.trackForm=void 0;var i=n("./node_modules/babel-runtime/helpers/extends.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/keys.js"),o=s(a),l=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/createClass.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=s(m),_=n("./node_modules/babel-runtime/helpers/inherits.js"),g=s(_),b=n("./node_modules/react/react.js"),y=s(b),v=n("./node_modules/lodash/lodash.js"),E=t.trackForm=function(e){
return function(t){function n(){var e,t,s,i;(0,c.default)(this,n);for(var a=arguments.length,l=Array(a),d=0;d<a;d++)l[d]=arguments[d];return t=s=(0,h.default)(this,(e=n.__proto__||(0,u.default)(n)).call.apply(e,[this].concat(l))),s.state={dirtyFields:[],fields:{}},s.updateFields=function(e,t){var n={dirtyFields:(0,v.union)(s.state.dirtyFields,(0,o.default)(e)),fields:(0,r.default)({},s.state.fields,e)};s.setState(n,t)},s.replaceFields=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n?s.state.fields:{},a=(0,r.default)({},i,e);s.setState({fields:a},t)},s.clearDirtyFields=function(){s.setState({dirtyFields:[]})},i=t,(0,h.default)(s,i)}return(0,g.default)(n,t),(0,p.default)(n,[{key:"render",value:function(){var t=this.state,n=t.fields,s=t.dirtyFields;return y.default.createElement(e,(0,r.default)({fields:n,dirtyFields:s,updateFields:this.updateFields,replaceFields:this.replaceFields,clearDirtyFields:this.clearDirtyFields},this.props))}}]),n}(b.Component)};t.default=E},"./client/lib/upgrades/actions/cart.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(){v.default.handleViewAction({type:b.action.CART_DISABLE})}function r(e){v.default.handleViewAction({type:b.action.CART_POPUP_OPEN,options:e||{}})}function a(){v.default.handleViewAction({type:b.action.CART_POPUP_CLOSE})}function o(e){v.default.handleViewAction({type:b.action.CART_ON_MOBILE_SHOW,show:e})}function l(){v.default.handleViewAction({type:b.action.CART_PRIVACY_PROTECTION_ADD})}function u(){v.default.handleViewAction({type:b.action.CART_PRIVACY_PROTECTION_REMOVE})}function d(e){c([e])}function c(e){var t=e.map(function(e){var t=(0,g.assign)({},e.extra,{context:"calypstore"});return(0,g.assign)({},e,{extra:t})});v.default.handleViewAction({type:b.action.CART_ITEMS_ADD,cartItems:t})}function f(e,t){v.default.handleViewAction({type:b.action.CART_ITEM_REMOVE,cartItem:e,domainsWithPlansOnly:t})}function p(e){d(E.cartItems.domainRegistration({domain:e.domain_name,productSlug:e.product_slug}))}function m(e){v.default.handleViewAction({type:b.action.GOOGLE_APPS_REGISTRATION_DATA_ADD,registrationData:e})}function h(e){f(E.cartItems.domainRegistration({domain:e.domain_name,productSlug:e.product_slug}))}function _(e){v.default.handleViewAction({type:b.action.CART_COUPON_APPLY,coupon:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.showCartOnMobile=t.removePrivacyFromAllDomains=t.removeItem=t.removeDomainFromCart=t.openCartPopup=t.disableCart=t.closeCartPopup=t.applyCoupon=t.addPrivacyToAllDomains=t.addItems=t.addItem=t.addGoogleAppsRegistrationData=t.addDomainToCart=void 0;var g=n("./node_modules/lodash/lodash.js"),b=n("./client/lib/upgrades/constants.js"),y=n("./client/dispatcher/index.js"),v=s(y),E=n("./client/lib/cart-values/index.js");n("./client/lib/cart/store/index.js"),t.addDomainToCart=p,t.addGoogleAppsRegistrationData=m,t.addItem=d,t.addItems=c,t.addPrivacyToAllDomains=l,t.applyCoupon=_,t.closeCartPopup=a,t.disableCart=i,t.openCartPopup=r,t.removeDomainFromCart=h,t.removeItem=f,t.removePrivacyFromAllDomains=u,t.showCartOnMobile=o},"./client/lib/upgrades/actions/checkout.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){c.default.handleViewAction({type:u.action.TRANSACTION_DOMAIN_DETAILS_SET,domainDetails:e})}function r(e){c.default.handleViewAction({type:u.action.TRANSACTION_PAYMENT_SET,payment:e})}function a(e){var t=e.rawDetails,n=e.maskedDetails;c.default.handleViewAction({type:u.action.TRANSACTION_NEW_CREDIT_CARD_DETAILS_SET,rawDetails:t,maskedDetails:n})}function o(e,t){var n=e.cart,s=e.transaction,i=p.default.submit({cart:n,payment:s.payment,domainDetails:s.domainDetails});i.on("data",function(e){c.default.handleViewAction({type:u.action.TRANSACTION_STEP_SET,step:e}),t&&"received-wpcom-response"===e.name&&t(e.error,e.data)})}function l(){c.default.handleViewAction({type:u.action.TRANSACTION_RESET})}Object.defineProperty(t,"__esModule",{value:!0}),t.submitTransaction=t.setPayment=t.setNewCreditCardDetails=t.setDomainDetails=t.resetTransaction=void 0;var u=n("./client/lib/upgrades/constants.js"),d=n("./client/dispatcher/index.js"),c=s(d),f=n("./client/lib/store-transactions/index.js"),p=s(f);t.resetTransaction=l,t.setDomainDetails=i,t.setNewCreditCardDetails=a,t.setPayment=r,t.submitTransaction=o},"./client/lib/upgrades/actions/domain-management.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=B.default.getByDomainName(e);t.needsUpdate&&(M.default.handleViewAction({type:A.action.EMAIL_FORWARDING_FETCH,domainName:e}),re.emailForwards(e,function(t,n){t?M.default.handleServerAction({type:A.action.EMAIL_FORWARDING_FETCH_FAILED,domainName:e}):M.default.handleServerAction({type:A.action.EMAIL_FORWARDING_FETCH_COMPLETED,domainName:e,forwards:n.forwards})}))}function r(e,t,n,s){re.addEmailForward(e,t,n,function(r){r||(M.default.handleServerAction({type:A.action.EMAIL_FORWARDING_ADD_COMPLETED,domainName:e,mailbox:t,destination:n}),i(e)),s(r)})}function a(e,t,n){re.deleteEmailForward(e,t,function(s){s||(M.default.handleServerAction({type:A.action.EMAIL_FORWARDING_DELETE_COMPLETED,domainName:e,mailbox:t}),i(e)),n(s)})}function o(e,t,n){re.resendVerificationEmailForward(e,t,n)}function l(e){(0,R.isInitialized)(U.default.get(),e)||M.default.handleViewAction({type:A.action.DOMAINS_INITIALIZE,siteId:e});var t=U.default.getBySite(e);t.isFetching||(M.default.handleViewAction({type:A.action.DOMAINS_FETCH,siteId:e}),re.site(e).domains(function(t,n){t?M.default.handleServerAction({type:A.action.DOMAINS_FETCH_FAILED,siteId:e,error:t}):M.default.handleServerAction({type:A.action.DOMAINS_FETCH_COMPLETED,siteId:e,domains:L.default.createDomainObjects(n.domains)})}))}function u(e){var t=X.default.getByDomainName(e);t.needsUpdate&&(M.default.handleViewAction({type:A.action.WHOIS_FETCH,domainName:e}),re.fetchWhois(e,function(t,n){t?M.default.handleServerAction({type:A.action.WHOIS_FETCH_FAILED,domainName:e}):M.default.handleServerAction({type:A.action.WHOIS_FETCH_COMPLETED,domainName:e,data:Q.default.createDomainWhois(n)})}))}function d(e,t,n,s){re.updateWhois(e,t,n,function(t,n){t||(M.default.handleServerAction({type:A.action.WHOIS_UPDATE_COMPLETED,domainName:e}),setTimeout(function(){M.default.handleServerAction({type:A.action.WHOIS_UPDATE_COMPLETED,domainName:e})},6e4)),s(t,n)})}function c(e){var t=N.default.getByDomainName(e);t.isFetching||t.hasLoadedFromServer||(M.default.handleViewAction({type:A.action.DNS_FETCH,domainName:e}),re.fetchDns(e,function(t,n){t?M.default.handleServerAction({type:A.action.DNS_FETCH_FAILED,domainName:e}):M.default.handleServerAction({type:A.action.DNS_FETCH_COMPLETED,records:n&&n.records,domainName:e})}))}function f(e,t,n){M.default.handleServerAction({type:A.action.DNS_ADD,domainName:e,record:t});var s=N.default.getByDomainName(e);re.updateDns(e,s.records,function(s){var i=s?A.action.DNS_ADD_FAILED:A.action.DNS_ADD_COMPLETED;M.default.handleServerAction({type:i,domainName:e,record:t}),n(s)})}function p(e,t,n){if(!(0,se.isBeingProcessed)(t)){M.default.handleServerAction({type:A.action.DNS_DELETE,domainName:e,record:t});var s=N.default.getByDomainName(e);re.updateDns(e,s.records,function(s){var i=s?A.action.DNS_DELETE_FAILED:A.action.DNS_DELETE_COMPLETED;M.default.handleServerAction({type:i,domainName:e,record:t}),n(s)})}}function m(e,t,n,s,i){re.applyDnsTemplate(e,t,n,s,function(t,n){t||M.default.handleServerAction({type:A.action.DNS_APPLY_TEMPLATE_COMPLETED,records:n&&n.records,domainName:e}),i(t)})}function h(e){var t=W.default.getByDomainName(e);t.isFetching||t.hasLoadedFromServer||(M.default.handleViewAction({type:A.action.NAMESERVERS_FETCH,domainName:e}),re.nameservers(e,function(t,n){t?M.default.handleServerAction({type:A.action.NAMESERVERS_FETCH_FAILED,domainName:e}):M.default.handleServerAction({type:A.action.NAMESERVERS_FETCH_COMPLETED,domainName:e,nameservers:n})}))}function _(e,t,n){var s=t.map(function(e){return{nameserver:e}});re.updateNameservers(e,{nameservers:s},function(s){s||M.default.handleServerAction({type:A.action.NAMESERVERS_UPDATE_COMPLETED,domainName:e,nameservers:t}),n(s)})}function g(e,t){re.resendIcannVerification(e,function(n){n||M.default.handleServerAction({type:A.action.ICANN_VERIFICATION_RESEND_COMPLETED,domainName:e}),t(n)})}function b(e){M.default.handleViewAction({type:A.action.SITE_REDIRECT_NOTICE_CLOSE,siteId:e})}function y(e){M.default.handleViewAction({type:A.action.SITE_REDIRECT_FETCH,siteId:e}),re.getSiteRedirect(e,function(t,n){n&&n.location?M.default.handleServerAction({type:A.action.SITE_REDIRECT_FETCH_COMPLETED,location:n.location,siteId:e}):t&&t.message?M.default.handleServerAction({type:A.action.SITE_REDIRECT_FETCH_FAILED,error:t.message,siteId:e}):M.default.handleServerAction({type:A.action.SITE_REDIRECT_FETCH_FAILED,error:I.default.translate("There was a problem retrieving the redirect settings. Please try again later or contact support."),siteId:e})})}function v(e,t,n){M.default.handleViewAction({type:A.action.SITE_REDIRECT_UPDATE,siteId:e}),re.setSiteRedirect(e,t,function(s,i){var r=!1;i&&i.success?(M.default.handleServerAction({type:A.action.SITE_REDIRECT_UPDATE_COMPLETED,location:t,siteId:e,success:I.default.translate("The redirect settings were updated successfully.")}),r=!0):s&&s.message?M.default.handleServerAction({type:A.action.SITE_REDIRECT_UPDATE_FAILED,error:s.message,siteId:e}):M.default.handleServerAction({type:A.action.SITE_REDIRECT_UPDATE_FAILED,error:I.default.translate("There was a problem updating the redirect settings. Please try again later or contact support."),siteId:e}),n(r)})}function E(e){var t=J.default.getByDomainName(e);t.needsUpdate&&(M.default.handleViewAction({type:A.action.WAPI_DOMAIN_INFO_FETCH,domainName:e}),re.fetchWapiDomainInfo(e,function(t,n){return t?void M.default.handleServerAction({type:A.action.WAPI_DOMAIN_INFO_FETCH_FAILED,error:t,domainName:e}):void M.default.handleServerAction({type:A.action.WAPI_DOMAIN_INFO_FETCH_COMPLETED,status:G.default.createDomainObject(n),domainName:e})}))}function j(e,t){var n=e.siteId,s=e.domainName,i=e.unlock,r=e.disablePrivacy;re.requestTransferCode(e,function(e){return e?void t(e):(M.default.handleServerAction({type:A.action.DOMAIN_TRANSFER_CODE_REQUEST_COMPLETED,siteId:n,domainName:s,unlock:i,disablePrivacy:r}),void t(null))})}function S(e,t){re.cancelTransferRequest(e,function(n){return n?void t(n):(M.default.handleServerAction({type:A.action.DOMAIN_TRANSFER_CANCEL_REQUEST_COMPLETED,domainName:e.domainName,locked:e.lockDomain}),e.enablePrivacy&&M.default.handleServerAction({type:A.action.PRIVACY_PROTECTION_ENABLE_COMPLETED,siteId:e.siteId,domainName:e.domainName}),void t(null))})}function x(e,t){var n=e.siteId,s=e.domainName;re.enablePrivacyProtection(s,function(e){return e?void t(e):(M.default.handleServerAction({type:A.action.PRIVACY_PROTECTION_ENABLE_COMPLETED,siteId:n,domainName:s}),void t(null))})}function T(e,t){re.acceptTransfer(e,function(n){return n?void t(n):(M.default.handleServerAction({type:A.action.DOMAIN_TRANSFER_ACCEPT_COMPLETED,domainName:e}),void t(null))})}function C(e,t){re.declineTransfer(e,function(n){return n?void t(n):(M.default.handleServerAction({type:A.action.DOMAIN_TRANSFER_DECLINE_COMPLETED,domainName:e}),void t(null))})}Object.defineProperty(t,"__esModule",{value:!0}),t.updateWhois=t.updateSiteRedirect=t.updateNameservers=t.setPrimaryDomain=t.resendVerificationEmailForwarding=t.resendIcannVerification=t.requestTransferCode=t.fetchWhois=t.fetchWapiDomainInfo=t.fetchSiteRedirect=t.fetchNameservers=t.fetchEmailForwarding=t.fetchDomains=t.fetchDns=t.enablePrivacyProtection=t.deleteEmailForwarding=t.deleteDns=t.declineTransfer=t.closeSiteRedirectNotice=t.cancelTransferRequest=t.applyDnsTemplate=t.addEmailForwarding=t.addDns=t.acceptTransfer=void 0;var k=n("./node_modules/lodash/lodash.js"),w=n("./node_modules/i18n-calypso/index.js"),I=s(w),A=n("./client/lib/upgrades/constants.js"),R=n("./client/lib/domains/index.js"),P=n("./client/dispatcher/index.js"),M=s(P),D=n("./client/lib/domains/dns/store.js"),N=s(D),O=n("./client/lib/domains/assembler.js"),L=s(O),F=n("./client/lib/domains/store.js"),U=s(F),q=n("./client/lib/domains/email-forwarding/store.js"),B=s(q),V=n("./client/lib/domains/nameservers/store.js"),W=s(V),z=n("./client/state/sites/actions.js"),H=n("./client/lib/domains/wapi-domain-info/assembler.js"),G=s(H),Y=n("./client/lib/domains/wapi-domain-info/store.js"),J=s(Y),K=n("./client/lib/domains/whois/assembler.js"),Q=s(K),$=n("./client/lib/domains/whois/store.js"),X=s($),Z=n("./client/lib/wp/browser.js"),ee=s(Z),te=n("./node_modules/debug/browser.js"),ne=s(te),se=n("./client/lib/domains/dns/index.js"),ie=(0,ne.default)("actions:domain-management"),re=ee.default.undocumented(),ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.noop;return function(s){ie("setPrimaryDomain",e,t),M.default.handleViewAction({type:A.action.PRIMARY_DOMAIN_SET,siteId:e}),re.setPrimaryDomain(e,t,function(i,r){return i?(M.default.handleServerAction({type:A.action.PRIMARY_DOMAIN_SET_FAILED,error:i&&i.message||I.default.translate("There was a problem setting the primary domain. Please try again later or contact support."),siteId:e,domainName:t}),n(i,r)):void(0,z.requestSite)(e)(s).then(function(){M.default.handleServerAction({type:A.action.PRIMARY_DOMAIN_SET_COMPLETED,siteId:e,domainName:t}),n(null,r),l(e)})})}};t.acceptTransfer=T,t.addDns=f,t.addEmailForwarding=r,t.applyDnsTemplate=m,t.cancelTransferRequest=S,t.closeSiteRedirectNotice=b,t.declineTransfer=C,t.deleteDns=p,t.deleteEmailForwarding=a,t.enablePrivacyProtection=x,t.fetchDns=c,t.fetchDomains=l,t.fetchEmailForwarding=i,t.fetchNameservers=h,t.fetchSiteRedirect=y,t.fetchWapiDomainInfo=E,t.fetchWhois=u,t.requestTransferCode=j,t.resendIcannVerification=g,t.resendVerificationEmailForwarding=o,t.setPrimaryDomain=ae,t.updateNameservers=_,t.updateSiteRedirect=v,t.updateWhois=d},"./client/lib/upgrades/actions/domain-search.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){d.get().is_valid_google_apps_country&&(0,u.canAddGoogleApps)(e.domain_name)?(0,a.default)("/domains/add/"+e.domain_name+"/google-apps/"+t):(0,a.default)("/checkout/"+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.goToDomainCheckout=void 0;var r=n("./node_modules/page/index.js"),a=s(r),o=n("./client/lib/user/index.js"),l=s(o),u=n("./client/lib/domains/index.js"),d=(0,l.default)();t.goToDomainCheckout=i},"./client/lib/upgrades/actions/free-trials.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=(0,a.fillInAllCartItemAttributes)(e,c.get()),s={payment:(0,u.fullCreditsPayment)()};(0,d.submitTransaction)({cart:n,transaction:s},t)}function r(e,t,n){var s=(0,a.emptyCart)(e,{temporary:!0}),r=a.cartItems.getItemForPlan(t,{isFreeTrial:!0});s=a.cartItems.add(r)(s),i(s,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.startFreeTrial=r;var a=n("./client/lib/cart-values/index.js"),o=n("./client/lib/products-list/index.js"),l=s(o),u=n("./client/lib/store-transactions/index.js"),d=n("./client/lib/upgrades/actions/checkout.js"),c=(0,l.default)()},"./client/lib/upgrades/actions/index.js":function(e,t,n){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),a=i(r),o=n("./client/lib/upgrades/actions/cart.js"),l=s(o),u=n("./client/lib/upgrades/actions/checkout.js"),d=s(u),c=n("./client/lib/upgrades/actions/free-trials.js"),f=s(c),p=n("./client/lib/upgrades/actions/domain-management.js"),m=s(p),h=n("./client/lib/upgrades/actions/domain-search.js"),_=s(h),g=n("./client/lib/upgrades/actions/purchases.js"),b=s(g);t.default=(0,a.default)({},l,d,f,m,_,b),e.exports=t.default},"./client/lib/upgrades/actions/purchases.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){m.cancelPurchase(e,function(e,n){p(e,n);var s=!e&&n.success;t(s)})}function r(e,t,n){m.cancelAndRefundPurchase(e,t,n)}function a(e,t,n){var s=d.default.marketing().survey(e,t);s.addResponses(n),p("Survey responses",s),s.submit().then(function(e){p("Survey submit response",e),e.success||f.default.error(e.err)}).catch(function(e){return p(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.submitSurvey=t.cancelPurchase=t.cancelAndRefundPurchase=void 0;var o=n("./node_modules/debug/browser.js"),l=s(o),u=n("./client/lib/wp/browser.js"),d=s(u),c=n("./client/notices/index.js"),f=s(c),p=(0,l.default)("calypso:upgrades:actions:purchases"),m=d.default.undocumented();t.cancelAndRefundPurchase=r,t.cancelPurchase=i,t.submitSurvey=a},"./client/lib/url/support.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="https://support.wordpress.com";t.default={ACCOUNT_RECOVERY:s+"/account-recovery",ADDING_GOOGLE_APPS_TO_YOUR_SITE:s+"/adding-g-suite-to-your-site",ADDING_USERS:s+"/adding-users",ALL_ABOUT_DOMAINS:s+"/all-about-domains",AUTO_RENEWAL:s+"/auto-renewal",BANDPAGE_WIDGET:s+"/widgets/bandpage-widget",CATEGORIES_VS_TAGS:s+"/posts/categories-vs-tags",CHANGE_NAME_SERVERS:s+"/domains/change-name-servers",CHANGE_NAME_SERVERS_FINDING_OUT_NEW_NS:s+"/domains/change-name-servers/#finding-out-your-new-name-server",COMMENTS:s+"/category/comments",COMMUNITY_TRANSLATOR:s+"/community-translator",COMPLETING_GOOGLE_APPS_SIGNUP:s+"/adding-g-suite-to-your-site/#completing-sign-up",CONNECT:s+"/connect",CONTACT:s+"/contact",CALYPSO_CONTACT:"/help/contact",CALYPSO_COURSES:"/help/courses",CREATE:s+"/create",CUSTOM_DNS:s+"/domains/custom-dns",DESIGNATED_AGENT:s+"/designated-agent/",DOMAIN_HELPER_PREFIX:s+"/domain-helper/?host=",DOMAIN_REGISTRATION_AGREEMENTS:s+"/domain-registration-agreements/",DOMAINS:s+"/domains",EMAIL_FORWARDING:s+"/email-forwarding",EMAIL_VALIDATION_AND_VERIFICATION:s+"/domains/register-domain/#email-validation-and-verification",EMPTY_SITE:s+"/empty-site/",ENABLE_DISABLE_COMMENTS:s+"/enable-disable-comments",EVENTBRITE:s+"/eventbrite",EVENTBRITE_EVENT_CALENDARLISTING_WIDGET:s+"/widgets/eventbrite-event-calendarlisting-widget",EXPORT:s+"/export",FACEBOOK_EMBEDS:s+"/facebook-integration/facebook-embeds",FACEBOOK_LIKE_BOX:s+"/facebook-integration/#facebook-like-box",FOLLOWERS:s+"/followers",GETTING_MORE_VIEWS_AND_TRAFFIC:s+"/getting-more-views-and-traffic",GOOGLE_ANALYTICS:s+"/google-analytics",GOOGLE_APPS_LEARNING_CENTER:"https://gsuite.google.com/learning-center/",GOOGLE_PLUS_EMBEDS:s+"/google-plus-embeds",GRAVATAR_HOVERCARDS:s+"/gravatar-hovercards",GUIDED_TRANSFER:s+"/guided-transfer",IMPORT:s+"/import",INSTAGRAM_WIDGET:s+"/instagram/instagram-widget",JETPACK_SUPPORT:"https://jetpack.com/support/",JETPACK_CONTACT_SUPPORT:"https://jetpack.com/contact-support/?rel=support",JETPACK_SERVICE_VAULTPRESS:"https://help.vaultpress.com/",JETPACK_SERVICE_AKISMET:"https://akismet.com/support/",JETPACK_SERVICE_POLLDADDY:"https://support.polldaddy.com/",LIVE_CHAT:s+"/live-chat",MANAGE_PURCHASES:s+"/manage-purchases",MAP_EXISTING_DOMAIN:s+"/domains/map-existing-domain",MAP_EXISTING_DOMAIN_UPDATE_DNS:s+"/domains/map-existing-domain#2-ask-your-domain-provider-to-update-your-dns-settings",MAP_SUBDOMAIN:s+"/domains/map-subdomain",MEDIA:s+"/media",PUBLICIZE:s+"/publicize",PUBLIC_VS_PRIVATE:s+"/domains/register-domain/#public-versus-private",REFUNDS:s+"/refunds",REGISTER_DOMAIN:s+"/domains/register-domain/",SEO_TAGS:s+"/getting-more-views-and-traffic/#use-appropriate-tags",SETTING_PRIMARY_DOMAIN:s+"/domains/#setting-the-primary-domain",SETTING_UP_PREMIUM_SERVICES:s+"/setting-up-premium-services",STRONG_PASSWORD:s+"/selecting-a-strong-password/",SHARING:s+"/sharing",START:s+"/start",STATS_CLICKS:s+"/stats/#clicks",STATS_REFERRERS:s+"/stats/#referrers",STATS_SEO_TERMS:s+"/stats/#search-engine-terms",STATS_SPAM_REFERRER:s+"/stats/#marking-spam-referrers",STATS_TOP_POSTS_PAGES:s+"/stats/#top-posts-pages",STATS_VIEWS_BY_COUNTRY:s+"/stats/#views-by-country",SUPPORT_ROOT:s+"/",TRANSFER_DOMAIN_REGISTRATION:s+"/transfer-domain-registration",TWITTER_TIMELINE_WIDGET:s+"/widgets/twitter-timeline-widget",UPDATE_CONTACT_INFORMATION:s+"/update-contact-information/",UPDATE_NAMESERVERS:s+"/domains/domain-management/#update-nameservers",USERS:s+"/category/users",USER_ROLES:s+"/user-roles",VIDEOS:s+"/videos",WPCC:s+"/wpcc-faq"},e.exports=t.default},"./client/lib/wporg/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(){var e,t;return e=l.default.getLocaleSlug(),t=(0,c.find)((0,h.default)("languages"),{langSlug:e}).wpLocale,""===t&&(t=e),t}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/debug/browser.js"),a=s(r),o=n("./node_modules/i18n-calypso/index.js"),l=s(o),u=n("./node_modules/superagent/lib/client.js"),d=s(u),c=n("./node_modules/lodash/lodash.js"),f=n("./client/lib/wporg/jsonp.js"),p=s(f),m=n("./client/config/index.js"),h=s(m),_=(0,a.default)("wporg"),g="https://api.wordpress.org/plugins/info/1.1/?action=query_plugins",b=24,y="all",v=1,E="https://api.wordpress.org/themes/info/1.1/";t.default={fetchPluginInformation:function(e,t){var n,s={fields:"icons,banners,compatibility,ratings,-contributors",locale:i()};e=e.replace(new RegExp(".php$"),""),n="https://api.wordpress.org/plugins/info/1.0/"+e+".jsonp",(0,p.default)(n,s,function(e,n){return e?(_("error downloading plugin details from .org: %s",e),void t(e,null)):n&&n.slug?void t(null,n):(_("unrecognized format fetching plugin details from .org: %s",n),void t(new Error("Unrecognized response format"),null))})},fetchPluginsList:function(e,t){var n;e.page=e.page||v,e.pageSize=e.pageSize||b,e.category=e.category||y,e.search=e.search,n="request[page]="+e.page+"&request[per_page]="+e.pageSize+"&request[fields][icons]=1&request[fields][banners]=1&request[fields][compatibility]=1&request[fields][tested]=0&request[fields][requires]=0&request[fields][sections]=0",n+=e.search?"&request[search]="+e.search:"&request[browse]="+e.category,d.default.post(g).set("Accept","application/json").send(encodeURI(n)).end(function(e,n){t(e,n.body)})},fetchThemeInformation:function(e){var t={action:"theme_information","request[fields][extended_author]":!0,"request[slug]":e};return d.default.get(E).set("Accept","application/json").query(t).then(function(e){var t=e.body;return t})},fetchThemesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.search,n=e.page,s=e.number,i={action:"query_themes","request[fields][extended_author]":!0,"request[search]":t,"request[page]":n,"request[per_page]:":s};return d.default.get(E).set("Accept","application/json").query(i).then(function(e){var t=e.body;return t})}},e.exports=t.default},"./client/lib/wporg/jsonp.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(){}function r(e,t,n){function s(){a.parentNode&&a.parentNode.removeChild(a),window[l]=i,o&&clearTimeout(o)}function r(){window[l]&&s()}var a,o,l,f="__jp",p=6e4,m=encodeURIComponent,h=document.getElementsByTagName("script")[0]||document.head;return l=f+c++,p&&(o=setTimeout(function(){s(),n&&n(new Error("Timeout"))},p)),window[l]=function(e){d("jsonp got",e),s(),n&&n(null,e)},e+="="+m(l)+"?"+u.default.stringify(t),d('jsonp req "%s"',e),a=document.createElement("script"),a.src=e,h.parentNode.insertBefore(a,h),r}Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/debug/browser.js"),o=s(a),l=n("./node_modules/qs/lib/index.js"),u=s(l),d=(0,o.default)("jsonp");t.default=r;var c=0;e.exports=t.default},"./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentNavigationTab=void 0;var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/classnames/index.js"),o=s(a),l=t.CommentNavigationTab=function(e){var t=e.children,n=e.className,s=e.onClick;return r.default.createElement("div",{className:(0,o.default)("comment-navigation__tab",n),onClick:s},t)};t.default=l},"./client/my-sites/sidebar-navigation/sidebar-navigation.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/i18n-calypso/index.js"),l=n("./client/components/sidebar-navigation/index.jsx"),u=s(l),d=n("./client/blocks/site-icon/index.jsx"),c=s(d),f=n("./client/state/ui/selectors.js"),p=function(e){var t=e.site,n=e.translate,s=n("All Sites"),i="all-sites";return t&&(s=t.title,i=null),r.default.createElement(u.default,{linkClassName:i,sectionName:"site",sectionTitle:s},t&&r.default.createElement(c.default,{site:t}))};t.default=(0,a.connect)(function(e){return{site:(0,f.getSelectedSite)(e)}})((0,o.localize)(p)),e.exports=t.default},"./client/my-sites/site-settings/action-panel/body.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=function(e){var t=e.children;return r.default.createElement("div",{className:"settings-action-panel__body"},t)};t.default=a,e.exports=t.default},"./client/my-sites/site-settings/action-panel/figure.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/prop-types/index.js"),r=s(i),a=n("./node_modules/react/react.js"),o=s(a),l=n("./node_modules/classnames/index.js"),u=s(l),d=function(e){var t=e.inlineBodyText,n=e.children,s=(0,u.default)({"settings-action-panel__figure":!0,"is-inline-body-text":t});return o.default.createElement("div",{className:s},n)};d.propTypes={inlineBodyText:r.default.bool},d.defaultProps={inlineBodyText:!1},t.default=d,e.exports=t.default},"./client/my-sites/site-settings/action-panel/footer.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=function(e){var t=e.children;return r.default.createElement("div",{className:"settings-action-panel__footer"},t)};t.default=a,e.exports=t.default},"./client/my-sites/site-settings/action-panel/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./client/components/card/index.jsx"),o=s(a),l=function(e){var t=e.children;return r.default.createElement(o.default,{className:"settings-action-panel"},t)};t.default=l,e.exports=t.default},"./client/my-sites/site-settings/action-panel/title.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=function(e){var t=e.children;return r.default.createElement("h2",{className:"settings-action-panel__title"},t)};t.default=a,e.exports=t.default},"./client/my-sites/site-settings/controller.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=(0,O.default)(e,t,"manage_options");return!(!t||!n)&&(!((0,D.isJetpackSite)(e,t)&&!(0,F.default)(e,t))&&!(0,q.default)(e,t))}function r(e,t){(0,x.renderWithReduxStore)(t,document.getElementById("primary"),e.store)}Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/page/index.js"),o=s(a),l=n("./node_modules/react/react.js"),u=s(l),d=n("./node_modules/react-dom/index.js"),c=s(d),f=n("./client/components/async-load/index.jsx"),p=s(f),m=n("./client/config/index.js"),h=s(m),_=n("./client/my-sites/site-settings/delete-site/index.jsx"),g=s(_),b=n("./client/my-sites/site-settings/disconnect-site/confirm.jsx"),y=s(b),v=n("./client/my-sites/site-settings/disconnect-site/index.jsx"),E=s(v),j=n("./client/me/purchases/paths.js"),S=s(j),x=n("./client/lib/react-helpers/index.js"),T=n("./client/my-sites/site-settings/main.jsx"),C=s(T),k=n("./client/my-sites/site-settings/start-over.jsx"),w=s(k),I=n("./client/my-sites/site-settings/theme-setup/index.jsx"),A=s(I),R=n("./client/my-sites/site-settings/manage-connection/index.jsx"),P=s(R),M=n("./client/state/ui/selectors.js"),D=n("./client/state/sites/selectors.js"),N=n("./client/state/selectors/can-current-user.js"),O=s(N),L=n("./client/state/selectors/is-site-automated-transfer.js"),F=s(L),U=n("./client/state/selectors/is-vip-site.js"),q=s(U),B=n("./client/state/action-types.js"),V=n("./client/state/ui/actions.js"),W=function(e){n.e("async-load-my-sites-site-settings-section-import").then(function(t){e(n("./client/my-sites/site-settings/section-import.jsx").__esModule?n("./client/my-sites/site-settings/section-import.jsx").default:n("./client/my-sites/site-settings/section-import.jsx"))}.bind(null,n)).catch(n.oe)},z=function(e){n.e("async-load-my-sites-site-settings-section-export").then(function(t){e(n("./client/my-sites/site-settings/section-export.jsx").__esModule?n("./client/my-sites/site-settings/section-export.jsx").default:n("./client/my-sites/site-settings/section-export.jsx"))}.bind(null,n)).catch(n.oe)},H=function(e){n.e("async-load-my-sites-guided-transfer").then(function(t){e(n("./client/my-sites/guided-transfer/index.js").__esModule?n("./client/my-sites/guided-transfer/index.js").default:n("./client/my-sites/guided-transfer/index.js"))}.bind(null,n)).catch(n.oe)},G={redirectToGeneral:function(){o.default.redirect("/settings/general")},redirectIfCantDeleteSite:function(e){var t=e.store.getState(),n=e.store.dispatch,s=(0,M.getSelectedSiteId)(t),r=(0,M.getSelectedSiteSlug)(t);return s&&!i(t,s)?o.default.redirect("/settings/general/"+r):void(s||n({type:B.SITES_ONCE_CHANGED,listener:function(){var t=e.store.getState(),n=(0,M.getSelectedSiteId)(t),s=(0,M.getSelectedSiteSlug)(t);if(!i(t,n))return o.default.redirect("/settings/general/"+s)}}))},general:function(e){r(e,u.default.createElement(C.default,null))},importSite:function(e){r(e,u.default.createElement(p.default,{require:W}))},exportSite:function(e){r(e,u.default.createElement(p.default,{require:z}))},guidedTransfer:function(e){r(e,u.default.createElement(p.default,{require:H,hostSlug:e.params.host_slug}))},deleteSite:function(e){var t=G.redirectIfCantDeleteSite;t(e),r(e,u.default.createElement(g.default,{path:e.path}))},disconnectSite:function(e){c.default.unmountComponentAtNode(document.getElementById("secondary")),e.store.dispatch((0,V.setSection)(null,{hasSidebar:!1})),r(e,u.default.createElement(E.default,{reason:e.params.reason}))},disconnectSiteConfirm:function(e){var t=e.query,n=t.reason,s=t.text;c.default.unmountComponentAtNode(document.getElementById("secondary")),e.store.dispatch((0,V.setSection)(null,{hasSidebar:!1})),r(e,u.default.createElement(y.default,{reason:n,text:s}))},startOver:function(e){var t=G.redirectIfCantDeleteSite;t(e),r(e,u.default.createElement(w.default,{path:e.path}))},themeSetup:function(e){var t=(0,M.getSelectedSite)(e.store.getState());return t&&t.jetpack?o.default.redirect("/settings/general/"+t.slug):h.default.isEnabled("settings/theme-setup")?void r(e,u.default.createElement(A.default,null)):o.default.redirect("/settings/general/"+t.slug)},manageConnection:function(e){r(e,u.default.createElement(P.default,null))},legacyRedirects:function(e,t){var n=e.params.section,s={account:"/me/account",password:"/me/security","public-profile":"/me/public-profile",notifications:"/me/notifications",disbursements:"/me/public-profile",earnings:"/me/public-profile","billing-history":S.default.billingHistory(),"billing-history-v2":S.default.billingHistory(),"connected-apps":"/me/security/connected-applications"
};return e?s[n]?o.default.redirect(s[n]):void t():(0,o.default)("/me/public-profile")}};t.default=G,e.exports=t.default},"./client/my-sites/site-settings/delete-site-warning-dialog/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/prop-types/index.js"),r=s(i),a=n("./node_modules/react/react.js"),o=s(a),l=n("./node_modules/i18n-calypso/index.js"),u=s(l),d=n("./client/components/dialog/index.jsx"),c=s(d),f=n("./client/me/purchases/paths.js"),p=s(f),m=function(e){var t=e.isVisible,n=e.onClose;return o.default.createElement(c.default,{isVisible:t,buttons:[{action:"dismiss",label:u.default.translate("Dismiss")},o.default.createElement("a",{className:"button is-primary",href:p.default.purchasesRoot()},u.default.translate("Manage Purchases",{context:"button label"}))],onClose:n,className:"delete-site-warning-dialog"},o.default.createElement("h1",null,u.default.translate("Premium Upgrades")),o.default.createElement("p",null,u.default.translate("You have active premium upgrades on your site. Please cancel your upgrades prior to deleting your site.")))};m.propTypes={isVisible:r.default.bool.isRequired,onClose:r.default.func.isRequired},t.default=m,e.exports=t.default},"./client/my-sites/site-settings/delete-site/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/react-redux/es/index.js"),y=n("./node_modules/page/index.js"),v=s(y),E=n("./node_modules/lodash/lodash.js"),j=n("./node_modules/gridicons/build/index.js"),S=s(j),x=n("./node_modules/i18n-calypso/index.js"),T=n("./client/components/header-cake/index.jsx"),C=s(T),k=n("./client/my-sites/site-settings/action-panel/index.jsx"),w=s(k),I=n("./client/my-sites/site-settings/action-panel/title.jsx"),A=s(I),R=n("./client/my-sites/site-settings/action-panel/body.jsx"),P=s(R),M=n("./client/my-sites/site-settings/action-panel/figure.jsx"),D=s(M),N=n("./client/my-sites/site-settings/action-panel/footer.jsx"),O=s(N),L=n("./client/components/button/index.jsx"),F=s(L),U=n("./client/my-sites/site-settings/delete-site-warning-dialog/index.jsx"),q=s(U),B=n("./client/components/dialog/index.jsx"),V=s(B),W=n("./client/state/purchases/selectors.js"),z=n("./client/state/ui/selectors.js"),H=n("./client/state/sites/selectors.js"),G=n("./client/components/notice/index.jsx"),Y=s(G),J=n("./client/components/data/query-site-purchases/index.jsx"),K=s(J),Q=n("./client/state/sites/actions.js"),$=n("./client/state/ui/actions.js"),X=n("./client/state/selectors/is-site-automated-transfer.js"),Z=s(X),ee=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.state={confirmDomain:"",showConfirmDialog:!1,showWarningDialog:!1},s.handleDeleteSiteClick=function(e){if(e.preventDefault(),s.props.hasLoadedSitePurchasesFromServer){var t=(0,E.some)(s.props.sitePurchases,"active");t?s.setState({showWarningDialog:!0}):s.setState({showConfirmDialog:!0})}},s.closeConfirmDialog=function(){s.setState({showConfirmDialog:!1})},s.closeWarningDialog=function(){s.setState({showWarningDialog:!1})},s._goBack=function(){var e=s.props.siteSlug;(0,v.default)("/settings/general/"+e)},s._deleteSite=function(){var e=s.props.siteId;s.setState({showConfirmDialog:!1}),s.props.deleteSite(e)},s._checkSiteLoaded=function(e){var t=s.props.siteId;t||e.preventDefault()},s.onConfirmDomainChange=function(e){s.setState({confirmDomain:e.target.value})},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"renderNotice",value:function(){var e=this.props,t=e.siteDomain,n=e.translate;return t?h.default.createElement(Y.default,{status:"is-warning",showDismiss:!1},n("{{strong}}%(siteDomain)s{{/strong}} will be unavailable in the future.",{components:{strong:h.default.createElement("strong",null)},args:{siteDomain:t}})):null}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.siteId,s=t.siteExists;n&&s&&!e.siteExists&&(this.props.setSelectedSiteId(null),v.default.redirect("/stats"))}},{key:"render",value:function(){var e=this.props,t=e.isAtomic,n=e.siteDomain,s=e.siteId,i=e.siteSlug,r=e.translate,a="/settings/export/"+i,o="string"!=typeof this.state.confirmDomain||this.state.confirmDomain.toLowerCase().replace(/\s/g,"")!==n,l=[h.default.createElement(F.default,{onClick:this.closeConfirmDialog},r("Cancel")),h.default.createElement(F.default,{primary:!0,scary:!0,disabled:o,onClick:this._deleteSite},r("Delete this Site"))],u={confirmDeleteSite:r("Confirm Delete Site"),contactSupport:r("Contact Support"),deleteSite:r("Delete Site"),exportContent:r("Export Content"),exportContentFirst:r("Export Content First")};return h.default.createElement("div",{className:"delete-site main main-column",role:"main"},s&&h.default.createElement(K.default,{siteId:s}),h.default.createElement(C.default,{onClick:this._goBack},h.default.createElement("h1",null,u.deleteSite)),h.default.createElement(w.default,null,h.default.createElement(P.default,null,h.default.createElement(D.default,null,h.default.createElement("svg",{width:"158",height:"174",viewBox:"0 0 158 174",xmlns:"http://www.w3.org/2000/svg"},h.default.createElement("title",null,u.exportContent),h.default.createElement("g",{transform:"translate(0 -5)",fill:"none",fillRule:"evenodd"},h.default.createElement("rect",{fill:"#D5E5EB",x:"57",y:"157",width:"45",height:"22",rx:"4"}),h.default.createElement("text",{fontFamily:"Open Sans",fontSize:"11",fontWeight:"526",fill:"#FFF"},h.default.createElement("tspan",{x:"69.736",y:"172"},".ZIP")),h.default.createElement("path",{d:"M89.5 131.5h-6v-9h-9v9h-6L79 142l10.5-10.5zm-21 13.5v3h21v-3h-21z",fill:"#D5E5EB"}),h.default.createElement("path",{d:"M61 118h36v36H61v-36z"}),h.default.createElement("path",{d:"M.03 40.992l54.486-29.92 25.18 13.238-54.62 29.734L.032 40.992z",fill:"#D5E5EB"}),h.default.createElement("path",{d:"M157.9 40.992l-54.484-29.92-25.18 13.238 54.62 29.734L157.9 40.992z",fill:"#D5E5EB"}),h.default.createElement("path",{d:"M118.9 43.846c0 21.098-17.186 38.266-38.304 38.266-21.118 0-38.303-17.168-38.303-38.266S59.478 5.58 80.596 5.58 118.9 22.748 118.9 43.846zM65.55 74.81L49.132 29.837a34.013 34.013 0 0 0-2.992 14.008c0 13.624 7.952 25.367 19.41 30.963zM101.2 53.24c1.495-4.783 2.65-8.2 2.65-11.147 0-4.23-1.54-7.175-2.864-9.48-1.71-2.82-3.378-5.21-3.378-8.072 0-3.16 2.394-6.108 5.772-6.108l.47.042c-6.114-5.594-14.278-9.052-23.256-9.052-12.012 0-22.614 6.19-28.77 15.502l2.223.042c3.59 0 9.148-.427 9.148-.427 1.88-.086 2.094 2.605.256 2.86 0 0-1.88.214-3.976.3l12.568 37.284 7.525-22.593-5.344-14.692c-1.88-.085-3.633-.298-3.633-.298-1.84-.128-1.625-2.947.214-2.86 0 0 5.685.425 9.063.425 3.633 0 9.19-.427 9.19-.427 1.838-.086 2.094 2.605.215 2.86 0 0-1.84.214-3.934.3l12.44 36.985 3.422-11.446zM92.01 76.304c-.085-.172-.17-.3-.213-.47l-10.603-29L70.85 76.86c3.12.895 6.37 1.365 9.746 1.365 4.02 0 7.865-.683 11.414-1.92zm19.024-45.44c0 3.5-.643 7.43-2.608 12.342L97.91 73.57c10.216-5.936 17.098-17.04 17.098-29.724 0-5.98-1.495-11.616-4.188-16.528a31.01 31.01 0 0 1 .214 3.546z",fill:"#A8BECE"}),h.default.createElement("path",{d:"M133.263 53.938v37.715L79 113.728V76.014l54.263-22.076zM24.737 53.938v37.715L79 113.728V76.014L24.737 53.938z",fill:"#D5E5EB"}),h.default.createElement("path",{d:"M155.74 70.355L102.527 92.48 78.125 75.12l55.24-21.407 22.374 16.642z",stroke:"#FFF",strokeWidth:"2.4",fill:"#D5E5EB"}),h.default.createElement("path",{d:"M2.08 70.355L55.294 92.48l24.402-17.36-54.582-21.297L2.08 70.355z",stroke:"#FFF",strokeWidth:"2.4",fill:"#D5E5EB"})))),h.default.createElement(A.default,null,u.exportContentFirst),h.default.createElement("p",null,r("Before deleting your site, take a moment to export your content. This will package the content of all your posts and pages, along with your site's settings, into a .zip file. If you ever want to re-create your site, you'll be able to import the .zip file to a new site.")),h.default.createElement("p",null,r("This content {{strong}}can not{{/strong}} be recovered once your delete this site.",{components:{strong:h.default.createElement("strong",null)}}))),h.default.createElement(O.default,null,h.default.createElement(F.default,{className:"delete-site__export-button settings-action-panel__export-button",disabled:!s,onClick:this._checkSiteLoaded,href:a},u.exportContent,h.default.createElement(S.default,{icon:"external"})))),h.default.createElement(w.default,null,h.default.createElement(A.default,null,u.deleteSite),h.default.createElement(P.default,null,this.renderNotice(),h.default.createElement(D.default,null,h.default.createElement("h3",{className:"delete-site__content-list-header"},r("These items will be deleted")),h.default.createElement("ul",{className:"delete-site__content-list"},h.default.createElement("li",{className:"delete-site__content-list-item"},r("Posts")),h.default.createElement("li",{className:"delete-site__content-list-item"},r("Pages")),h.default.createElement("li",{className:"delete-site__content-list-item"},r("Media")),h.default.createElement("li",{className:"delete-site__content-list-item"},r("Users & Authors")),h.default.createElement("li",{className:"delete-site__content-list-item"},r("Domains")),h.default.createElement("li",{className:"delete-site__content-list-item"},r("Purchased Upgrades")))),!t&&h.default.createElement("div",null,h.default.createElement("p",null,r("Deletion {{strong}}can not{{/strong}} be undone, and will remove all content, contributors, domains, and upgrades from this site.",{components:{strong:h.default.createElement("strong",null)}})),h.default.createElement("p",null,r("If you're unsure about what deletion means or have any other questions, please chat with someone from our support team before proceeding.")),h.default.createElement("p",null,h.default.createElement("a",{className:"delete-site__body-text-link settings-action-panel__body-text-link",href:"/help/contact"},u.contactSupport))),t&&h.default.createElement("div",null,h.default.createElement("p",null,r("To delete this site, you'll need to contact our support team. Deletion can not be undone, and will remove all content, contributors, domains, and upgrades from this site.")),h.default.createElement("p",null,r("If you're unsure about what deletion means or have any other questions, you'll have a chance to chat with someone from our support team before anything happens.")))),h.default.createElement(O.default,null,!t&&h.default.createElement(F.default,{scary:!0,disabled:!s||!this.props.hasLoadedSitePurchasesFromServer,onClick:this.handleDeleteSiteClick},h.default.createElement(S.default,{icon:"trash"}),u.deleteSite),t&&h.default.createElement(F.default,{primary:!0,href:"/help/contact"},u.contactSupport)),h.default.createElement(q.default,{isVisible:this.state.showWarningDialog,onClose:this.closeWarningDialog}),h.default.createElement(V.default,{isVisible:this.state.showConfirmDialog,buttons:l,className:"delete-site__confirm-dialog"},h.default.createElement("h1",{className:"delete-site__confirm-header"},u.confirmDeleteSite),h.default.createElement("p",{className:"delete-site__confirm-paragraph"},r("Please type in {{warn}}%(siteAddress)s{{/warn}} in the field below to confirm. Your site will then be gone forever.",{components:{warn:h.default.createElement("span",{className:"delete-site__target-domain"})},args:{siteAddress:s&&n}})),h.default.createElement("input",{autoCapitalize:"off",className:"delete-site__confirm-input",type:"text",onChange:this.onConfirmDomainChange,value:this.state.confirmDomain}))))}}]),t}(m.Component);ee.propTypes={deleteSite:g.default.func.isRequired,hasLoadedSitePurchasesFromServer:g.default.bool,siteDomain:g.default.string,siteExists:g.default.bool,siteId:g.default.number,sitePurchases:g.default.array,siteSlug:g.default.string,translate:g.default.func.isRequired},t.default=(0,b.connect)(function(e){var t=(0,z.getSelectedSiteId)(e),n=(0,H.getSiteDomain)(e,t),s=(0,z.getSelectedSiteSlug)(e);return{hasLoadedSitePurchasesFromServer:(0,W.hasLoadedSitePurchasesFromServer)(e),isAtomic:(0,Z.default)(e,t),siteDomain:n,siteId:t,sitePurchases:(0,W.getSitePurchases)(e,t),siteSlug:s,siteExists:!!(0,H.getSite)(e,t)}},{deleteSite:Q.deleteSite,setSelectedSiteId:$.setSelectedSiteId})((0,x.localize)(ee)),e.exports=t.default},"./client/my-sites/site-settings/disconnect-site/confirm.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/react-redux/es/index.js"),y=n("./node_modules/lodash/lodash.js"),v=n("./node_modules/i18n-calypso/index.js"),E=n("./client/blocks/disconnect-jetpack/index.jsx"),j=s(E),S=n("./client/components/data/document-head/index.jsx"),x=s(S),T=n("./client/components/formatted-header/index.jsx"),C=s(T),k=n("./client/components/main/index.jsx"),w=s(k),I=n("./client/components/wizard/navigation-link.jsx"),A=s(I),R=n("./client/components/marketing-survey/cancel-purchase-form/enrichedSurveyData.js"),P=s(R),M=n("./client/lib/upgrades/actions/index.js"),D=n("./client/my-sites/site-settings/placeholder.jsx"),N=s(D),O=n("./client/my-sites/site-settings/redirect-non-jetpack/index.jsx"),L=s(O),F=n("./client/state/ui/selectors.js"),U=n("./client/state/sites/plans/selectors.js"),q=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.submitSurvey=function(){var e=s.props,t=e.moment,n=e.purchase,i=e.reason,r=e.site,a=e.siteId,o=e.text,l={"why-cancel":{response:(0,y.find)(s.constructor.reasonWhitelist,function(e){return e===i}),text:(0,y.isArray)(o)?o.join():o}};(0,M.submitSurvey)("calypso-disconnect-jetpack",a,(0,P.default)(l,t(),r,n))},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.reason,n=e.siteId,s=e.siteSlug,i=e.translate,r=(0,y.find)((0,y.without)(this.constructor.reasonWhitelist,"troubleshooting","other"),function(e){return e===t});return n?h.default.createElement(w.default,{className:"disconnect-site__confirm"},h.default.createElement(x.default,{title:i("Site Settings")}),h.default.createElement(C.default,{headerText:i("Confirm Disconnection"),subHeaderText:i("Confirm that you want to disconnect your site from WordPress.com.")}),h.default.createElement(j.default,{disconnectHref:"/stats",isBroken:!1,onDisconnectClick:this.submitSurvey,showTitle:!1,siteId:n,stayConnectedHref:"/settings/manage-connection/"+s}),h.default.createElement("div",{className:"disconnect-site__navigation-links"},h.default.createElement(A.default,{href:"/settings/disconnect-site/"+(0,y.compact)([r,s]).join("/"),direction:"back"}))):h.default.createElement(N.default,null)}}]),t}(m.PureComponent);q.propTypes={reason:g.default.string,text:g.default.oneOfType([g.default.string,g.default.arrayOf(g.default.string)]),moment:g.default.func,purchase:g.default.object,siteId:g.default.number,siteSlug:g.default.string,translate:g.default.func},q.reasonWhitelist=["missing-feature","too-difficult","too-expensive","troubleshooting","other"];var B=(0,b.connect)(function(e){var t=(0,F.getSelectedSiteId)(e);return{purchase:(0,U.getCurrentPlan)(e,t),site:(0,F.getSelectedSite)(e),siteId:t,siteSlug:(0,F.getSelectedSiteSlug)(e)}});t.default=(0,y.flowRight)(B,v.localize,(0,L.default)())(q),e.exports=t.default},"./client/my-sites/site-settings/disconnect-site/disconnect-survey.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/prop-types/index.js"),o=s(a),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/i18n-calypso/index.js"),d=n("./client/components/card/compact.jsx"),c=s(d),f=n("./client/components/data/query-site-plans/index.jsx"),p=s(f),m=n("./client/components/section-header/index.jsx"),h=s(m),_=n("./client/state/selectors/is-site-on-paid-plan.js"),g=s(_),b=n("./client/state/ui/selectors.js"),y=function(e){var t=e.confirmHref,n=e.isPaidPlan,s=e.siteId,i=e.siteSlug,a=e.translate;return r.default.createElement("div",{className:"disconnect-site__survey main"},r.default.createElement(p.default,{siteId:s}),r.default.createElement(h.default,{label:a("Would you mind sharing why you want to disconnect %(siteName)s from WordPress.com?",{args:{siteName:i}})}),r.default.createElement(c.default,{href:"/settings/disconnect-site/too-difficult/"+i},a("It was too hard to configure Jetpack.")),r.default.createElement(c.default,{href:"/settings/disconnect-site/missing-feature/"+i},a("A feature I need was missing.")),n&&r.default.createElement(c.default,{href:"/settings/disconnect-site/too-expensive/"+i},a("This plan is too expensive.")),r.default.createElement(c.default,{href:t+"?reason=troubleshooting"},a("Troubleshooting â€” I'll be reconnecting afterwards.")),r.default.createElement(c.default,{href:t+"?reason=other"},a("Another reasonâ€¦")))};y.propTypes={confirmHref:o.default.string,isPaidPlan:o.default.bool,siteId:o.default.number,siteSlug:o.default.string,translate:o.default.func},t.default=(0,l.connect)(function(e){var t=(0,b.getSelectedSiteId)(e);return{isPaidPlan:(0,g.default)(e,t),siteId:t,siteSlug:(0,b.getSelectedSiteSlug)(e)}})((0,u.localize)(y)),e.exports=t.default},"./client/my-sites/site-settings/disconnect-site/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.reasonComponents=void 0;var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/lodash/lodash.js"),l=n("./node_modules/i18n-calypso/index.js"),u=n("./client/my-sites/site-settings/disconnect-site/disconnect-survey.jsx"),d=s(u),c=n("./client/my-sites/site-settings/disconnect-site/missing-feature.jsx"),f=s(c),p=n("./client/my-sites/site-settings/disconnect-site/too-difficult.jsx"),m=s(p),h=n("./client/my-sites/site-settings/disconnect-site/too-expensive.jsx"),_=s(h),g=n("./client/my-sites/site-settings/disconnect-site/troubleshoot.jsx"),b=s(g),y=n("./client/components/data/document-head/index.jsx"),v=s(y),E=n("./client/components/formatted-header/index.jsx"),j=s(E),S=n("./client/components/wizard/navigation-link.jsx"),x=s(S),T=n("./client/state/ui/selectors.js"),C=n("./client/components/main/index.jsx"),k=s(C),w=n("./client/my-sites/site-settings/placeholder.jsx"),I=s(w),A=n("./client/my-sites/site-settings/redirect-non-jetpack/index.jsx"),R=s(A),P=t.reasonComponents={"missing-feature":f.default,"too-difficult":m.default,"too-expensive":_.default},M=function(e){var t=e.reason,n=e.siteSlug,s=e.translate;if(!n)return r.default.createElement(I.default,null);var i=(0,o.get)(P,t,d.default),a="/settings/disconnect-site/confirm/"+n,l="/settings/manage-connection/"+n;return t&&(l="/settings/disconnect-site/"+n),r.default.createElement("div",null,r.default.createElement(k.default,{className:"disconnect-site__site-settings"},r.default.createElement(v.default,{title:s("Site Settings")}),r.default.createElement(j.default,{headerText:s("Disconnect Site"),subHeaderText:s("We'd love to know why you're disconnecting â€” it will help us improve Jetpack.")}),r.default.createElement(i,{confirmHref:a}),r.default.createElement("div",{className:"disconnect-site__navigation-links"},r.default.createElement(x.default,{href:l,direction:"back"}),r.default.createElement(x.default,{href:a,direction:"forward"})),r.default.createElement(b.default,null)))},D=(0,a.connect)(function(e){return{siteSlug:(0,T.getSelectedSiteSlug)(e)}});t.default=(0,o.flowRight)(D,l.localize,(0,R.default)())(M)},"./client/my-sites/site-settings/disconnect-site/missing-feature.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/i18n-calypso/index.js"),g=n("./node_modules/lodash/lodash.js"),b=n("./client/components/button/index.jsx"),y=s(b),v=n("./client/components/card/index.jsx"),E=s(v),j=n("./client/components/section-header/index.jsx"),S=s(j),x=n("./client/components/token-field/index.jsx"),T=s(x),C=n("./client/lib/url/index.js"),k=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.state={tokens:[]},s.normalizeToken=function(e){var t=(0,g.findKey)(s.getSuggestions(),function(t){return t===e});return t?t:(0,g.toLower)(e)},s.handleTokenChange=function(e){s.setState({tokens:e})},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"getSuggestions",value:function(){var e=this.props.translate;return{themes:e("Themes"),seo:e("SEO"),ads:e("Ads"),ecommerce:e("Ecommerce")}}},{key:"render",value:function(){var e=this.props,t=e.confirmHref,n=e.translate,s=(0,g.values)(this.getSuggestions());return h.default.createElement("div",{className:"disconnect-site__missing-feature"},h.default.createElement(S.default,{label:n("Which feature(s) were you looking for?")}),h.default.createElement(E.default,null,h.default.createElement(T.default,{onChange:this.handleTokenChange,suggestions:s,value:this.state.tokens}),h.default.createElement(y.default,{disabled:(0,g.isEmpty)(this.state.tokens),href:(0,g.isEmpty)(this.state.tokens)?null:(0,C.addQueryArgs)({reason:"missing-feature",text:this.state.tokens.map(this.normalizeToken).sort()},t),primary:!0},n("Submit"))))}}]),t}(m.PureComponent);t.default=(0,_.localize)(k),e.exports=t.default},"./client/my-sites/site-settings/disconnect-site/too-difficult.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={backups:t("Backups"),security:t("Security Scanning"),antispam:t("Antispam"),stats:t("Stats"),publicize:t("Publicize"),subscriptions:t("Subscriptions"),other:t("Other")};return(0,u.get)({"is-free-plan":(0,u.pick)(n,["stats","publicize","subscriptions","other"]),"is-personal-plan":(0,u.pick)(n,["backups","antispam","stats","publicize","subscriptions","other"]),"is-premium-plan":n,"is-business-plan":n},e)}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/react.js"),a=s(r),o=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/i18n-calypso/index.js"),u=n("./node_modules/lodash/lodash.js"),d=n("./client/components/card/compact.jsx"),c=s(d),f=n("./client/components/data/query-site-plans/index.jsx"),p=s(f),m=n("./client/components/section-header/index.jsx"),h=s(m),_=n("./client/state/sites/selectors.js"),g=n("./client/state/ui/selectors.js"),b=n("./client/lib/plans/constants.js"),y=n("./client/lib/url/index.js"),v=function(e){var t=e.confirmHref,n=e.features,s=e.siteId,i=e.translate;return a.default.createElement("div",null,a.default.createElement(p.default,{siteId:s}),a.default.createElement(h.default,{label:i("Which feature or service caused you problems?")}),(0,u.map)(n,function(e,n){return a.default.createElement(c.default,{key:n,href:(0,y.addQueryArgs)({reason:"too-difficult",text:n},t)},e)}))};t.default=(0,l.localize)((0,o.connect)(function(e,t){var n=t.translate,s=(0,g.getSelectedSiteId)(e),r=(0,_.getSitePlanSlug)(e,s),a=(0,b.getPlanClass)(r);return{features:i(a,n),siteId:s}})(v)),e.exports=t.default},"./client/my-sites/site-settings/disconnect-site/too-expensive.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/i18n-calypso/index.js"),l=n("./client/components/card/compact.jsx"),u=s(l),d=n("./client/my-sites/site-settings/placeholder.jsx"),c=s(d),f=n("./client/components/data/query-site-plans/index.jsx"),p=s(f),m=n("./client/state/selectors/get-current-plan-purchase-id.js"),h=s(m),_=n("./client/state/sites/selectors.js"),g=n("./client/state/ui/selectors.js"),b=n("./client/lib/url/index.js"),y=function(e){var t=e.confirmHref,n=e.planPurchaseId,s=e.siteId,i=e.siteSlug,a=e.translate;return i&&n?r.default.createElement("div",null,r.default.createElement(p.default,{siteId:s}),r.default.createElement(u.default,{href:"/me/purchases/"+i+"/"+n},a("Manage your purchases")),r.default.createElement(u.default,{href:(0,b.addQueryArgs)({reason:"too-expensive"},t)},a("Proceed to disconnect"))):r.default.createElement("div",null,r.default.createElement(p.default,{siteId:s}),r.default.createElement(c.default,null))};t.default=(0,a.connect)(function(e){var t=(0,g.getSelectedSiteId)(e);return{planPurchaseId:(0,h.default)(e,t),siteId:t,siteSlug:(0,_.getSiteSlug)(e,t)}})((0,o.localize)(y)),e.exports=t.default},"./client/my-sites/site-settings/disconnect-site/troubleshoot.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/gridicons/build/index.js"),o=s(a),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/i18n-calypso/index.js"),d=n("./client/jetpack-connect/help-button.jsx"),c=s(d),f=n("./client/jetpack-connect/happychat-button.jsx"),p=s(f),m=n("./client/components/logged-out-form/link-item.jsx"),h=s(m),_=n("./client/components/logged-out-form/links.jsx"),g=s(_),b=n("./client/lib/route/add-query-args.js"),y=s(b),v=n("./client/state/analytics/actions.js"),E=n("./client/state/selectors/get-site-url.js"),j=s(E),S=n("./client/state/selectors/is-site-on-free-plan.js"),x=s(S),T=n("./client/state/ui/selectors.js"),C=function(e){var t=e.isFreePlan,n=e.siteUrl,s=e.trackDebugClick,i=e.trackSupportClick,a=e.translate;return r.default.createElement(g.default,null,r.default.createElement(h.default,{href:(0,y.default)({url:n},"https://jetpack.com/support/debug/"),onClick:s},r.default.createElement(o.default,{size:18,icon:"offline"})," ",a("Diagnose a connection problem")),t?r.default.createElement(c.default,{label:a("Get help from our Happiness Engineers"),onClick:i}):r.default.createElement(p.default,{label:a("Get help from our Happiness Engineers"),eventName:"calypso_jetpack_disconnect_chat_initiated"},r.default.createElement(c.default,{label:a("Get help from our Happiness Engineers"),onClick:i})))};t.default=(0,l.connect)(function(e){var t=(0,T.getSelectedSiteId)(e);return{siteUrl:(0,j.default)(e,t),isFreePlan:(0,x.default)(e,t)}},{trackDebugClick:(0,v.withAnalytics)((0,v.recordTracksEvent)("calypso_jetpack_disconnect_debug_click")),trackSupportClick:(0,v.withAnalytics)((0,v.recordTracksEvent)("calypso_jetpack_disconnect_support_click"))})((0,u.localize)(C)),e.exports=t.default},"./client/my-sites/site-settings/form-general.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/react-redux/es/index.js"),g=n("./node_modules/classnames/index.js"),b=s(g),y=n("./node_modules/gridicons/build/index.js"),v=s(y),E=n("./node_modules/lodash/lodash.js"),j=n("./client/my-sites/site-settings/wrap-settings-form.jsx"),S=s(j),x=n("./client/components/card/index.jsx"),T=s(x),C=n("./client/components/card/compact.jsx"),k=s(C),w=n("./client/components/button/index.jsx"),I=s(w),A=n("./client/components/language-picker/index.jsx"),R=s(A),P=n("./client/components/section-header/index.jsx"),M=s(P),D=n("./client/config/index.js"),N=s(D),O=n("./client/notices/index.js"),L=s(O),F=n("./client/components/forms/form-text-input/index.jsx"),U=s(F),q=n("./client/components/forms/form-fieldset/index.jsx"),B=s(q),V=n("./client/components/forms/form-legend/index.jsx"),W=s(V),z=n("./client/components/forms/form-label/index.jsx"),H=s(z),G=n("./client/components/forms/form-radio/index.jsx"),Y=s(G),J=n("./client/components/forms/form-toggle/compact.jsx"),K=s(J),Q=n("./client/components/forms/form-setting-explanation/index.jsx"),$=s(Q),X=n("./client/components/timezone/index.jsx"),Z=s(X),ee=n("./client/my-sites/site-settings/site-icon-setting/index.jsx"),te=s(ee),ne=n("./client/components/banner/index.jsx"),se=s(ne),ie=n("./client/lib/products-values/index.js"),re=n("./client/lib/plans/constants.js"),ae=n("./client/components/data/query-site-settings/index.js"),oe=s(ae),le=n("./client/state/sites/selectors.js"),ue=n("./client/state/ui/selectors.js"),de=n("./client/lib/formatting/index.js"),ce=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.onTimezoneSelect=function(e){s.props.updateFields({timezone_string:e})},s.trackUpgradeClick=function(){s.props.recordTracksEvent("calypso_upgrade_nudge_cta_click",{cta_name:"settings_site_address"})},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this._showWarning(this.props.site)}},{key:"siteOptions",value:function(){var e=this.props,t=e.translate,n=e.isRequestingSettings,s=e.fields,i=e.eventTracker,r=e.onChangeField,a=e.uniqueEventTracker;return h.default.createElement("div",{className:"site-settings__site-options"},h.default.createElement("div",{className:"site-settings__site-title-tagline"},h.default.createElement(B.default,null,h.default.createElement(H.default,{htmlFor:"blogname"},t("Site Title")),h.default.createElement(U.default,{name:"blogname",id:"blogname","data-tip-target":"site-title-input",type:"text",value:s.blogname||"",onChange:r("blogname"),disabled:n,onClick:i("Clicked Site Title Field"),onKeyPress:a("Typed in Site Title Field")})),h.default.createElement(B.default,null,h.default.createElement(H.default,{htmlFor:"blogdescription"},t("Site Tagline")),h.default.createElement(U.default,{name:"blogdescription",type:"text",id:"blogdescription","data-tip-target":"site-tagline-input",value:s.blogdescription||"",onChange:r("blogdescription"),disabled:n,onClick:i("Clicked Site Tagline Field"),onKeyPress:a("Typed in Site Tagline Field")
}),h.default.createElement($.default,null,t("In a few words, explain what this site is about.")))),h.default.createElement(te.default,null))}},{key:"blogAddress",value:function(){var e=this.props,t=e.site,n=e.siteIsJetpack,s=e.siteSlug,i=e.translate,r="",a="";return!t||n?null:(N.default.isEnabled("upgrades/domain-search")&&(r=h.default.createElement(I.default,{href:"/domains/add/"+s,onClick:this.trackUpgradeClick},h.default.createElement(v.default,{icon:"plus"})," ",i("Add a Custom Address",{context:"Site address, domain"})),a=h.default.createElement($.default,null,i("Buy a {{domainSearchLink}}custom domain{{/domainSearchLink}}, {{mapDomainLink}}map{{/mapDomainLink}} a domain you already own, or {{redirectLink}}redirect{{/redirectLink}} this site.",{components:{domainSearchLink:h.default.createElement("a",{href:"/domains/add/"+s,onClick:this.trackUpgradeClick}),mapDomainLink:h.default.createElement("a",{href:"/domains/add/mapping/"+s,onClick:this.trackUpgradeClick}),redirectLink:h.default.createElement("a",{href:"/domains/add/site-redirect/"+s,onClick:this.trackUpgradeClick})}}))),h.default.createElement(B.default,{className:"site-settings__has-divider"},h.default.createElement(H.default,{htmlFor:"blogaddress"},i("Site Address")),h.default.createElement("div",{className:"site-settings__blogaddress-settings"},h.default.createElement(U.default,{name:"blogaddress",type:"text",id:"blogaddress",value:t.domain,disabled:"disabled"}),r),a))}},{key:"languageOptions",value:function(){var e=this.props,t=e.eventTracker,n=e.fields,s=e.isRequestingSettings,i=e.onChangeField,r=e.siteIsJetpack,a=e.translate;return r?null:h.default.createElement(B.default,null,h.default.createElement(H.default,{htmlFor:"lang_id"},a("Language")),h.default.createElement(R.default,{languages:(0,N.default)("languages"),value:n.lang_id,onChange:i("lang_id"),disabled:s,onClick:t("Clicked Language Field")}),h.default.createElement($.default,null,a("Language this blog is primarily written in."),"Â ",h.default.createElement("a",{href:N.default.isEnabled("me/account")?"/me/account":"/settings/account/"},a("You can also modify your interface's language in your profile."))))}},{key:"visibilityOptions",value:function(){var e=this.props,t=e.fields,n=e.handleRadio,s=e.isRequestingSettings,i=e.eventTracker,r=e.siteIsJetpack,a=e.translate;return h.default.createElement(B.default,null,h.default.createElement(H.default,null,h.default.createElement(Y.default,{name:"blog_public",value:"1",checked:1===parseInt(t.blog_public,10),onChange:n,disabled:s,onClick:i("Clicked Site Visibility Radio Button")}),h.default.createElement("span",null,a("Public"))),h.default.createElement($.default,{isIndented:!0},a("Your site is visible to everyone, and it may be indexed by search engines.")),h.default.createElement(H.default,null,h.default.createElement(Y.default,{name:"blog_public",value:"0",checked:0===parseInt(t.blog_public,10),onChange:n,disabled:s,onClick:i("Clicked Site Visibility Radio Button")}),h.default.createElement("span",null,a("Hidden"))),h.default.createElement($.default,{isIndented:!0},a("Your site is visible to everyone, but we ask search engines to not index your site.")),!r&&h.default.createElement("div",null,h.default.createElement(H.default,null,h.default.createElement(Y.default,{name:"blog_public",value:"-1",checked:-1===parseInt(t.blog_public,10),onChange:n,disabled:s,onClick:i("Clicked Site Visibility Radio Button")}),h.default.createElement("span",null,a("Private"))),h.default.createElement($.default,{isIndented:!0},a("Your site is only visible to you and users you approve."))))}},{key:"holidaySnowOption",value:function(){var e=this.props,t=e.fields,n=e.handleToggle,s=e.isRequestingSettings,i=e.moment,r=e.supportsHolidaySnowOption,a=e.translate,o=i(),l=i({year:o.year(),month:11,day:1}),u=i({year:o.year(),month:0,day:4});return r?o.isBefore(l,"day")&&o.isAfter(u,"day")?null:h.default.createElement(B.default,null,h.default.createElement(W.default,null,a("Holiday Snow")),h.default.createElement("ul",null,h.default.createElement("li",null,h.default.createElement(K.default,{checked:!!t.holidaysnow,disabled:s,onChange:n("holidaysnow")},a("Show falling snow on my blog until January 4th."))))):null}},{key:"Timezone",value:function(){var e=this.props,t=e.fields,n=e.isRequestingSettings,s=e.siteIsJetpack,i=e.translate;if(!s)return h.default.createElement(B.default,null,h.default.createElement(H.default,{htmlFor:"blogtimezone"},i("Site Timezone")),h.default.createElement(Z.default,{selectedZone:t.timezone_string,disabled:n,onSelect:this.onTimezoneSelect}),h.default.createElement($.default,null,i("Choose a city in your timezone.")))}},{key:"render",value:function(){var e=this.props,t=e.handleSubmitForm,n=e.isRequestingSettings,s=e.isSavingSettings,i=e.site,r=e.siteIsJetpack,a=e.siteSlug,o=e.translate;if(r&&!i.hasMinimumJetpackVersion)return null;var l=(0,b.default)("site-settings__general-settings",{"is-loading":n});return h.default.createElement("div",{className:(0,b.default)(l)},i&&h.default.createElement(oe.default,{siteId:i.ID}),h.default.createElement(M.default,{label:o("Site Profile")},h.default.createElement(I.default,{compact:!0,onClick:t,primary:!0,"data-tip-target":"settings-site-profile-save",type:"submit",disabled:n||s},o(s?"Savingâ€¦":"Save Settings"))),h.default.createElement(T.default,null,h.default.createElement("form",null,this.siteOptions(),this.blogAddress(),this.languageOptions(),this.Timezone(),this.holidaySnowOption())),h.default.createElement(M.default,{label:o("Privacy")},h.default.createElement(I.default,{compact:!0,onClick:t,primary:!0,type:"submit",disabled:n||s},o(s?"Savingâ€¦":"Save Settings"))),h.default.createElement(T.default,null,h.default.createElement("form",null,this.visibilityOptions())),!r&&h.default.createElement("div",{className:"site-settings__footer-credit-container"},h.default.createElement(M.default,{label:o("Footer Credit")}),h.default.createElement(k.default,{className:"site-settings__footer-credit-explanation"},h.default.createElement("p",null,(0,de.preventWidows)(o("You can customize your website by changing the footer credit in customizer."),2)),h.default.createElement("div",null,h.default.createElement(I.default,{className:"site-settings__footer-credit-change",href:"/customize/identity/"+a},o("Change footer credit")))),i&&!(0,ie.isBusiness)(i.plan)&&h.default.createElement(se.default,{feature:re.FEATURE_NO_BRANDING,plan:re.PLAN_BUSINESS,title:o("Remove the footer credit entirely with WordPress.com Business"),description:o("Upgrade to remove the footer credit, add Google Analytics and more")})))}},{key:"_showWarning",value:function(e){var t=this.props,n=t.siteIsJetpack,s=t.translate;e&&e.options&&n&&!e.hasMinimumJetpackVersion&&L.default.warning(s("Jetpack %(version)s is required to manage Settings",{args:{version:(0,N.default)("jetpack_min_version")}}),{button:s("Update now"),href:e.options.admin_url+"plugins.php?plugin_status=upgrade"})}}]),t}(m.Component),fe=(0,_.connect)(function(e){var t=(0,ue.getSelectedSiteId)(e),n=(0,le.isJetpackSite)(e,t);return{siteIsJetpack:n,siteSlug:(0,ue.getSelectedSiteSlug)(e),supportsHolidaySnowOption:n&&(0,le.isJetpackMinimumVersion)(e,t,"4.0")}},null,null,{pure:!1}),pe=function(e){var t={blogname:"",blogdescription:"",lang_id:"",timezone_string:"",blog_public:"",admin_url:"",holidaysnow:!1};if(!e)return t;var n={blogname:e.blogname,blogdescription:e.blogdescription,lang_id:e.lang_id,blog_public:e.blog_public,timezone_string:e.timezone_string,holidaysnow:!!e.holidaysnow},s=e.gmt_offset;return!e.timezone_string&&"string"==typeof s&&s.length&&(n.timezone_string="UTC"+(/\-/.test(s)?"":"+")+s),n};t.default=(0,E.flowRight)(fe,(0,S.default)(pe))(ce),e.exports=t.default},"./client/my-sites/site-settings/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/keys.js"),o=s(a);t.default=function(){(0,u.default)("/settings",f.siteSelection,m.default.redirectToGeneral),(0,u.default)("/settings/general/:site_id",f.siteSelection,f.navigation,_.default.setScroll,_.default.siteSettings,m.default.general),(0,u.default)("/settings/import/:site_id",f.siteSelection,f.navigation,m.default.importSite),c.default.isEnabled("manage/export/guided-transfer")&&(0,u.default)("/settings/export/guided/:host_slug?/:site_id",f.siteSelection,f.navigation,m.default.guidedTransfer),(0,u.default)("/settings/export/:site_id",f.siteSelection,f.navigation,m.default.exportSite),(0,u.default)("/settings/delete-site/:site_id",f.siteSelection,f.navigation,_.default.setScroll,m.default.deleteSite);var e=(0,o.default)(g.reasonComponents);(0,u.default)("/settings/disconnect-site/:step("+[].concat((0,r.default)(e),["confirm"]).join("|")+")?",f.sites),(0,u.default)("/settings/disconnect-site/:reason("+e.join("|")+")?/:site_id",f.siteSelection,_.default.setScroll,m.default.disconnectSite),(0,u.default)("/settings/disconnect-site/confirm/:site_id",f.siteSelection,_.default.setScroll,m.default.disconnectSiteConfirm),(0,u.default)("/settings/start-over/:site_id",f.siteSelection,f.navigation,_.default.setScroll,m.default.startOver),(0,u.default)("/settings/theme-setup/:site_id",f.siteSelection,f.navigation,_.default.setScroll,m.default.themeSetup),(0,u.default)("/settings/manage-connection/:site_id",f.siteSelection,f.navigation,_.default.setScroll,m.default.manageConnection),(0,u.default)("/settings/:section",m.default.legacyRedirects,f.siteSelection,f.sites)};var l=n("./node_modules/page/index.js"),u=s(l),d=n("./client/config/index.js"),c=s(d),f=n("./client/my-sites/controller.js"),p=n("./client/my-sites/site-settings/controller.js"),m=s(p),h=n("./client/my-sites/site-settings/settings-controller.js"),_=s(h),g=n("./client/my-sites/site-settings/disconnect-site/index.jsx");e.exports=t.default},"./client/my-sites/site-settings/jetpack-dev-mode-notice.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/i18n-calypso/index.js"),l=n("./client/components/notice/index.jsx"),u=s(l),d=n("./client/components/notice/notice-action.jsx"),c=s(d),f=n("./client/components/data/query-jetpack-connection/index.jsx"),p=s(f),m=n("./client/state/ui/selectors.js"),h=n("./client/state/selectors/is-jetpack-site-in-development-mode.js"),_=s(h),g=n("./client/state/sites/selectors.js"),b=function(e){var t=e.isJetpackSiteInDevMode,n=e.jetpackSettingsUiSupported,s=e.siteId,i=e.translate;return n?r.default.createElement("div",{className:"site-settings__jetpack-dev-mode-notice"},r.default.createElement(p.default,{siteId:s}),t&&r.default.createElement(u.default,{text:i("Some features are disabled because your site is in development mode."),showDismiss:!1},r.default.createElement(c.default,{href:"https://jetpack.com/support/development-mode/",external:!0},i("Learn more")))):null};t.default=(0,a.connect)(function(e){var t=(0,m.getSelectedSiteId)(e),n=(0,g.isJetpackSite)(e,t),s=(0,g.siteSupportsJetpackSettingsUi)(e,t);return{siteId:t,isJetpackSiteInDevMode:(0,_.default)(e,t),jetpackSettingsUiSupported:n&&s}})((0,o.localize)(b)),e.exports=t.default},"./client/my-sites/site-settings/jetpack-sync-panel/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/react-redux/es/index.js"),g=n("./node_modules/redux/lib/index.js"),b=n("./node_modules/debug/browser.js"),y=s(b),v=n("./node_modules/lodash/lodash.js"),E=n("./node_modules/i18n-calypso/index.js"),j=n("./client/components/card/compact.jsx"),S=s(j),x=n("./client/components/notice/index.jsx"),T=s(x),C=n("./client/components/progress-bar/index.jsx"),k=s(C),w=n("./client/state/ui/selectors.js"),I=n("./client/state/jetpack-sync/selectors.js"),A=s(I),R=n("./client/state/jetpack-sync/actions.js"),P=n("./client/lib/interval/index.js"),M=s(P),D=n("./client/components/notice/notice-action.jsx"),N=s(D),O=n("./client/lib/analytics/index.js"),L=s(O),F=(0,y.default)("calypso:site-settings:jetpack-sync-panel"),U=3,q=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.fetchSyncStatus=function(){s.props.getSyncStatus(s.props.siteId)},s.isErrored=function(){var e=(0,v.get)(s.props,"fullSyncRequest.error"),t=(0,v.get)(s.props,"syncStatus.errorCounter",0);return!!(e||t>=U)},s.shouldDisableSync=function(){return!(!s.props.isFullSyncing&&!s.props.isPendingSyncStart)},s.onSyncRequestButtonClick=function(e){e.preventDefault(),F("Perform full sync button clicked"),L.default.tracks.recordEvent("calypso_jetpack_sync_panel_request_button_clicked"),s.props.scheduleJetpackFullysync(s.props.siteId)},s.onTryAgainClick=function(e){e.preventDefault(),F("Try again button clicked"),L.default.tracks.recordEvent("calypso_jetpack_sync_panel_try_again_button_clicked",{errorCode:(0,v.get)(s.props,"fullSyncRequest.error.error",""),errorMsg:(0,v.get)(s.props,"fullSyncRequest.error.message","")}),s.props.scheduleJetpackFullysync(s.props.siteId)},s.onClickDebug=function(){F("Clicked check connection button"),L.default.tracks.recordEvent("calypso_jetpack_sync_panel_check_connection_button_clicked",{errorCode:(0,v.get)(s.props,"syncStatus.error.error",""),errorMsg:(0,v.get)(s.props,"syncStatus.error.message","")})},s.renderErrorNotice=function(){var e=(0,v.get)(s.props,"fullSyncRequest.error"),t=(0,v.get)(s.props,"syncStatus.errorCounter",0),n=s.props.translate,i=null;if(t>=U){var r=(0,v.get)(s.props,"site.options.admin_url");i=h.default.createElement(T.default,{isCompact:!0,status:"is-error",className:"jetpack-sync-panel__error-notice"},n("%(site)s is unresponsive.",{args:{site:(0,v.get)(s.props,"site.name")}}),r&&h.default.createElement(N.default,{onClick:s.onClickDebug,href:r+"admin.php?page=jetpack-debugger"},n("Check connection")))}else e&&(i=h.default.createElement(T.default,{isCompact:!0,status:"is-error",className:"jetpack-sync-panel__error-notice"},e.message?e.message:n("There was an error scheduling a full sync."),!e.message&&h.default.createElement(N.default,{onClick:s.onTryAgainClick},n("Try again"))));return i},s.renderStatusNotice=function(){if(s.isErrored())return null;var e=(0,v.get)(s.props,"syncStatus.finished"),t=s.props,n=t.isPendingSyncStart,i=t.isFullSyncing,r=t.moment,a=t.translate,o=r(1e3*parseInt(e,10)),l="";return n?l=a("Full sync will begin shortly"):i?l=a("Full sync in progress"):o.isValid()&&(l=a("Last fully synced %(ago)s",{args:{ago:o.fromNow()}})),l?h.default.createElement(T.default,{isCompact:!0,className:"jetpack-sync-panel__status-notice"},l):null},s.renderProgressBar=function(){return!s.shouldDisableSync()||s.isErrored()?null:h.default.createElement(k.default,{isPulsing:!0,value:s.props.syncProgress||0})},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.fetchSyncStatus()}},{key:"render",value:function(){var e=this.props.translate;return h.default.createElement(S.default,{className:"jetpack-sync-panel"},h.default.createElement("div",{className:"jetpack-sync-panel__action"},e("Jetpack Sync keeps your WordPress.com dashboard up to date. Data is sent from your site to the WordPress.com dashboard regularly to provide a faster experience. ",{components:{strong:h.default.createElement("strong",null)}}),!this.shouldDisableSync()&&e("If you suspect some data is missing, you can {{link}}initiate a sync manually{{/link}}.",{components:{link:h.default.createElement("a",{href:"",onClick:this.onSyncRequestButtonClick})}})),this.renderErrorNotice(),this.renderStatusNotice(),this.renderProgressBar(),this.shouldDisableSync()&&h.default.createElement(M.default,{onTick:this.fetchSyncStatus,period:P.EVERY_TEN_SECONDS}))}}]),t}(h.default.Component);t.default=(0,_.connect)(function(e){var t=(0,w.getSelectedSite)(e),n=t.ID;return{site:t,siteId:n,syncStatus:A.default.getSyncStatus(e,n),fullSyncRequest:A.default.getFullSyncRequest(e,n),isPendingSyncStart:A.default.isPendingSyncStart(e,n),isFullSyncing:A.default.isFullSyncing(e,n),syncProgress:A.default.getSyncProgressPercentage(e,n)}},function(e){return(0,g.bindActionCreators)({getSyncStatus:R.getSyncStatus,scheduleJetpackFullysync:R.scheduleJetpackFullysync},e)})((0,E.localize)(q)),e.exports=t.default},"./client/my-sites/site-settings/main.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/prop-types/index.js"),r=s(i),a=n("./node_modules/react/react.js"),o=s(a),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/i18n-calypso/index.js"),d=n("./client/components/main/index.jsx"),c=s(d),f=n("./client/components/data/document-head/index.jsx"),p=s(f),m=n("./client/components/data/query-products-list/index.jsx"),h=s(m),_=n("./client/components/data/query-site-purchases/index.jsx"),g=s(_),b=n("./client/state/ui/selectors.js"),y=n("./client/my-sites/site-settings/section-general.jsx"),v=s(y),E=n("./client/my-sites/site-settings/navigation.jsx"),j=s(E),S=n("./client/my-sites/sidebar-navigation/sidebar-navigation.jsx"),x=s(S),T=n("./client/my-sites/site-settings/jetpack-dev-mode-notice.jsx"),C=s(T),k=n("./client/my-sites/site-settings/placeholder.jsx"),w=s(k),I=function(e){var t=e.siteId,n=e.translate;return t?o.default.createElement(c.default,{className:"site-settings"},o.default.createElement(p.default,{title:n("Site Settings")}),o.default.createElement(C.default,null),o.default.createElement(x.default,null),t&&o.default.createElement(j.default,{section:"general"}),o.default.createElement(h.default,null),t&&o.default.createElement(g.default,{siteId:t}),t&&o.default.createElement(v.default,null)):o.default.createElement(w.default,null)};I.propTypes={siteId:r.default.number},t.default=(0,l.connect)(function(e){return{siteId:(0,b.getSelectedSiteId)(e)}})((0,u.localize)(I)),e.exports=t.default},"./client/my-sites/site-settings/manage-connection/api-cache.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/lodash/lodash.js"),l=n("./node_modules/i18n-calypso/index.js"),u=n("./client/components/card/compact.jsx"),d=s(u),c=n("./client/components/forms/form-toggle/compact.jsx"),f=s(c),p=n("./client/config/index.js"),m=s(p),h=n("./client/my-sites/site-settings/wrap-settings-form.jsx"),_=s(h),g=n("./client/state/ui/selectors.js"),b=n("./client/state/sites/selectors.js"),y=function(e){var t=e.fields,n=e.handleAutosavingToggle,s=e.isRequestingSettings,i=e.isSavingSettings,a=e.supportsApiCacheCheckbox,o=e.translate;return m.default.isEnabled("jetpack/api-cache")&&a?r.default.createElement(d.default,null,r.default.createElement(f.default,{checked:!!t.api_cache,disabled:s||i,onChange:n("api_cache")},o("Use synchronized data to boost performance")," (a8c-only experimental feature)")):null},v=(0,a.connect)(function(e){var t=(0,g.getSelectedSiteId)(e),n=(0,b.isJetpackSite)(e,t);return{supportsApiCacheCheckbox:n&&(0,b.isJetpackMinimumVersion)(e,t,"4.4.1")}}),E=function(e){return(0,o.pick)(e,["api_cache"])};t.default=(0,o.flowRight)(v,l.localize,(0,_.default)(E))(y),e.exports=t.default},"./client/my-sites/site-settings/manage-connection/data-synchronization.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/i18n-calypso/index.js"),l=n("./client/my-sites/site-settings/manage-connection/api-cache.jsx"),u=s(l),d=n("./client/components/card/compact.jsx"),c=s(d),f=n("./client/my-sites/site-settings/jetpack-sync-panel/index.jsx"),p=s(f),m=n("./client/my-sites/site-settings/manage-connection/public-post-types.jsx"),h=s(m),_=n("./client/components/section-header/index.jsx"),g=s(_),b=n("./client/state/ui/selectors.js"),y=n("./client/state/sites/selectors.js"),v=n("./client/state/selectors/get-site-url.js"),E=s(v),j=function(e){var t=e.siteUrl,n=e.supportsJetpackSync,s=e.translate;return n?r.default.createElement("div",null,r.default.createElement(g.default,{label:s("Data synchronization")}),r.default.createElement(p.default,null),r.default.createElement(u.default,null),r.default.createElement(h.default,null),r.default.createElement(c.default,{href:"https://jetpack.com/support/debug/?url="+t,target:"_blank"},s("Diagnose a connection problem"))):null};t.default=(0,a.connect)(function(e){var t=(0,b.getSelectedSiteId)(e),n=(0,y.isJetpackSite)(e,t);return{siteUrl:(0,E.default)(e,t),supportsJetpackSync:n&&(0,y.isJetpackMinimumVersion)(e,t,"4.2-alpha")}})((0,o.localize)(j)),e.exports=t.default},"./client/my-sites/site-settings/manage-connection/disconnect-site-link.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/react-redux/es/index.js"),g=n("./node_modules/i18n-calypso/index.js"),b=n("./client/my-sites/site-settings/site-tools/link.jsx"),y=s(b),v=n("./client/state/sites/selectors.js"),E=n("./client/state/ui/selectors.js"),j=n("./client/state/selectors/is-site-automated-transfer.js"),S=s(j),x=n("./client/state/analytics/actions.js"),T=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.handleClick=function(){s.props.recordTracksEvent("calypso_jetpack_disconnect_start")},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.isAutomatedTransfer,n=e.siteId,s=e.siteSlug,i=e.translate;return!n||t?null:h.default.createElement("div",{className:"manage-connection__disconnect-link"},h.default.createElement(y.default,{href:"/settings/disconnect-site/"+s,onClick:this.handleClick,title:i("Disconnect from WordPress.com"),description:i("Your site will no longer send data to WordPress.com and Jetpack features will stop working."),isWarning:!0}))}}]),t}(m.PureComponent);t.default=(0,_.connect)(function(e){var t=(0,E.getSelectedSiteId)(e);return{isAutomatedTransfer:(0,S.default)(e,t),siteId:t,siteSlug:(0,v.getSiteSlug)(e,t)}},{recordTracksEvent:x.recordTracksEvent})((0,g.localize)(T)),e.exports=t.default},"./client/my-sites/site-settings/manage-connection/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/lodash/lodash.js"),g=n("./node_modules/i18n-calypso/index.js"),b=n("./client/my-sites/site-settings/manage-connection/data-synchronization.jsx"),y=s(b),v=n("./client/my-sites/site-settings/manage-connection/disconnect-site-link.jsx"),E=s(v),j=n("./client/components/data/document-head/index.jsx"),S=s(j),x=n("./client/components/header-cake/index.jsx"),T=s(x),C=n("./client/components/main/index.jsx"),k=s(C),w=n("./client/my-sites/site-settings/manage-connection/site-ownership.jsx"),I=s(w),A=n("./client/my-sites/site-settings/redirect-non-jetpack/index.jsx"),R=s(A),P=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.redirect,n=e.translate;return h.default.createElement(k.default,{className:"manage-connection site-settings"},h.default.createElement(S.default,{title:n("Site Settings")}),h.default.createElement(T.default,{onClick:t},n("Manage Connection")),h.default.createElement(I.default,null),h.default.createElement(y.default,null),h.default.createElement(E.default,null))}}]),t}(m.Component);t.default=(0,_.flowRight)(g.localize,(0,R.default)())(P),e.exports=t.default},"./client/my-sites/site-settings/manage-connection/public-post-types.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/lodash/lodash.js"),l=n("./node_modules/i18n-calypso/index.js"),u=n("./client/components/card/compact.jsx"),d=s(u),c=n("./client/components/forms/form-toggle/compact.jsx"),f=s(c),p=n("./client/config/index.js"),m=s(p),h=n("./client/components/forms/form-setting-explanation/index.jsx"),_=s(h),g=n("./client/my-sites/site-settings/wrap-settings-form.jsx"),b=s(g),y=n("./client/state/ui/selectors.js"),v=n("./client/state/sites/selectors.js"),E=function(e){var t=e.fields,n=e.handleAutosavingToggle,s=e.isRequestingSettings,i=e.isSavingSettings,a=e.supportsPublicPostTypesCheckbox,o=e.translate;return m.default.isEnabled("manage/option_sync_non_public_post_stati")&&a?r.default.createElement(d.default,null,r.default.createElement(f.default,{checked:!!t.jetpack_sync_non_public_post_stati,disabled:s||i,onChange:n("jetpack_sync_non_public_post_stati")},o("Allow synchronization of Posts and Pages with non-public post statuses")),r.default.createElement(_.default,{isIndented:!0},o("(e.g. drafts, scheduled, private, etcâ€¦)"))):null},j=(0,a.connect)(function(e){var t=(0,y.getSelectedSiteId)(e),n=(0,v.isJetpackSite)(e,t);return{supportsPublicPostTypesCheckbox:n&&!(0,v.isJetpackMinimumVersion)(e,t,"4.2")}}),S=function(e){return(0,o.pick)(e,["jetpack_sync_non_public_post_stati"])};t.default=(0,o.flowRight)(j,l.localize,(0,b.default)(S))(E),e.exports=t.default},"./client/my-sites/site-settings/manage-connection/site-ownership.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/react-redux/es/index.js"),g=n("./node_modules/i18n-calypso/index.js"),b=n("./client/components/card/index.jsx"),y=s(b),v=n("./client/components/forms/form-fieldset/index.jsx"),E=s(v),j=n("./client/components/forms/form-legend/index.jsx"),S=s(j),x=n("./client/components/forms/form-setting-explanation/index.jsx"),T=s(x),C=n("./client/components/gravatar/index.jsx"),k=s(C),w=n("./client/components/section-header/index.jsx"),I=s(w),A=n("./client/components/data/query-jetpack-connection/index.jsx"),R=s(A),P=n("./client/components/data/query-jetpack-user-connection/index.jsx"),M=s(P),D=n("./client/state/current-user/selectors.js"),N=n("./client/state/ui/selectors.js"),O=n("./client/state/sites/selectors.js"),L=n("./client/state/selectors/is-jetpack-site-connected.js"),F=s(L),U=n("./client/state/selectors/is-jetpack-site-in-development-mode.js"),q=s(U),B=n("./client/state/selectors/is-jetpack-user-master.js"),V=s(B),W=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"renderPlaceholder",value:function(){return h.default.createElement(y.default,{className:"manage-connection__card site-settings__card is-placeholder"},h.default.createElement("div",null))}},{key:"renderCurrentUser",value:function(){var e=this.props.currentUser;if(e)return h.default.createElement("div",{className:"manage-connection__user"},h.default.createElement(k.default,{user:e,size:24}),h.default.createElement("span",{className:"manage-connection__user-name"},e.display_name))}},{key:"renderConnectionDetails",value:function(){var e=this.props,t=e.siteIsConnected,n=e.siteIsInDevMode,s=e.translate,i=e.userIsMaster;return t===!1?s("The site is not connected."):n?h.default.createElement(T.default,null,s("Your site is in Development Mode, so it can not be connected to WordPress.com.")):h.default.createElement("div",null,h.default.createElement(T.default,null,s(i?"You are the owner of this site's connection to WordPress.com.":"Somebody else owns this site's connection to WordPress.com.")),i&&this.renderCurrentUser())}},{key:"renderCardContent",value:function(){var e=this.props.translate;return h.default.createElement(y.default,null,h.default.createElement(E.default,null,h.default.createElement(S.default,null,e("Connection owner")),this.renderConnectionDetails()))}},{key:"render",value:function(){var e=this.props,t=e.siteId,n=e.siteIsConnected,s=e.siteIsJetpack,i=e.translate;return h.default.createElement("div",null,s&&h.default.createElement(R.default,{siteId:t}),s&&h.default.createElement(M.default,{siteId:t}),h.default.createElement(I.default,{label:i("Site ownership")}),null===n?this.renderPlaceholder():this.renderCardContent())}}]),t}(m.Component);t.default=(0,_.connect)(function(e){var t=(0,N.getSelectedSiteId)(e);return{currentUser:(0,D.getCurrentUser)(e),siteId:t,siteIsConnected:(0,F.default)(e,t),siteIsJetpack:(0,O.isJetpackSite)(e,t),siteIsInDevMode:(0,q.default)(e,t),userIsMaster:(0,V.default)(e,t)}})((0,g.localize)(W)),e.exports=t.default},"./client/my-sites/site-settings/navigation.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SiteSettingsNavigation=void 0;var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/prop-types/index.js"),h=s(m),_=n("./node_modules/react/react.js"),g=s(_),b=n("./node_modules/i18n-calypso/index.js"),y=n("./node_modules/react-redux/es/index.js"),v=n("./client/config/index.js"),E=s(v),j=n("./client/components/section-nav/index.jsx"),S=s(j),x=n("./client/components/section-nav/tabs.jsx"),T=s(x),C=n("./client/components/section-nav/item.jsx"),k=s(C),w=n("./client/state/ui/selectors.js"),I=t.SiteSettingsNavigation=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,
r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"getStrings",value:function(){var e=this.props.translate;return{general:e("General",{context:"settings screen"}),writing:e("Writing",{context:"settings screen"}),discussion:e("Discussion",{context:"settings screen"}),traffic:e("Traffic",{context:"settings screen"}),security:e("Security",{context:"settings screen"})}}},{key:"render",value:function(){var e=this.props,t=e.section,n=e.site,s=this.getStrings(),i=s[t];return n?"guidedTransfer"===t?null:g.default.createElement(S.default,{selectedText:i},g.default.createElement(T.default,null,g.default.createElement(k.default,{path:"/settings/general/"+n.slug,selected:"general"===t},s.general),g.default.createElement(k.default,{path:"/settings/writing/"+n.slug,preloadSectionName:"settings-writing",selected:"writing"===t},s.writing),g.default.createElement(k.default,{path:"/settings/discussion/"+n.slug,preloadSectionName:"settings-discussion",selected:"discussion"===t},s.discussion),g.default.createElement(k.default,{path:"/settings/traffic/"+n.slug,preloadSectionName:"settings-traffic",selected:"traffic"===t},s.traffic),E.default.isEnabled("manage/security")&&n.jetpack&&g.default.createElement(k.default,{path:"/settings/security/"+n.slug,preloadSectionName:"settings-security",selected:"security"===t},s.security))):g.default.createElement(S.default,null)}}]),t}(_.Component);I.propTypes={section:h.default.string,site:h.default.object},t.default=(0,y.connect)(function(e){return{site:(0,w.getSelectedSite)(e)}})((0,b.localize)(I))},"./client/my-sites/site-settings/placeholder.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/i18n-calypso/index.js"),o=n("./client/components/card/index.jsx"),l=s(o),u=n("./client/components/main/index.jsx"),d=s(u),c=n("./client/components/section-nav/item.jsx"),f=s(c),p=n("./client/components/section-nav/tabs.jsx"),m=s(p),h=n("./client/components/section-header/index.jsx"),_=s(h),g=n("./client/components/section-nav/index.jsx"),b=s(g),y=function(e){var t=e.translate,n=r.default.createElement("div",{className:"site-settings__placeholder-item"},"General Settings");return r.default.createElement(d.default,{className:"site-settings__placeholder"},r.default.createElement(b.default,null,r.default.createElement(m.default,null,r.default.createElement(f.default,null,r.default.createElement("span",{className:"site-settings__placeholder-item"},t("General"))),r.default.createElement(f.default,null,r.default.createElement("span",{className:"site-settings__placeholder-item"},t("Writing"))),r.default.createElement(f.default,null,r.default.createElement("span",{className:"site-settings__placeholder-item"},t("Discussion"))),r.default.createElement(f.default,null,r.default.createElement("span",{className:"site-settings__placeholder-item"},t("Traffic"))),r.default.createElement(f.default,null,r.default.createElement("span",{className:"site-settings__placeholder-item"},t("Security"))))),r.default.createElement(_.default,{label:n}),r.default.createElement(l.default,null,r.default.createElement("div",{className:"site-settings__placeholder-item"},"Example content here"),r.default.createElement("div",{className:"site-settings__placeholder-item"},"Example content here",r.default.createElement("br",null),"Example content here",r.default.createElement("br",null),"Example content here"),r.default.createElement("div",{className:"site-settings__placeholder-item"},"Example content here",r.default.createElement("br",null),"Example content here")))};t.default=(0,a.localize)(y),e.exports=t.default},"./client/my-sites/site-settings/redirect-non-jetpack/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/extends.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/inherits.js"),h=s(m),_=n("./node_modules/react/react.js"),g=s(_),b=n("./node_modules/react-redux/es/index.js"),y=n("./node_modules/prop-types/index.js"),v=s(y),E=n("./node_modules/page/index.js"),j=s(E),S=n("./client/state/ui/selectors.js"),x=n("./client/state/sites/selectors.js"),T=n("./client/state/selectors/is-site-automated-transfer.js"),C=s(T),k=function(e){return function(t){var n=function(n){function s(){var t,n,i,r;(0,u.default)(this,s);for(var a=arguments.length,l=Array(a),d=0;d<a;d++)l[d]=arguments[d];return n=i=(0,p.default)(this,(t=s.__proto__||(0,o.default)(s)).call.apply(t,[this].concat(l))),i.redirect=function(){var t=i.props.siteSlug;return e?(0,j.default)(e):void(t&&(0,j.default)("/settings/general/"+t))},r=n,(0,p.default)(i,r)}return(0,h.default)(s,n),(0,c.default)(s,[{key:"componentDidMount",value:function(){this.redirectIfNoAccess()}},{key:"componentDidUpdate",value:function(){this.redirectIfNoAccess()}},{key:"redirectIfNoAccess",value:function(){(this.props.siteIsJetpack===!1||this.props.siteIsAtomic)&&this.redirect()}},{key:"render",value:function(){return g.default.createElement(t,(0,r.default)({redirect:this.redirect},this.props))}}]),s}(_.Component);return n.propTypes={siteIsAtomic:v.default.bool,siteIsJetpack:v.default.bool,siteSlug:v.default.string},(0,b.connect)(function(e){var t=(0,S.getSelectedSiteId)(e);return{siteIsAtomic:(0,C.default)(e,t),siteIsJetpack:(0,x.isJetpackSite)(e,t),siteSlug:(0,S.getSelectedSiteSlug)(e)}})(n)}};t.default=k,e.exports=t.default},"./client/my-sites/site-settings/section-general.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/react-redux/es/index.js"),o=n("./client/my-sites/site-settings/form-general.jsx"),l=s(o),u=n("./client/my-sites/site-settings/site-tools/index.jsx"),d=s(u),c=n("./client/state/ui/selectors.js"),f=function(e){var t=e.site;return r.default.createElement("div",{className:"site-settings__main general-settings"},r.default.createElement(l.default,{site:t}),r.default.createElement(d.default,null))};t.default=(0,a.connect)(function(e){return{site:(0,c.getSelectedSite)(e)}})(f),e.exports=t.default},"./client/my-sites/site-settings/settings-controller.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/page/index.js"),r=s(i),a=n("./client/lib/analytics/index.js"),o=s(a),l=n("./client/lib/route/index.js"),u=s(l),d=n("./client/lib/route/path.js"),c=n("./node_modules/to-title-case/index.js"),f=s(c),p=n("./client/state/ui/selectors.js"),m=n("./client/state/selectors/can-current-user.js"),h=s(m);t.default={siteSettings:function(e,t){var n="Site Settings",s=u.default.sectionify(e.path),i=(0,d.sectionify)(e.path).split("/")[2],a=e.store.getState(),l=(0,p.getSelectedSite)(a),c=(0,p.getSelectedSiteId)(a),m=(0,h.default)(a,c,"manage_options");return l&&!m?void r.default.redirect("/stats"):("undefined"!=typeof i&&(n+=" > "+(0,f.default)(i)),o.default.pageView.record(s+"/:site",n),void t())},setScroll:function(e,t){window.scroll(0,0),t()}},e.exports=t.default},"./client/my-sites/site-settings/site-icon-setting/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/extends.js"),r=s(i),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/inherits.js"),h=s(m),_=n("./node_modules/prop-types/index.js"),g=s(_),b=n("./node_modules/react/react.js"),y=s(b),v=n("./node_modules/react-redux/es/index.js"),E=n("./node_modules/i18n-calypso/index.js"),j=n("./node_modules/lodash/lodash.js"),S=n("./client/blocks/site-icon/index.jsx"),x=s(S),T=n("./client/components/button/index.jsx"),C=s(T),k=n("./client/components/data/media-library-selected-data/index.jsx"),w=s(k),I=n("./client/components/async-load/index.jsx"),A=s(I),R=n("./client/components/dialog/index.jsx"),P=s(R),M=n("./client/lib/accept/index.js"),D=s(M),N=n("./client/state/analytics/actions.js"),O=n("./client/state/site-settings/actions.js"),L=n("./client/state/site-settings/selectors.js"),F=n("./client/state/ui/editor/actions.js"),U=n("./client/state/ui/editor/image-editor/actions.js"),q=n("./client/state/media/actions.js"),B=n("./client/state/sites/selectors.js"),V=n("./client/state/ui/media-modal/constants.js"),W=n("./client/state/ui/editor/image-editor/constants.js"),z=n("./client/state/ui/selectors.js"),H=n("./client/components/forms/form-fieldset/index.jsx"),G=s(H),Y=n("./client/components/forms/form-label/index.jsx"),J=s(Y),K=n("./client/components/info-popover/index.jsx"),Q=s(K),$=n("./client/lib/media/actions.js"),X=s($),Z=n("./client/lib/media/store.js"),ee=s(Z),te=n("./client/lib/media/library-selected-store.js"),ne=s(te),se=n("./client/lib/media/utils.js"),ie=n("./client/state/ui/editor/image-editor/selectors.js"),re=n("./client/state/selectors/get-site-icon-id.js"),ae=s(re),oe=n("./client/state/selectors/get-site-icon-url.js"),le=s(oe),ue=n("./client/state/selectors/is-private-site.js"),de=s(ue),ce=n("./client/state/selectors/is-site-supporting-image-editor.js"),fe=s(ce),pe=n("./client/state/notices/actions.js"),me=function(e){n.e("async-load-post-editor-media-modal").then(function(t){e(n("./client/post-editor/media-modal/index.jsx").__esModule?n("./client/post-editor/media-modal/index.jsx").default:n("./client/post-editor/media-modal/index.jsx"))}.bind(null,n)).catch(n.oe)},he=function(e){function t(){var e,n,s,i;(0,u.default)(this,t);for(var a=arguments.length,l=Array(a),d=0;d<a;d++)l[d]=arguments[d];return n=s=(0,p.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),s.state={isModalVisible:!1,hasToggledModal:!1,isEditingSiteIcon:!1},s.toggleModal=function(e){var t=s.state.isEditingSiteIcon;s.setState({isModalVisible:e,hasToggledModal:!0,isEditingSiteIcon:!!e&&t})},s.hideModal=function(){return s.toggleModal(!1)},s.showModal=function(){return s.toggleModal(!0)},s.editSelectedMedia=function(e){e?(s.setState({isEditingSiteIcon:!0}),s.props.onEditSelectedMedia()):s.hideModal()},s.setSiteIcon=function(e,t){if(!e&&t){var n=s.props.siteId,i=(0,j.head)(ne.default.getAll(n));if(i){var a=s.props,o=a.crop,l=a.transform,u=a.recordEvent,d=!(0,j.isEqual)((0,r.default)({},o,l),{topRatio:0,leftRatio:0,widthRatio:1,heightRatio:1,degrees:0,scaleX:1,scaleY:1});u("Completed Site Icon Selection"),d?s.uploadSiteIcon(t,"cropped-"+i.file):s.saveSiteIconSetting(n,i),s.hideModal(),s.props.resetAllImageEditorState()}}},s.confirmRemoval=function(){var e=s.props,t=e.translate,n=e.siteId,i=e.removeSiteIcon,r=e.recordEvent,a=t("Are you sure you want to remove the site icon?");r("Clicked Remove Site Icon"),(0,D.default)(a,function(e){e&&(i(n),r("Confirmed Remove Site Icon"))})},s.cancelEditingSiteIcon=function(){s.props.onCancelEditingIcon(),s.props.resetAllImageEditorState(),s.setState({isEditingSiteIcon:!1})},i=n,(0,p.default)(s,i)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"saveSiteIconSetting",value:function(e,t){this.props.receiveMedia(e,t),this.props.saveSiteSettings(e,{site_icon:t.ID})}},{key:"uploadSiteIcon",value:function(e,t){var n=this,s=this.props,i=s.siteId,r=s.translate,a=s.siteIconId,o=(0,j.uniqueId)("site-icon");this.props.updateSiteIcon(i,o);var l=function e(){var t=ee.default.get(i,o),s=t&&(0,se.isItemBeingUploaded)(t),l=!t;if(l?n.props.deleteMedia(i,o):n.props.receiveMedia(i,t),!s)if(ee.default.off("change",e),l){if(n.props.errorNotice(r("An error occurred while uploading the file.")),a){n.props.updateSiteIcon(i,a);var u=ee.default.get(i,a);u&&n.props.receiveMedia(i,u)}}else n.saveSiteIconSetting(i,t)};ee.default.on("change",l),X.default.add(i,{ID:o,fileContents:e,fileName:t})}},{key:"preloadModal",value:function(){n.e("async-load-post-editor-media-modal").then(function(e){n("./client/post-editor/media-modal/index.jsx").__esModule?n("./client/post-editor/media-modal/index.jsx").default:n("./client/post-editor/media-modal/index.jsx")}.bind(null,n)).catch(n.oe)}},{key:"isParentReady",value:function(e){return!e.some(function(e){return e.external})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isJetpack,s=t.isPrivate,i=t.iconUrl,a=t.customizerUrl,o=t.generalOptionsUrl,l=t.siteSupportsImageEditor,u=this.state,d=u.isModalVisible,c=u.hasToggledModal,f=u.isEditingSiteIcon,p=void 0;if(l)p={type:"button",onClick:this.showModal,onMouseEnter:this.preloadModal};else{p={rel:"external"};var m=(0,j.includes)(i,".gravatar.com/blavatar/");n||s&&!m?p.href=a:(p.href=o,p.target="_blank")}p.onClick=(0,j.flow)((0,j.compact)([function(){return e.props.recordEvent("Clicked Change Site Icon")},p.onClick]));var h=this.props,_=h.translate,g=h.siteId,b=h.isSaving,v=h.hasIcon;return y.default.createElement(G.default,{className:"site-icon-setting"},y.default.createElement(J.default,{className:"site-icon-setting__heading"},_("Site Icon"),y.default.createElement(Q.default,{position:"bottom right"},_("The Site Icon is used as a browser and app icon for your site. Icons must be square, and at least %s pixels wide and tall.",{args:[512]}))),y.default.createElement(p.href?"a":"button",(0,r.default)({},p,{className:"site-icon-setting__icon"}),y.default.createElement(x.default,{size:96,siteId:g})),y.default.createElement(C.default,(0,r.default)({},p,{className:"site-icon-setting__button",disabled:b,compact:!0}),_("Change",{context:"verb"})),v&&y.default.createElement(C.default,{compact:!0,scary:!0,onClick:this.confirmRemoval,className:"site-icon-setting__button",disabled:b},_("Remove")),c&&y.default.createElement(w.default,{siteId:g},y.default.createElement(A.default,(0,r.default)({require:me,placeholder:y.default.createElement(P.default,{additionalClassNames:"editor-media-modal",isVisible:d}),siteId:g,onClose:this.editSelectedMedia,isParentReady:this.isParentReady,enabledFilters:["images"]},f?{imageEditorProps:{allowedAspectRatios:[W.AspectRatios.ASPECT_1X1],onDone:this.setSiteIcon,onCancel:this.cancelEditingSiteIcon}}:{},{visible:d,labels:{confirm:_("Continue")},single:!0}))))}}]),t}(b.Component);he.propTypes={translate:g.default.func,siteId:g.default.number,isJetpack:g.default.bool,isPrivate:g.default.bool,hasIcon:g.default.bool,iconUrl:g.default.string,isSaving:g.default.bool,siteSupportsImageEditor:g.default.bool,customizerUrl:g.default.string,generalOptionsUrl:g.default.string,onEditSelectedMedia:g.default.func,onCancelEditingIcon:g.default.func,resetAllImageEditorState:g.default.func,crop:g.default.object},t.default=(0,v.connect)(function(e){var t=(0,z.getSelectedSiteId)(e);return{siteId:t,isJetpack:(0,B.isJetpackSite)(e,t),isPrivate:(0,de.default)(e,t),siteIconId:(0,ae.default)(e,t),hasIcon:!!(0,le.default)(e,t),iconUrl:(0,le.default)(e,t),isSaving:(0,L.isSavingSiteSettings)(e,t),siteSupportsImageEditor:(0,fe.default)(e,t),customizerUrl:(0,B.getCustomizerUrl)(e,t,"identity"),generalOptionsUrl:(0,B.getSiteAdminUrl)(e,t,"options-general.php"),crop:(0,ie.getImageEditorCrop)(e),transform:(0,ie.getImageEditorTransform)(e)}},{recordEvent:function(e){return(0,N.recordGoogleEvent)("Site Settings",e)},onEditSelectedMedia:(0,j.partial)(F.setEditorMediaModalView,V.ModalViews.IMAGE_EDITOR),onCancelEditingIcon:(0,j.partial)(F.setEditorMediaModalView,V.ModalViews.LIST),resetAllImageEditorState:U.resetAllImageEditorState,saveSiteSettings:O.saveSiteSettings,updateSiteIcon:function(e,t){return(0,O.updateSiteSettings)(e,{site_icon:t})},removeSiteIcon:(0,j.partialRight)(O.saveSiteSettings,{site_icon:""}),receiveMedia:q.receiveMedia,deleteMedia:q.deleteMedia,errorNotice:pe.errorNotice})((0,E.localize)(he)),e.exports=t.default},"./client/my-sites/site-settings/site-tools/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/react-redux/es/index.js"),g=n("./node_modules/lodash/lodash.js"),b=n("./client/my-sites/site-settings/delete-site-warning-dialog/index.jsx"),y=s(b),v=n("./client/config/index.js"),E=s(v),j=n("./client/lib/analytics/index.js"),S=n("./node_modules/i18n-calypso/index.js"),x=n("./client/components/section-header/index.jsx"),T=s(x),C=n("./client/my-sites/site-settings/site-tools/link.jsx"),k=s(C),w=n("./client/state/ui/selectors.js"),I=n("./client/state/sites/selectors.js"),A=n("./client/state/selectors/is-site-automated-transfer.js"),R=s(A),P=n("./client/state/selectors/is-vip-site.js"),M=s(P),D=n("./client/state/purchases/selectors.js"),N=n("./client/notices/index.js"),O=s(N),L=function(e){j.tracks.recordEvent("calypso_settings_delete_site_options",{option:e})},F=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.state={showDialog:!1,showStartOverDialog:!1},s.checkForSubscriptions=function(e){return L("delete-site"),!(!s.props.isAtomic&&(0,g.some)(s.props.sitePurchases,"active"))||(e.preventDefault(),void s.setState({showDialog:!0}))},s.closeDialog=function(){s.setState({showDialog:!1})},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.purchasesError&&O.default.error(e.purchasesError)}},{key:"render",value:function(){var e=this.props,t=e.translate,n=e.siteSlug,s=e.importUrl,i=e.exportUrl,r=e.showChangeAddress,a=e.showDeleteContent,o=e.showDeleteSite,l=e.showThemeSetup,u=e.showManageConnection,d="/domains/manage/"+n,c="/settings/theme-setup/"+n,f="/settings/start-over/"+n,p="/settings/delete-site/"+n,m="/settings/manage-connection/"+n,_=t("Automatically make your site look like your theme's demo."),g=t("Change your site address"),b=t("Theme setup"),v=t("Delete your content"),j=t("Keep your site's address and current theme, but remove all posts, pages, and media so you can start fresh."),S=t("Delete your site permanently"),x=t("Delete all your posts, pages, media, and data, and give up your site's address."),C=t("Manage your connection"),w=t("Sync your site content for a faster experience, change site owner, repair or terminate your connection."),I=t("Import"),A=t("Import content from another WordPress or Medium site."),R=t("Export"),P=t("Export content from your site. You own your data â€” take it anywhere!"),M=t("Register a new domain or change your site's address.");return E.default.isEnabled("upgrades/domain-search")||(M=t("Change your site address.")),h.default.createElement("div",{className:"site-tools"},h.default.createElement(T.default,{label:t("Site Tools")}),r&&h.default.createElement(k.default,{href:d,onClick:this.trackChangeAddress,title:g,description:M}),h.default.createElement(k.default,{href:s,title:I,description:A}),h.default.createElement(k.default,{href:i,title:R,description:P}),l&&h.default.createElement(k.default,{href:c,onClick:this.trackThemeSetup,title:b,description:_}),a&&h.default.createElement(k.default,{href:f,onClick:this.trackStartOver,title:v,description:j}),o&&h.default.createElement(k.default,{href:p,onClick:this.checkForSubscriptions,title:S,description:x,isWarning:!0}),u&&h.default.createElement(k.default,{href:m,title:C,description:w}),h.default.createElement(y.default,{isVisible:this.state.showDialog,onClose:this.closeDialog}))}},{key:"trackChangeAddress",value:function(){L("change-address")}},{key:"trackThemeSetup",value:function(){L("theme-setup")}},{key:"trackStartOver",value:function(){L("start-over")}}]),t}(m.Component);t.default=(0,_.connect)(function(e){var t=(0,w.getSelectedSiteId)(e),n=(0,w.getSelectedSiteSlug)(e),s=(0,R.default)(e,t),i=(0,I.isJetpackSite)(e,t),r=(0,M.default)(e,t),a=(0,D.hasLoadedSitePurchasesFromServer)(e),o="/settings/import/"+n,l="/settings/export/"+n;return i&&(o=(0,I.getSiteAdminUrl)(e,t,"import.php"),l=(0,I.getSiteAdminUrl)(e,t,"export.php")),{isAtomic:s,siteSlug:n,sitePurchases:(0,D.getSitePurchases)(e,t),purchasesError:(0,D.getPurchasesError)(e),importUrl:o,exportUrl:l,showChangeAddress:!i&&!r,showThemeSetup:E.default.isEnabled("settings/theme-setup")&&!i&&!r,showDeleteContent:!i&&!r,showDeleteSite:(!i||s)&&!r&&a,showManageConnection:i&&!s}})((0,S.localize)(F)),e.exports=t.default},"./client/my-sites/site-settings/site-tools/link.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/prop-types/index.js"),r=s(i),a=n("./node_modules/react/react.js"),o=s(a),l=n("./node_modules/classnames/index.js"),u=s(l),d=n("./node_modules/lodash/lodash.js"),c=n("./client/components/card/compact.jsx"),f=s(c),p=function(e){var t=e.description,n=e.href,s=e.isWarning,i=e.onClick,r=e.title,a=(0,u.default)("site-tools__section-title",{"is-warning":s});return o.default.createElement(f.default,{href:n,onClick:i,className:"site-tools__link"},o.default.createElement("div",{className:"site-tools__content"},o.default.createElement("p",{className:a},r),o.default.createElement("p",{className:"site-tools__section-desc"},t)))};p.propTypes={description:r.default.string,href:r.default.string,isWarning:r.default.bool,onClick:r.default.func,title:r.default.string},p.defaultProps={isWarning:!1,onClick:d.noop},t.default=p,e.exports=t.default},"./client/my-sites/site-settings/start-over.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/i18n-calypso/index.js"),l=n("./node_modules/gridicons/build/index.js"),u=s(l),d=n("./client/components/header-cake/index.jsx"),c=s(d),f=n("./client/my-sites/site-settings/action-panel/index.jsx"),p=s(f),m=n("./client/my-sites/site-settings/action-panel/title.jsx"),h=s(m),_=n("./client/my-sites/site-settings/action-panel/body.jsx"),g=s(_),b=n("./client/my-sites/site-settings/action-panel/figure.jsx"),y=s(b),v=n("./client/my-sites/site-settings/action-panel/footer.jsx"),E=s(v),j=n("./client/components/button/index.jsx"),S=s(j),x=n("./client/lib/url/support.js"),T=s(x),C=n("./client/state/ui/selectors.js"),k=function(e){var t=e.translate,n=e.selectedSiteSlug;return r.default.createElement("div",{className:"main main-column",role:"main"},r.default.createElement(c.default,{backHref:"/settings/general/"+n},r.default.createElement("h1",null,t("Start Over"))),r.default.createElement(p.default,null,r.default.createElement(g.default,null,r.default.createElement(y.default,{inlineBodyText:!0},r.default.createElement("img",{src:"/calypso/images/wordpress/logo-stars.svg",width:"170",height:"143"})),r.default.createElement(h.default,null,t("Start Over")),r.default.createElement("p",null,t("If you want a site but don't want any of the posts and pages you have now, our support team can delete your posts, pages, media, and comments for you.")),r.default.createElement("p",null,t("This will keep your site and URL active, but give you a fresh start on your content creation. Just contact us to have your current content cleared out.")),r.default.createElement("p",null,t("Alternatively, you can delete all content from your site by following the steps here."))),r.default.createElement(E.default,null,r.default.createElement(S.default,{className:"settings-action-panel__support-button is-external",href:T.default.EMPTY_SITE},t("Follow the Steps"),r.default.createElement(u.default,{icon:"external",size:48})),r.default.createElement(S.default,{className:"settings-action-panel__support-button",href:"/help/contact"},t("Contact Support")))))};t.default=(0,a.connect)(function(e){return{selectedSiteSlug:(0,C.getSelectedSiteSlug)(e)}})((0,o.localize)(k)),e.exports=t.default},"./client/my-sites/site-settings/theme-setup-dialog/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/i18n-calypso/index.js"),g=n("./node_modules/react-redux/es/index.js"),b=n("./node_modules/page/index.js"),y=s(b),v=n("./client/components/dialog/index.jsx"),E=s(v),j=n("./client/components/pulsing-dot/index.jsx"),S=s(j),x=n("./client/state/ui/selectors.js"),T=n("./client/state/ui/theme-setup/actions.js"),C=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"renderButtons",value:function(e){var t=e.runThemeSetup,n=e.site,s=e.isActive,i=e.result,r=e.translate,a={action:"keep-content",label:r("Set Up Your Theme"),isPrimary:!0,onClick:function(){return t(n.ID)}},o={action:"cancel",label:r("Cancel")},l={action:"back-to-setup",label:r("Back To Setup"),disabled:s},u={action:"view-site",label:r("View Site"),isPrimary:!0,disabled:s,onClick:function(){return(0,y.default)(n.URL)}};return s||"success"===i.result?[l,u]:[o,a]}},{key:"renderContent",value:function(e){var t=e.isActive,n=e.result,s=e.site,i=e.translate,r=h.default.createElement("div",null,h.default.createElement("h1",null,i("Theme Setup")),h.default.createElement("p",null,i("Settings will be changed on {{strong}}%(site)s{{/strong}}, and these changes will be live immmediately. Do you want to proceed?",{components:{strong:h.default.createElement("strong",null)},args:{site:s.domain}}))),a=h.default.createElement("div",null,h.default.createElement("h1",null,i("Theme Setup")),h.default.createElement("p",null,i("Running Theme Setup. This may take up to a minute.")),h.default.createElement(S.default,{active:!0})),o=h.default.createElement("div",null,h.default.createElement("h1",null,i("Theme Setup")),h.default.createElement("p",null,i("Success! Your theme is all set up like the demo."))),l=h.default.createElement("div",null,h.default.createElement("h1",null,i("Theme Setup")),h.default.createElement("p",null,i("We encountered a problem â€“ would you like to try again?")));return t?a:n?"success"===n.result?o:l:r}},{key:"render",value:function(){return h.default.createElement(E.default,{className:"theme-setup-dialog",isVisible:this.props.isDialogVisible,buttons:this.renderButtons(this.props),onClose:this.props.isActive?null:this.props.toggleDialog},this.renderContent(this.props))}}]),t}(h.default.Component);C=(0,_.localize)(C);var k=function(e){var t=e.ui.themeSetup.isDialogVisible,n=e.ui.themeSetup.active,s=e.ui.themeSetup.result,i=(0,x.getSelectedSite)(e);return{isDialogVisible:t,isActive:n,result:s,site:i}};t.default=(0,g.connect)(k,{toggleDialog:T.toggleDialog,runThemeSetup:T.runThemeSetup})(C),e.exports=t.default},"./client/my-sites/site-settings/theme-setup/active-theme-screenshot.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/i18n-calypso/index.js"),o=function(e){var t=e.theme,n=e.translate;return r.default.createElement("div",{className:"active-theme-screenshot"},t&&r.default.createElement("a",{href:t.demo_uri},r.default.createElement("img",{className:"active-theme-screenshot__image",src:t.screenshot}),r.default.createElement("span",{className:"active-theme-screenshot__name"},n("Current theme: %(name)s",{args:{name:t.name}}))))};t.default=(0,a.localize)(o),e.exports=t.default},"./client/my-sites/site-settings/theme-setup/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),m=n("./node_modules/react/react.js"),h=s(m),_=n("./node_modules/react-redux/es/index.js"),g=n("./node_modules/i18n-calypso/index.js"),b=n("./node_modules/page/index.js"),y=s(b),v=n("./client/components/header-cake/index.jsx"),E=s(v),j=n("./client/components/main/index.jsx"),S=s(j),x=n("./client/components/data/query-active-theme/index.jsx"),T=s(x),C=n("./client/components/data/query-theme/index.jsx"),k=s(C),w=n("./client/my-sites/site-settings/theme-setup/theme-setup-card.jsx"),I=s(w),A=n("./client/my-sites/site-settings/theme-setup/theme-setup-placeholder.jsx"),R=s(A),P=n("./client/state/ui/selectors.js"),M=n("./client/state/themes/selectors.js"),D=n("./client/state/sites/selectors.js"),N=n("./client/state/ui/theme-setup/actions.js"),O=function(e){function t(){var e,n,s,i;(0,o.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.redirectToGeneral=function(){var e=s.props.siteSlug;y.default.redirect("/settings/general/"+e)},i=n,(0,c.default)(s,i)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.siteIsJetpack,s=t.siteId;s!==e.siteId&&n&&this.redirectToGeneral()}},{key:"render",value:function(){var e=this.props,t=e.siteId,n=e.theme,s=e.themeId,i=e.translate;return h.default.createElement(S.default,{className:"theme-setup"},t&&h.default.createElement(T.default,{siteId:t}),s&&h.default.createElement(k.default,{siteId:"wpcom",themeId:s}),h.default.createElement(E.default,{onClick:this.redirectToGeneral},h.default.createElement("h1",null,i("Theme Setup"))),t&&n?h.default.createElement(I.default,{onClick:this.props.toggleDialog,theme:n}):h.default.createElement(R.default,null))}}]),t}(m.Component),L=function(e){var t=(0,P.getSelectedSiteId)(e),n=(0,D.isJetpackSite)(e,t),s=(0,P.getSelectedSiteSlug)(e)||"",i=t&&(0,M.getActiveTheme)(e,t),r=i&&(0,M.getTheme)(e,"wpcom",i);return{siteId:t,siteIsJetpack:n,siteSlug:s,themeId:i,theme:r}};t.default=(0,_.connect)(L,{toggleDialog:N.toggleDialog})((0,g.localize)(O)),e.exports=t.default},"./client/my-sites/site-settings/theme-setup/theme-setup-card.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=n("./node_modules/i18n-calypso/index.js"),o=n("./client/my-sites/site-settings/action-panel/index.jsx"),l=s(o),u=n("./client/my-sites/site-settings/action-panel/title.jsx"),d=s(u),c=n("./client/my-sites/site-settings/action-panel/body.jsx"),f=s(c),p=n("./client/my-sites/site-settings/action-panel/footer.jsx"),m=s(p),h=n("./client/my-sites/site-settings/action-panel/figure.jsx"),_=s(h),g=n("./client/components/notice/index.jsx"),b=s(g),y=n("./client/components/button/index.jsx"),v=s(y),E=n("./client/my-sites/site-settings/theme-setup/active-theme-screenshot.jsx"),j=s(E),S=n("./client/my-sites/site-settings/theme-setup-dialog/index.jsx"),x=s(S),T=function(e){
var t=e.theme,n=e.translate,s=e.onClick;return r.default.createElement(l.default,null,r.default.createElement(f.default,null,r.default.createElement(d.default,null,n("Theme Setup")),r.default.createElement(b.default,{status:"is-warning",showDismiss:!1},n("This action cannot be undone.")),r.default.createElement(_.default,null,r.default.createElement(j.default,{theme:t})),r.default.createElement("p",null,n("Want your site to look like the demo? Use Theme Setup to automatically apply the demo site's settings to your site.")),r.default.createElement("p",null,n("You can apply Theme Setup to your current site while keeping all your posts, pages, and widgets. Some placeholder text may appear on your site â€“ some themes need certain elements to look like the demo, so Theme Setup adds those for you. Please customize it!",{components:{strong:r.default.createElement("strong",null)}}))),r.default.createElement(m.default,null,r.default.createElement(v.default,{className:"theme-setup__button",primary:!0,onClick:s},n("Set Up Your Theme"))),r.default.createElement(x.default,null))};t.default=(0,a.localize)(T),e.exports=t.default},"./client/my-sites/site-settings/theme-setup/theme-setup-placeholder.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/react.js"),r=s(i),a=function(){return r.default.createElement("div",{className:"card settings-action-panel"},r.default.createElement("div",{className:"settings-action-panel__body"},r.default.createElement("h2",{className:"settings-action-panel__title"},r.default.createElement("span",{className:"is-placeholder"},"Theme Setup")),r.default.createElement("div",{className:"notice is-placeholder"},r.default.createElement("span",{className:"notice__text"},"Notice")),r.default.createElement("p",{className:"is-placeholder"},"Want your site to look like the demo? Use Theme Setup to automatically apply the demo site's settings to your site."),r.default.createElement("p",{className:"is-placeholder"},"You can apply Theme Setup to your current site while keeping all your posts, pages, and widgets. Some placeholder text may appear on your site â€“ some themes need certain elements to look like the demo, so Theme Setup adds those for you. Please customize it!")),r.default.createElement("div",{className:"settings-action-panel__footer"},r.default.createElement("button",{className:"button theme-setup__button is-placeholder"},"Set Up And Keep Content")))};t.default=a,e.exports=t.default},"./client/my-sites/site-settings/wrap-settings-form.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/defineProperty.js"),r=s(i),a=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(a),l=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/createClass.js"),p=s(f),m=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=s(m),_=n("./node_modules/babel-runtime/helpers/inherits.js"),g=s(_),b=n("./node_modules/react/react.js"),y=s(b),v=n("./node_modules/redux/lib/index.js"),E=n("./node_modules/lodash/lodash.js"),j=n("./node_modules/react-redux/es/index.js"),S=n("./node_modules/i18n-calypso/index.js"),x=n("./client/lib/protect-form/index.jsx"),T=n("./client/lib/track-form/index.jsx"),C=s(T),k=n("./client/state/site-settings/selectors.js"),w=n("./client/state/selectors/is-requesting-jetpack-settings.js"),I=s(w),A=n("./client/state/selectors/is-updating-jetpack-settings.js"),R=s(A),P=n("./client/state/selectors/is-jetpack-settings-save-failure.js"),M=s(P),D=n("./client/state/selectors/get-jetpack-settings.js"),N=s(D),O=n("./client/state/analytics/actions.js"),L=n("./client/state/site-settings/actions.js"),F=n("./client/state/jetpack/settings/actions.js"),U=n("./client/state/notices/actions.js"),q=n("./client/state/ui/selectors.js"),B=n("./client/state/sites/selectors.js"),V=n("./client/components/data/query-site-settings/index.js"),W=s(V),z=n("./client/components/data/query-jetpack-settings/index.jsx"),H=s(z),G=function(e){return function(t){var n=function(n){function s(){var e,t,n,i;(0,c.default)(this,s);for(var a=arguments.length,l=Array(a),d=0;d<a;d++)l[d]=arguments[d];return t=n=(0,h.default)(this,(e=s.__proto__||(0,u.default)(s)).call.apply(e,[this].concat(l))),n.state={uniqueEvents:{}},n.handleSubmitForm=function(e){var t=n.props,s=t.dirtyFields,i=t.fields,r=t.trackTracksEvent;!e.isDefaultPrevented()&&e.nativeEvent&&e.preventDefault(),s.map(function(e){switch(e){case"blogdescription":r("calypso_settings_site_tagline_updated");break;case"blogname":r("calypso_settings_site_title_updated");break;case"blog_public":r("calypso_settings_site_privacy_updated",{privacy:i.blog_public});break;case"wga":r("calypso_seo_settings_google_analytics_updated")}}),n.submitForm(),n.props.trackEvent("Clicked Save Settings Button")},n.submitForm=function(){var e=n.props,t=e.fields,s=e.jetpackSiteRequiresLegacySettingsAPI,i=e.settingsFields,r=e.siteId,a=e.siteIsJetpack,l=e.jetpackSettingsUISupported;n.props.removeNotice("site-settings-save");var u=(0,E.pick)(t,i.site),d=a&&s?"1.1":"1.3";n.props.saveSiteSettings(r,(0,o.default)({},u,{apiVersion:d})),l&&n.props.updateSettings(r,(0,E.pick)(t,i.jetpack))},n.handleRadio=function(e){var t=e.currentTarget.name,s=e.currentTarget.value;n.props.trackEvent("Set "+t+" to "+s),n.props.updateFields((0,r.default)({},t,s))},n.handleAutosavingRadio=function(e,t){return function(){var s=n.props.fields;s[e]!==t&&(n.props.trackEvent("Set "+e+" to "+t),n.props.updateFields((0,r.default)({},e,t),function(){n.submitForm()}))}},n.handleSelect=function(e){var t=e.currentTarget,s=t.name,i=t.value,a=parseInt(i,10);n.props.updateFields((0,r.default)({},s,(0,E.isNaN)(a)?i:a))},n.handleToggle=function(e){return function(){n.props.trackEvent("Toggled "+e),n.props.updateFields((0,r.default)({},e,!n.props.fields[e]))}},n.handleAutosavingToggle=function(e){return function(){n.props.trackEvent("Toggled "+e),n.props.updateFields((0,r.default)({},e,!n.props.fields[e]),function(){n.submitForm()})}},n.onChangeField=function(e){return function(t){n.props.updateFields((0,r.default)({},e,t.target.value))}},n.setFieldValue=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.props.updateFields((0,r.default)({},e,t),function(){s&&n.submitForm()})},n.uniqueEventTracker=function(e){return function(){if(!n.state.uniqueEvents[e]){var t=(0,o.default)({},n.state.uniqueEvents,(0,r.default)({},e,!0));n.setState({uniqueEvents:t}),n.props.trackEvent(e)}}},i=t,(0,h.default)(n,i)}return(0,g.default)(s,n),(0,p.default)(s,[{key:"componentWillMount",value:function(){this.props.replaceFields(e(this.props.settings))}},{key:"componentDidUpdate",value:function(t){if(t.siteId!==this.props.siteId){this.props.clearDirtyFields();var n=e(this.props.settings);this.props.replaceFields(n,void 0,!1)}else(0,E.isEqual)(t.settings,this.props.settings)&&(0,E.isEqual)(t.fields,this.props.fields)||this.updateDirtyFields();if(!this.props.isSavingSettings&&t.isSavingSettings)if(this.props.isSaveRequestSuccessful)this.props.successNotice(this.props.translate("Settings saved!"),{id:"site-settings-save"});else{var s=this.props.translate("There was a problem saving your changes. Please try again.");switch(this.props.siteSettingsSaveError){case"invalid_ip":s=this.props.translate("One of your IP Addresses was invalid. Please try again.")}this.props.errorNotice(s,{id:"site-settings-save"})}}},{key:"updateDirtyFields",value:function(){var t=this.props.fields,n=e(this.props.settings),s=this.props.dirtyFields,i=s.filter(function(e){return!(t[e]==n[e])});0===i.length?this.props.markSaved():this.props.markChanged(),this.props.clearDirtyFields(),this.props.updateFields((0,E.pick)(t,i));var r=(0,E.omit)(n,i);this.props.replaceFields(r)}},{key:"render",value:function(){var e={handleRadio:this.handleRadio,handleSelect:this.handleSelect,handleSubmitForm:this.handleSubmitForm,handleToggle:this.handleToggle,handleAutosavingToggle:this.handleAutosavingToggle,handleAutosavingRadio:this.handleAutosavingRadio,onChangeField:this.onChangeField,setFieldValue:this.setFieldValue,submitForm:this.submitForm,uniqueEventTracker:this.uniqueEventTracker};return y.default.createElement("div",null,y.default.createElement(W.default,{siteId:this.props.siteId}),this.props.jetpackSettingsUISupported&&y.default.createElement(H.default,{siteId:this.props.siteId}),y.default.createElement(t,(0,o.default)({},this.props,e)))}}]),s}(b.Component),s=(0,j.connect)(function(e){var t=(0,q.getSelectedSiteId)(e),n=(0,k.isSavingSiteSettings)(e,t),s=(0,k.isSiteSettingsSaveSuccessful)(e,t),i=(0,k.getSiteSettings)(e,t),r=(0,k.isRequestingSiteSettings)(e,t)&&!i,a=(0,k.getSiteSettingsSaveError)(e,t),l={site:(0,E.keys)(i)},u=(0,B.isJetpackSite)(e,t),d=u&&(0,B.siteSupportsJetpackSettingsUi)(e,t),c=u&&!(0,B.isJetpackMinimumVersion)(e,t,"5.4-beta3");if(d){var f=(0,N.default)(e,t);n=n||(0,R.default)(e,t),s=s&&!(0,M.default)(e,t),i=(0,o.default)({},i,f),l.jetpack=(0,E.keys)(f),r=r||(0,I.default)(e,t)&&!f}return{isRequestingSettings:r,isSavingSettings:n,isSaveRequestSuccessful:s,jetpackSiteRequiresLegacySettingsAPI:c,siteIsJetpack:u,siteSettingsSaveError:a,settings:i,settingsFields:l,siteId:t,jetpackSettingsUISupported:d}},function(e){var t=(0,v.bindActionCreators)({errorNotice:U.errorNotice,recordTracksEvent:O.recordTracksEvent,removeNotice:U.removeNotice,saveSiteSettings:L.saveSiteSettings,successNotice:U.successNotice,updateSettings:F.updateSettings},e),n=function(t){return e((0,O.recordGoogleEvent)("Site Settings",t))},s=function(t,n){return e((0,O.recordTracksEvent)(t,n))};return(0,o.default)({},t,{eventTracker:function(e){return function(){return n(e)}},trackTracksEvent:s,trackEvent:n})});return(0,E.flowRight)(s,S.localize,C.default,x.protectForm)(n)}};t.default=G,e.exports=t.default},"./client/state/jetpack-sync/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/debug/browser.js"),r=s(i),a=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/wp/browser.js"),l=s(o),u=n("./client/state/action-types.js"),d=(0,r.default)("calypso:state:jetpack-sync:actions");t.default={getSyncStatus:function(e){return function(t){return d("Getting sync status for: "+e),t({type:u.JETPACK_SYNC_STATUS_REQUEST,siteId:e}),l.default.undocumented().getJetpackSyncStatus(e).then(function(n){t({type:u.JETPACK_SYNC_STATUS_SUCCESS,siteId:e,data:n})}).catch(function(n){t({type:u.JETPACK_SYNC_STATUS_ERROR,siteId:e,error:(0,a.pick)(n,["error","status","message"])})})}},scheduleJetpackFullysync:function(e){return function(t){return d("Requesting full sync for: "+e),t({type:u.JETPACK_SYNC_START_REQUEST,siteId:e}),l.default.undocumented().scheduleJetpackFullysync(e).then(function(n){t({type:u.JETPACK_SYNC_START_SUCCESS,siteId:e,data:n})}).catch(function(n){t({type:u.JETPACK_SYNC_START_ERROR,siteId:e,error:(0,a.pick)(n,["error","status","message"])})})}}},e.exports=t.default},"./client/state/jetpack-sync/selectors.js":function(e,t,n){"use strict";function s(e,t){return(0,l.get)(e,["jetpackSync","syncStatus",t])}function i(e,t){return(0,l.get)(e,["jetpackSync","fullSyncRequest",t])}function r(e,t){var n=s(e,t),r=i(e,t),a=(0,l.get)(n,"is_scheduled");if(a)return!0;var o=(0,l.get)(r,"isRequesting")||(0,l.get)(r,"scheduled");if(!o)return!1;var u=(0,l.get)(r,"lastRequested"),d=(0,l.get)(n,"lastSuccessfulStatus");return!d||parseInt(u,10)>parseInt(d,10)}function a(e,t){var n=s(e,t);if(!n)return!1;var i=(0,l.get)(n,"started"),r=(0,l.get)(n,"finished");return i&&!r}function o(e,t){var n=s(e,t),i=(0,l.get)(n,"queue"),a=(0,l.get)(n,"sent"),o=(0,l.get)(n,"total"),u=.1,d=.9;if(r(e,t)||!i||!a||!o)return 0;var c=(0,l.reduce)(i,function(e,t){return e+=t},0),f=(0,l.reduce)(a,function(e,t){return e+=t},0),p=(0,l.reduce)(o,function(e,t){return e+=t},0),m=c/p*u*100,h=f/p*d*100;return Math.ceil(m+h)}Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/lodash/lodash.js");t.default={getSyncStatus:s,getFullSyncRequest:i,isPendingSyncStart:r,isFullSyncing:a,getSyncProgressPercentage:o},e.exports=t.default},"./client/state/jetpack/settings/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.regeneratePostByEmail=t.updateSettings=t.fetchSettings=void 0;var i=n("./client/state/action-types.js"),r=n("./client/lib/wp/browser.js"),a=s(r),o=n("./client/state/jetpack/settings/utils.js");t.fetchSettings=function(e){return function(t){return t({type:i.JETPACK_SETTINGS_REQUEST,siteId:e}),a.default.undocumented().fetchJetpackSettings(e).then(function(n){var s=(0,o.normalizeSettings)(n.data)||{};t({type:i.JETPACK_SETTINGS_RECEIVE,siteId:e,settings:s}),t({type:i.JETPACK_SETTINGS_REQUEST_SUCCESS,siteId:e})}).catch(function(n){t({type:i.JETPACK_SETTINGS_REQUEST_FAILURE,siteId:e,error:n.message})})}},t.updateSettings=function(e,t){return function(n){return n({type:i.JETPACK_SETTINGS_UPDATE,siteId:e,settings:t}),a.default.undocumented().updateJetpackSettings(e,(0,o.filterSettingsByActiveModules)((0,o.sanitizeSettings)(t))).then(function(){n({type:i.JETPACK_SETTINGS_UPDATE_SUCCESS,siteId:e,settings:t})}).catch(function(s){n({type:i.JETPACK_SETTINGS_UPDATE_FAILURE,siteId:e,settings:t,error:s.message})})}},t.regeneratePostByEmail=function(e){return function(t){return t({type:i.JETPACK_SETTINGS_REGENERATE_POST_BY_EMAIL,siteId:e}),a.default.undocumented().updateJetpackSettings(e,{post_by_email_address:"regenerate"}).then(function(n){var s=n.data;t({type:i.JETPACK_SETTINGS_REGENERATE_POST_BY_EMAIL_SUCCESS,siteId:e,email:s.post_by_email_address})}).catch(function(n){t({type:i.JETPACK_SETTINGS_REGENERATE_POST_BY_EMAIL_FAILURE,siteId:e,error:n.message})})}}},"./client/state/products-list/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){return{type:l.PRODUCTS_LIST_RECEIVE,productsList:e}}function r(){return function(e){return e({type:l.PRODUCTS_LIST_REQUEST}),o.default.undocumented().getProducts().then(function(t){return e(i(t))}).catch(function(t){return e({type:l.PRODUCTS_LIST_REQUEST_FAILURE,error:t})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveProductsList=i,t.requestProductsList=r;var a=n("./client/lib/wp/browser.js"),o=s(a),l=n("./client/state/action-types.js")},"./client/state/products-list/selectors.js":function(e,t,n){"use strict";function s(e){return e.productsList.isFetching}function i(e){return e.productsList.items}function r(e){return(0,o.pickBy)(e.productsList.items,function(e){return e.available})}function a(e,t){var n=e.productsList.items[t];return n?n.cost_display:null}Object.defineProperty(t,"__esModule",{value:!0}),t.isProductsListFetching=s,t.getProductsList=i,t.getAvailableProductsList=r,t.getProductDisplayCost=a;var o=n("./node_modules/lodash/lodash.js")},"./client/state/purchases/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.removePurchase=t.fetchUserPurchases=t.fetchSitePurchases=t.clearPurchases=t.cancelPrivacyProtection=void 0;var i=n("./node_modules/babel-runtime/core-js/promise.js"),r=s(i),a=n("./node_modules/i18n-calypso/index.js"),o=s(a),l=n("./client/lib/olark/index.js"),u=s(l),d=n("./client/state/action-types.js"),c=n("./client/lib/wp/browser.js"),f=s(c),p=f.default.undocumented(),m=o.default.translate("There was an error retrieving purchases."),h=o.default.translate("There was an error removing the purchase.");t.cancelPrivacyProtection=function(e){return function(t){return t({type:d.PRIVACY_PROTECTION_CANCEL,purchaseId:e}),new r.default(function(t,n){p.cancelPrivacyProtection(e,function(e,s){e?n(e):t(s)})}).then(function(e){t({type:d.PRIVACY_PROTECTION_CANCEL_COMPLETED,purchase:e.upgrade})}).catch(function(n){t({type:d.PRIVACY_PROTECTION_CANCEL_FAILED,purchaseId:e,error:n.message||o.default.translate("There was a problem canceling this privacy protection. Please try again later or contact support.")})})}},t.clearPurchases=function(){return u.default.updateOlarkGroupAndEligibility(),{type:d.PURCHASES_REMOVE}},t.fetchSitePurchases=function(e){return function(t){return t({type:d.PURCHASES_SITE_FETCH,siteId:e}),new r.default(function(t,n){p.sitePurchases(e,function(e,s){e?n(e):t(s)})}).then(function(n){t({type:d.PURCHASES_SITE_FETCH_COMPLETED,siteId:e,purchases:n})}).catch(function(){t({type:d.PURCHASES_SITE_FETCH_FAILED,error:m})})}},t.fetchUserPurchases=function(e){return function(t){return t({type:d.PURCHASES_USER_FETCH}),new r.default(function(e,t){p.me().purchases(function(n,s){n?t(n):e(s)})}).then(function(n){t({type:d.PURCHASES_USER_FETCH_COMPLETED,purchases:n,userId:e})}).catch(function(){t({type:d.PURCHASES_USER_FETCH_FAILED,error:m})})}},t.removePurchase=function(e,t){return function(n){return new r.default(function(t,n){p.me().deletePurchase(e,function(e,s){e?n(e):t(s)})}).then(function(e){n({type:d.PURCHASE_REMOVE_COMPLETED,purchases:e.purchases,userId:t}),u.default.updateOlarkGroupAndEligibility()}).catch(function(e){n({type:d.PURCHASE_REMOVE_FAILED,error:e.message||h})})}}},"./client/state/site-settings/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return{type:f.SITE_SETTINGS_RECEIVE,siteId:e,settings:t}}function r(e,t){return{type:f.SITE_SETTINGS_UPDATE,siteId:e,settings:t}}function a(e){return function(t){return t({type:f.SITE_SETTINGS_REQUEST,siteId:e}),c.default.undocumented().settings(e).then(function(n){var s=n.name,r=n.description,a=n.settings,o=(0,u.default)({},(0,p.normalizeSettings)(a),{blogname:s,blogdescription:r});t(i(e,o)),t({type:f.SITE_SETTINGS_REQUEST_SUCCESS,siteId:e})}).catch(function(n){t({type:f.SITE_SETTINGS_REQUEST_FAILURE,siteId:e,error:n})})}}function o(e,t){return function(n){return n({type:f.SITE_SETTINGS_SAVE,siteId:e}),c.default.undocumented().settings(e,"post",t).then(function(t){var s=t.updated;n(r(e,(0,p.normalizeSettings)(s))),n({type:f.SITE_SETTINGS_SAVE_SUCCESS,siteId:e})}).catch(function(t){n({type:f.SITE_SETTINGS_SAVE_FAILURE,siteId:e,error:t})})}}Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/babel-runtime/helpers/extends.js"),u=s(l);t.receiveSiteSettings=i,t.updateSiteSettings=r,t.requestSiteSettings=a,t.saveSiteSettings=o;var d=n("./client/lib/wp/browser.js"),c=s(d),f=n("./client/state/action-types.js"),p=n("./client/state/site-settings/utils.js")},"./client/state/site-settings/utils.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,a.default)(e).reduce(function(t,n){switch(n){case"default_category":t[n]=parseInt(e[n]);break;default:t[n]=e[n]}return t},{})}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/keys.js"),a=s(r);t.normalizeSettings=i},"./client/state/themes/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){return{type:J.THEME_BACK_PATH_SET,path:e}}function r(e,t){return a([e],t)}function a(e,t,n,s){return function(i,r){var a=e,o=s;if((0,X.isJetpackSite)(r(),t)){var l=(0,Q.shouldFilterWpcomThemes)(r(),t);a=(0,F.filter)(e,function(e){return(0,$.isThemeMatchingQuery)(n,e)&&!(l&&(0,$.isThemeFromWpcom)(e))}),o=a.length}i({type:J.THEMES_REQUEST_SUCCESS,themes:a,siteId:t,query:n,found:o})}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,s){var i=(new Date).getTime();n({type:J.THEMES_REQUEST,siteId:e,query:t});var r=void 0;return r="wporg"===e?function(){return Y.default.fetchThemesList(t)}:"wpcom"===e?function(){return H.default.undocumented().themes(null,(0,L.default)({},t,{apiVersion:"1.2"}))}:function(){return H.default.undocumented().themes(e,(0,L.default)({},t,{apiVersion:"1"}))},r().then(function(r){var o=r.themes,l=r.info;l=void 0===l?{}:l;var u=l.results,d=r.found,c=void 0===d?u:d,f=void 0;if(f="wporg"===e?(0,F.map)(o,$.normalizeWporgTheme):"wpcom"===e?(0,F.map)(o,$.normalizeWpcomTheme):(0,F.map)(o,$.normalizeJetpackTheme),(t.search||t.filter)&&1===t.page){var p=(new Date).getTime()-i,m=(0,ne.default)(s(),t.filter),h=m+(t.search||""),_=(0,K.recordTracksEvent)("calypso_themeshowcase_search",{search_term:h||null,search_taxonomies:m,tier:t.tier,response_time_in_ms:p,result_count:c,results_first_page:f.map((0,F.property)("id")).join()});n(_)}n(a(f,e,t,c))}).catch(function(s){n({type:J.THEMES_REQUEST_FAILURE,siteId:e,query:t,error:s})})}}function l(e,t,n){return{type:J.THEME_REQUEST_FAILURE,siteId:e,themeId:t,error:n}}function u(e,t){return function(n){return n({type:J.THEME_REQUEST,siteId:t,themeId:e}),"wporg"===t?Y.default.fetchThemeInformation(e).then(function(s){if(!s)throw"Theme not found";n(r((0,$.normalizeWporgTheme)(s),t)),n({type:J.THEME_REQUEST_SUCCESS,siteId:t,themeId:e})}).catch(function(s){n({type:J.THEME_REQUEST_FAILURE,siteId:t,themeId:e,error:s})}):"wpcom"===t?H.default.undocumented().themeDetails(e).then(function(s){n(r((0,$.normalizeWpcomTheme)(s),t)),n({type:J.THEME_REQUEST_SUCCESS,siteId:t,themeId:e})}).catch(function(s){n({type:J.THEME_REQUEST_FAILURE,siteId:t,themeId:e,error:s})}):H.default.undocumented().jetpackThemeDetails(e,t).then(function(s){var i=s.themes;n(a((0,F.map)(i,$.normalizeJetpackTheme),t)),n({type:J.THEME_REQUEST_SUCCESS,siteId:t,themeId:e})}).catch(function(s){n(l(t,e,s))})}}function d(e){return function(t,n){return t({type:J.ACTIVE_THEME_REQUEST,siteId:e}),H.default.undocumented().activeTheme(e).then(function(s){oe("Received current theme",s);var i=(0,X.isJetpackSite)(n(),e)?e:"wpcom";t(r(s,i)),t({type:J.ACTIVE_THEME_REQUEST_SUCCESS,siteId:e,theme:s})}).catch(function(n){t({type:J.ACTIVE_THEME_REQUEST_FAILURE,siteId:e,error:n})})}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown",s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,r){if((0,X.isJetpackSite)(r(),t)&&!(0,Q.getTheme)(r(),t,e)){var a=M(r(),t,e);return i(y(a,t,n,s))}return i(f(e,t,n,s))}}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown",s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i){return i({type:J.THEME_ACTIVATE,themeId:e,siteId:t}),H.default.undocumented().activateTheme(e,t).then(function(r){var a=r.stylesheet||e;i(p(a,t,n,s))}).catch(function(n){i({type:J.THEME_ACTIVATE_FAILURE,themeId:e,siteId:t,error:n})})}}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown",s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=function(i,r){var a={type:J.THEME_ACTIVATE_SUCCESS,themeStylesheet:e,siteId:t},o=(0,Q.getActiveTheme)(r(),t),l=(0,Q.getLastThemeQuery)(r(),t),u=(0,ne.default)(r(),l.filter),d=u+(l.search||""),c=(0,K.recordTracksEvent)("calypso_themeshowcase_theme_activate",{theme:(0,$.getThemeIdFromStylesheet)(e),previous_theme:o,source:n,purchased:s,search_term:d||null,search_taxonomies:u});i((0,K.withAnalytics)(c,a))};return i}function m(e,t){return function(n,s){return n({type:J.THEME_INSTALL,siteId:t,themeId:e}),H.default.undocumented().installThemeOnJetpack(t,e).then(function(i){if(n(r(i,t)),n({type:J.THEME_INSTALL_SUCCESS,siteId:t,themeId:e}),(0,F.endsWith)(e,"-wpcom")){var a=(0,Q.getWpcomParentThemeId)(s(),e.replace("-wpcom",""));if(a)return n(m(a+"-wpcom",t))}}).catch(function(s){n({type:J.THEME_INSTALL_FAILURE,siteId:t,themeId:e,error:s})})}}function h(e){return{type:J.THEME_CLEAR_ACTIVATED,siteId:e}}function _(e,t){return function(n,s){if((0,X.isJetpackSite)(s(),t)&&!(0,Q.getTheme)(s(),t,e)){var i=M(s(),t,e);return n(g(i,t))}return n(b(e,t))}}function g(e,t){return function(n){return n(m(e,t)).then(function(){n(b(e,t))})}}function b(e,t){return function(n,s){var i=(0,Q.getThemeCustomizeUrl)(s(),e,t);return(0,W.isExternal)(i)?void(window.location.href=i):void(0,V.default)((0,Q.getThemeCustomizeUrl)(s(),e,t))}}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown",s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i){return i(m(e,t)).then(function(){i(f(e,t,n,s))})}}function v(e,t){return function(n){return n({type:J.THEME_UPLOAD_START,siteId:e}),H.default.undocumented().uploadTheme(e,t,function(t){n({type:J.THEME_UPLOAD_PROGRESS,siteId:e,loaded:t.loaded,total:t.total})}).then(function(t){n(r(t,e)),n({type:J.THEME_UPLOAD_SUCCESS,siteId:e,themeId:t.id})}).catch(function(t){n({type:J.THEME_UPLOAD_FAILURE,siteId:e,error:t})})}}function E(e){return{type:J.THEME_UPLOAD_CLEAR,siteId:e}}function j(e,t,n){var s=n?"plugins":"themes";return function(i){var r={type:J.THEME_TRANSFER_INITIATE_REQUEST,siteId:e};return i((0,K.withAnalytics)((0,K.recordTracksEvent)("calypso_automated_transfer_initiate_transfer",{plugin:n,context:s}),r)),H.default.undocumented().initiateTransfer(e,n,t,function(t){i({type:J.THEME_TRANSFER_INITIATE_PROGRESS,siteId:e,loaded:t.loaded,total:t.total})}).then(function(t){var r=t.transfer_id;if(!r)return i(T(e,{error:"initiate_failure"},n));var a={type:J.THEME_TRANSFER_INITIATE_SUCCESS,siteId:e,transferId:r};i((0,K.withAnalytics)((0,K.recordTracksEvent)("calypso_automated_transfer_initiate_success",{plugin:n,context:s}),a)),i(C(e,r))}).catch(function(t){i(T(e,t,n))})}}function S(e,t,n,s,i){return{type:J.THEME_TRANSFER_STATUS_RECEIVE,siteId:e,transferId:t,status:n,message:s,themeId:i}}function x(e,t,n){return{type:J.THEME_TRANSFER_STATUS_FAILURE,siteId:e,transferId:t,error:n}}function T(e,t,n){var s=n?"plugin":"theme";return function(i){var r={type:J.THEME_TRANSFER_INITIATE_FAILURE,siteId:e,error:t};i((0,K.withAnalytics)((0,K.recordTracksEvent)("calypso_automated_transfer_initiate_failure",{plugin:n,context:s}),r))}}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18e4,i=Date.now()+s;return function(s){var r=function r(a,o){return Date.now()>i?(s(x(e,t,"client timeout")),a()):H.default.undocumented().transferStatus(e,t).then(function(i){var l=i.status,u=i.message,d=i.uploaded_theme_slug;if(s(S(e,t,l,u,d)),"complete"===l){var c=d?"themes":"plugins";return s((0,K.recordTracksEvent)("calypso_automated_transfer_complete",{transfer_id:t,context:c})),a()}return(0,F.delay)(r,n,a,o)}).catch(function(n){return s(x(e,t,n)),a()})};return new N.default(r)}}function k(e,t){return function(n){return n({type:J.THEME_DELETE,themeId:e,siteId:t}),H.default.undocumented().deleteThemeFromJetpack(t,e).then(function(s){n({type:J.THEME_DELETE_SUCCESS,themeId:e,siteId:t,themeName:s.name})}).catch(function(s){n({type:J.THEME_DELETE_FAILURE,themeId:e,siteId:t,error:s})})}}function w(e,t){return function(n,s){var i=(0,Q.getTheme)(s(),t,e),r=i.name,a=(0,X.getSiteTitle)(s(),t);(0,ae.default)(ie.default.translate("Are you sure you want to delete %(themeName)s from %(siteTitle)s?",{args:{themeName:r,siteTitle:a},comment:"Themes: theme delete confirmation dialog"}),function(s){s&&n(k(e,t))},ie.default.translate("Delete %(themeName)s",{args:{themeName:r},comment:"Themes: theme delete dialog confirm button"}),ie.default.translate("Back",{context:"go back (like the back button in a browser)"}))}}function I(e,t){return{type:J.THEME_PREVIEW_OPTIONS,primary:e,secondary:t}}function A(e){return{type:J.THEME_PREVIEW_STATE,themeId:e}}function R(){return{type:J.THEME_PREVIEW_STATE,themeId:null}}function P(){return{type:J.THEME_FILTERS_REQUEST}}function M(e,t,n){return(0,ee.default)(e,t)?n:(0,Q.isDownloadableFromWpcom)(e,n)?n+"-wpcom":n}Object.defineProperty(t,"__esModule",{value:!0});var D=n("./node_modules/babel-runtime/core-js/promise.js"),N=s(D),O=n("./node_modules/babel-runtime/helpers/extends.js"),L=s(O);t.setBackPath=i,t.receiveTheme=r,t.receiveThemes=a,t.requestThemes=o,t.themeRequestFailure=l,t.requestTheme=u,t.requestActiveTheme=d,t.activate=c,t.activateTheme=f,t.themeActivated=p,t.installTheme=m,t.clearActivated=h,t.tryAndCustomize=_,t.installAndTryAndCustomizeTheme=g,t.tryAndCustomizeTheme=b,t.installAndActivateTheme=y,t.uploadTheme=v,t.clearThemeUpload=E,t.initiateThemeTransfer=j,t.pollThemeTransferStatus=C,t.deleteTheme=k,t.confirmDelete=w,t.setThemePreviewOptions=I,t.showThemePreview=A,t.hideThemePreview=R,t.requestThemeFilters=P;var F=n("./node_modules/lodash/lodash.js"),U=n("./node_modules/debug/browser.js"),q=s(U),B=n("./node_modules/page/index.js"),V=s(B),W=n("./client/lib/url/index.js"),z=n("./client/lib/wp/browser.js"),H=s(z),G=n("./client/lib/wporg/index.js"),Y=s(G),J=n("./client/state/action-types.js"),K=n("./client/state/analytics/actions.js"),Q=n("./client/state/themes/selectors.js"),$=n("./client/state/themes/utils.js"),X=n("./client/state/sites/selectors.js"),Z=n("./client/state/selectors/is-site-automated-transfer.js"),ee=s(Z),te=n("./client/state/selectors/prepend-theme-filter-keys.js"),ne=s(te),se=n("./node_modules/i18n-calypso/index.js"),ie=s(se),re=n("./client/lib/accept/index.js"),ae=s(re),oe=(0,q.default)("calypso:themes:actions")},"./client/state/themes/selectors.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var s=(0,U.find)(["wpcom","wporg",t],function(t){return X(e,t,n)});return X(e,s,n)}function r(e,t,n){return(0,U.get)(e.themes.themeRequestErrors,[n,t],null)}function a(e,t){return(0,U.get)(e.themes.lastQuery,t,{})}function o(e,t,n){var s=(0,K.getSerializedThemesQuery)(n,t);return!!e.themes.queryRequests[s]}function l(e,t,n){return e.themes.queries[t]?e.themes.queries[t].getFound(n):null}function u(e,t,n){if(!e.themes.queries[t])return null;var s=e.themes.queries[t].getNumberOfPages(n);return null===s?null:(0,G.isJetpackSite)(e,t)?1:Math.max(s,1)}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=u(e,t,n);return null===s?s:s===(n.page||Q.DEFAULT_THEME_QUERY.page)}function c(e,t,n){return!!e.themes.themeRequests[t]&&!!e.themes.themeRequests[t][n]}function f(e,t){return(0,U.get)(e.themes.activeThemeRequests,t,!1)}function p(e,t){return!!X(e,"wpcom",t)}function m(e,t){return!!X(e,"wporg",t)}function h(e,t,n){if(!t)return null;if((0,G.isJetpackSite)(e,n)&&!(H.default.isEnabled("manage/themes/details/jetpack")&&(0,G.canJetpackSiteManage)(e,n)&&(0,G.hasJetpackSiteJetpackThemesExtendedFeatures)(e,n)))return(0,G.getSiteOption)(e,n,"admin_url")+"themes.php?theme="+t;var s=K.oldShowcaseUrl+t;return H.default.isEnabled("manage/themes/details")&&(s="/theme/"+t),s+(n?"/"+(0,G.getSiteSlug)(e,n):"")}function _(e,t,n){if(!t||!w(e,t))return null;var s=n?"/"+(0,G.getSiteSlug)(e,n):"";return H.default.isEnabled("manage/themes/details")?"/theme/"+t+"/setup"+s:""+K.oldShowcaseUrl+s+t+"/support"}function g(e,t,n){if(!t)return null;var s=K.oldShowcaseUrl+t;return H.default.isEnabled("manage/themes/details")&&(s="/theme/"+t+"/support"),s+(n?"/"+(0,G.getSiteSlug)(e,n):"")}function b(e,t,n){return(0,G.isJetpackSite)(e,n)||!w(e,t)?null:"/checkout/"+(0,G.getSiteSlug)(e,n)+"/theme:"+t}function y(e,t,n){var s=(0,G.getCustomizerUrl)(e,n);if(!n||!t||x(e,t,n))return s;var i=(0,U.includes)(s,"?")?"&":"?",r=void 0;if((0,G.isJetpackSite)(e,n))r=t;else{var a=X(e,"wpcom",t);if(!a)return s;r=a.stylesheet}return s+i+"theme="+r}function v(e,t){if(!t)return null;var n="/start/with-theme?ref=calypshowcase&theme="+t;return w(e,t)&&(n+="&premium=true"),n}function E(e,t,n){var s=i(e,n,t);return(0,U.get)(s,"demo_uri")}function j(e,t){return w(e,t)?"//premium-themes.forums.wordpress.com/forum/"+t:p(e,t)?"//en.forums.wordpress.com/forum/themes":m(e,t)?"//wordpress.org/support/theme/"+t:null}function S(e,t){var n=(0,U.get)(e.themes.activeThemes,t,null);return n&&n.replace("-wpcom","")}function x(e,t,n){return S(e,n)===t}function T(e,t){return(0,U.get)(e.themes.activationRequests,t,!1);
}function C(e,t){return(0,U.get)(e.themes.completedActivationRequests,t,!1)}function k(e,t,n){var s=Z(e,t,n);return(0,U.get)(e.themes.themeInstalls,[n,s],!1)}function w(e,t){var n=X(e,"wpcom",t);return(0,K.isPremium)(n)}function I(e,t,n){return R(e,t,n)||(0,J.hasFeature)(e,n,$.FEATURE_UNLIMITED_PREMIUM_THEMES)}function A(e,t,n){return!!X(e,n,t)||p(e,t)&&H.default.isEnabled("manage/themes/upload")&&(0,G.hasJetpackSiteJetpackThemesExtendedFeatures)(e,n)}function R(e,t,n){var s=(0,Y.getSitePurchases)(e,n);return(0,U.some)(s,{productSlug:"premium_theme",meta:t})}function P(e){return(0,U.get)(e.themes,"themePreviewOptions",{})}function M(e){return(0,U.get)(e.themes,"themePreviewVisibility",null)}function D(e,t){return(0,U.get)(X(e,"wpcom",t),"template",null)}function N(e,t){var n=(0,U.get)(X(e,"wpcom",t),"download","");return!!(0,U.includes)(n,"wordpress.com")}function O(e,t){return(0,G.isJetpackSite)(e,t)&&H.default.isEnabled("manage/themes/upload")&&(0,G.hasJetpackSiteJetpackThemesExtendedFeatures)(e,t)&&!(0,G.isJetpackSiteMultiSite)(e,t)}function L(e,t,n){return(0,G.isJetpackSite)(e,n)&&w(e,t)&&!(0,J.hasFeature)(e,n,$.FEATURE_UNLIMITED_PREMIUM_THEMES)?"/checkout/"+(0,G.getSiteSlug)(e,n)+"/professional":null}function F(e,t,n){if(!w(e,t)||I(e,t,n))return"";if((0,G.isJetpackSite)(e,n))return B.default.translate("Upgrade",{comment:"Used to indicate a premium theme is available to the user once they upgrade their plan"});var s=X(e,"wpcom",t);return(0,U.get)(s,"price")}Object.defineProperty(t,"__esModule",{value:!0}),t.isRequestingThemesForQueryIgnoringPage=t.getThemesForQueryIgnoringPage=t.getThemesForQuery=t.getTheme=void 0,t.getCanonicalTheme=i,t.getThemeRequestErrors=r,t.getLastThemeQuery=a,t.isRequestingThemesForQuery=o,t.getThemesFoundForQuery=l,t.getThemesLastPageForQuery=u,t.isThemesLastPageForQuery=d,t.isRequestingTheme=c,t.isRequestingActiveTheme=f,t.isWpcomTheme=p,t.isWporgTheme=m,t.getThemeDetailsUrl=h,t.getThemeSupportUrl=_,t.getThemeHelpUrl=g,t.getThemePurchaseUrl=b,t.getThemeCustomizeUrl=y,t.getThemeSignupUrl=v,t.getThemeDemoUrl=E,t.getThemeForumUrl=j,t.getActiveTheme=S,t.isThemeActive=x,t.isActivatingTheme=T,t.hasActivatedTheme=C,t.isInstallingTheme=k,t.isThemePremium=w,t.isPremiumThemeAvailable=I,t.isThemeAvailableOnJetpackSite=A,t.isThemePurchased=R,t.getThemePreviewThemeOptions=P,t.themePreviewVisibility=M,t.getWpcomParentThemeId=D,t.isDownloadableFromWpcom=N,t.shouldFilterWpcomThemes=O,t.getJetpackUpgradeUrlIfPremiumTheme=L,t.getPremiumThemePrice=F;var U=n("./node_modules/lodash/lodash.js"),q=n("./node_modules/i18n-calypso/index.js"),B=s(q),V=n("./client/lib/create-selector/index.js"),W=s(V),z=n("./client/config/index.js"),H=s(z),G=n("./client/state/sites/selectors.js"),Y=n("./client/state/purchases/selectors.js"),J=n("./client/state/sites/plans/selectors.js"),K=n("./client/state/themes/utils.js"),Q=n("./client/state/themes/constants.js"),$=n("./client/lib/plans/constants.js"),X=t.getTheme=(0,W.default)(function(e,t,n){var s=e.themes.queries[t];return s?s.getItem(n):null},function(e){return e.themes.queries}),Z=function(e,t,n){var s=n&&(0,G.isJetpackSite)(e,n);return s&&!X(e,n,t)?t+"-wpcom":t};t.getThemesForQuery=(0,W.default)(function(e,t,n){var s=e.themes.queries[t];if(!s)return null;var i=s.getItems(n);return i?(0,U.includes)(i,void 0)?null:(0,U.uniq)(i):null},function(e){return e.themes.queries},function(e,t,n){return(0,K.getSerializedThemesQuery)(n,t)}),t.getThemesForQueryIgnoringPage=(0,W.default)(function(e,t,n){var s=e.themes.queries[t];if(!s)return null;var i=s.getItemsIgnoringPage(n);return i?(0,U.uniq)(i):null},function(e){return e.themes.queries},function(e,t,n){return(0,K.getSerializedThemesQueryWithoutPage)(n,t)}),t.isRequestingThemesForQueryIgnoringPage=(0,W.default)(function(e,t,n){var s=(0,U.omit)((0,K.getNormalizedThemesQuery)(n),"page");return(0,U.some)(e.themes.queryRequests,function(e,n){if(!e)return!1;var i=(0,K.getDeserializedThemesQueryDetails)(n);return i.siteId===t&&(0,U.isEqual)(s,(0,U.omit)(i.query,"page"))})},function(e){return e.themes.queryRequests},function(e,t,n){return(0,K.getSerializedThemesQuery)(n,t)})},"./client/state/ui/editor/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return{type:h.EDITOR_START,siteId:e,postId:t,postType:n}}function r(e,t){return{type:h.EDITOR_STOP,siteId:e,postId:t}}function a(e){return{type:h.EDITOR_PASTE_EVENT,source:e}}function o(e){var t=(0,g.setMediaModalView)(e),n=E[e];return n?(0,b.withAnalytics)((0,b.bumpStat)("editor_media_actions",n),t):t}function l(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,s){var i=(0,v.getPreference)(s(),"editorConfirmationDisabledSites");n(t?(0,y.savePreference)("editorConfirmationDisabledSites",(0,m.filter)(i,function(t){return e!==t})):(0,y.savePreference)("editorConfirmationDisabledSites",[].concat((0,c.default)(i),[e]))),n((0,b.recordTracksEvent)(t?"calypso_publish_confirmation_preference_enable":"calypso_publish_confirmation_preference_disable")),n((0,b.bumpStat)("calypso_publish_confirmation",t?"enabled":"disabled"))}}Object.defineProperty(t,"__esModule",{value:!0}),t.MODAL_VIEW_STATS=void 0;var u,d=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/defineProperty.js"),p=s(f);t.startEditingPost=i,t.stopEditingPost=r,t.pasteEvent=a,t.setEditorMediaModalView=o,t.saveConfirmationSidebarPreference=l;var m=n("./node_modules/lodash/lodash.js"),h=n("./client/state/action-types.js"),_=n("./client/state/ui/media-modal/constants.js"),g=n("./client/state/ui/media-modal/actions.js"),b=n("./client/state/analytics/actions.js"),y=n("./client/state/preferences/actions.js"),v=n("./client/state/preferences/selectors.js"),E=t.MODAL_VIEW_STATS=(u={},(0,p.default)(u,_.ModalViews.LIST,"view_list"),(0,p.default)(u,_.ModalViews.DETAIL,"view_detail"),(0,p.default)(u,_.ModalViews.GALLERY,"view_gallery"),(0,p.default)(u,_.ModalViews.IMAGE_EDITOR,"view_edit"),(0,p.default)(u,_.ModalViews.VIDEO_EDITOR,"view_edit"),u)},"./client/state/ui/editor/image-editor/actions.js":function(e,t,n){"use strict";function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:m.IMAGE_EDITOR_STATE_RESET,additionalData:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:m.IMAGE_EDITOR_STATE_RESET_ALL,additionalData:e}}function r(){return{type:m.IMAGE_EDITOR_ROTATE_COUNTERCLOCKWISE}}function a(){return{type:m.IMAGE_EDITOR_FLIP}}function o(e){return{type:m.IMAGE_EDITOR_SET_ASPECT_RATIO,ratio:e}}function l(e){return{type:m.IMAGE_EDITOR_SET_DEFAULT_ASPECT_RATIO,ratio:e}}function u(e,t,n,s){return{type:m.IMAGE_EDITOR_SET_FILE_INFO,src:e,fileName:t,mimeType:n,title:s}}function d(e,t,n,s){return{type:m.IMAGE_EDITOR_SET_CROP_BOUNDS,topBound:e,leftBound:t,bottomBound:n,rightBound:s}}function c(e,t,n,s){return{type:m.IMAGE_EDITOR_COMPUTED_CROP,topRatio:e,leftRatio:t,widthRatio:n,heightRatio:s}}function f(e,t,n,s){return{type:m.IMAGE_EDITOR_CROP,topRatio:e,leftRatio:t,widthRatio:n,heightRatio:s}}function p(e,t){return{type:m.IMAGE_EDITOR_IMAGE_HAS_LOADED,width:e,height:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.resetImageEditorState=s,t.resetAllImageEditorState=i,t.imageEditorRotateCounterclockwise=r,t.imageEditorFlip=a,t.setImageEditorAspectRatio=o,t.setImageEditorDefaultAspectRatio=l,t.setImageEditorFileInfo=u,t.setImageEditorCropBounds=d,t.imageEditorComputedCrop=c,t.imageEditorCrop=f,t.setImageEditorImageHasLoaded=p;var m=n("./client/state/action-types.js")},"./client/state/ui/editor/image-editor/selectors.js":function(e,t,n){"use strict";function s(e){return e.ui.editor.imageEditor.transform}function i(e){return e.ui.editor.imageEditor.fileInfo}function r(e){return e.ui.editor.imageEditor.hasChanges}function a(e){return!e.ui.editor.imageEditor.imageIsLoading}function o(e){return e.ui.editor.imageEditor.cropBounds}function l(e){return e.ui.editor.imageEditor.crop}function u(e){return e.ui.editor.imageEditor.aspectRatio}Object.defineProperty(t,"__esModule",{value:!0}),t.getImageEditorTransform=s,t.getImageEditorFileInfo=i,t.imageEditorHasChanges=r,t.isImageEditorImageLoaded=a,t.getImageEditorCropBounds=o,t.getImageEditorCrop=l,t.getImageEditorAspectRatio=u},"./client/state/ui/media-modal/actions.js":function(e,t,n){"use strict";function s(e){return{type:r.MEDIA_MODAL_VIEW_SET,view:e}}function i(){return s(null)}Object.defineProperty(t,"__esModule",{value:!0}),t.setMediaModalView=s,t.resetMediaModalView=i;var r=n("./client/state/action-types.js")},"./client/state/ui/media-modal/constants.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ModalViews={LIST:"LIST",DETAIL:"DETAIL",GALLERY:"GALLERY",IMAGE_EDITOR:"IMAGE_EDITOR",VIDEO_EDITOR:"VIDEO_EDITOR"}},"./client/state/ui/olark/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(){return{type:f.OLARK_TIMEOUT}}function r(){return{type:f.OLARK_READY}}function a(){return{type:f.OLARK_OPERATORS_AVAILABLE}}function o(){return{type:f.OLARK_OPERATORS_AWAY}}function l(e){return{type:f.OLARK_SET_AVAILABILITY,availability:e}}function u(){return function(e){return e({type:f.OLARK_REQUEST}),new c.default(function(t){e(i()),t()})}}Object.defineProperty(t,"__esModule",{value:!0});var d=n("./node_modules/babel-runtime/core-js/promise.js"),c=s(d);t.olarkTimeout=i,t.olarkReady=r,t.operatorsAvailable=a,t.operatorsAway=o,t.setChatAvailability=l,t.requestOlark=u;var f=n("./client/state/action-types.js")},"./client/state/ui/theme-setup/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(){return{type:l.THEME_SETUP_TOGGLE_DIALOG}}function r(e){return function(t){return t({type:l.THEME_SETUP_REQUEST}),o.default.undocumented().site(e).runThemeSetup().then(function(e){t({type:l.THEME_SETUP_RESULT,data:e})}).catch(function(e){t({type:l.THEME_SETUP_RESULT,data:e})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleDialog=i,t.runThemeSetup=r;var a=n("./client/lib/wp/browser.js"),o=s(a),l=n("./client/state/action-types.js")},"./node_modules/base64-js/index.js":function(e,t,n){"use strict";function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-s(e)}function r(e){var t,n,i,r,a,o=e.length;r=s(e),a=new c(3*o/4-r),n=r>0?o-4:o;var l=0;for(t=0;t<n;t+=4)i=d[e.charCodeAt(t)]<<18|d[e.charCodeAt(t+1)]<<12|d[e.charCodeAt(t+2)]<<6|d[e.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===r?(i=d[e.charCodeAt(t)]<<2|d[e.charCodeAt(t+1)]>>4,a[l++]=255&i):1===r&&(i=d[e.charCodeAt(t)]<<10|d[e.charCodeAt(t+1)]<<4|d[e.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a}function a(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function o(e,t,n){for(var s,i=[],r=t;r<n;r+=3)s=(e[r]<<16)+(e[r+1]<<8)+e[r+2],i.push(a(s));return i.join("")}function l(e){for(var t,n=e.length,s=n%3,i="",r=[],a=16383,l=0,d=n-s;l<d;l+=a)r.push(o(e,l,l+a>d?d:l+a));return 1===s?(t=e[n-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===s&&(t=(e[n-2]<<8)+e[n-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),r.push(i),r.join("")}t.byteLength=i,t.toByteArray=r,t.fromByteArray=l;for(var u=[],d=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,m=f.length;p<m;++p)u[p]=f[p],d[f.charCodeAt(p)]=p;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,t,n){"use strict";(function(e){function s(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=a.prototype):(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return o(this,e,t,n)}function o(e,t,n,s){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,s):"string"==typeof t?c(e,t,n):m(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,s){return l(t),t<=0?r(e,t):void 0!==n?"string"==typeof s?r(e,t).fill(n,s):r(e,t).fill(n):r(e,t)}function d(e,t){if(l(t),e=r(e,t<0?0:0|h(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var s=0|g(t,n);e=r(e,s);var i=e.write(t,n);return i!==s&&(e=e.slice(0,i)),e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=r(e,n);for(var s=0;s<n;s+=1)e[s]=255&t[s];return e}function p(e,t,n,s){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(s||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===s?new Uint8Array(t):void 0===s?new Uint8Array(t,n):new Uint8Array(t,n,s),a.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=a.prototype):e=f(e,t),e}function m(e,t){if(a.isBuffer(t)){var n=0|h(t.length);return e=r(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Q(t.length)?r(e,0):f(e,t);if("Buffer"===t.type&&Z(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function _(e){return+e!=e&&(e=0),a.alloc(+e)}function g(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(s)return H(e).length;t=(""+t).toLowerCase(),s=!0}}function b(e,t,n){var s=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function y(e,t,n){var s=e[t];e[t]=e[n],e[n]=s}function v(e,t,n,s,i){if(0===e.length)return-1;if("string"==typeof n?(s=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,s)),a.isBuffer(t))return 0===t.length?-1:E(e,t,n,s,i);if("number"==typeof t)return t=255&t,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,s,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,s,i){function r(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,o=e.length,l=t.length;if(void 0!==s&&(s=String(s).toLowerCase(),"ucs2"===s||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return-1;a=2,o/=2,l/=2,n/=2}var u;if(i){var d=-1;for(u=n;u<o;u++)if(r(e,u)===r(t,d===-1?0:u-d)){if(d===-1&&(d=u),u-d+1===l)return d*a}else d!==-1&&(u-=u-d),d=-1}else for(n+l>o&&(n=o-l),u=n;u>=0;u--){for(var c=!0,f=0;f<l;f++)if(r(e,u+f)!==r(t,f)){c=!1;break}if(c)return u}return-1}function j(e,t,n,s){n=Number(n)||0;var i=e.length-n;s?(s=Number(s),s>i&&(s=i)):s=i;var r=t.length;if(r%2!==0)throw new TypeError("Invalid hex string");s>r/2&&(s=r/2);for(var a=0;a<s;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[n+a]=o}return a}function S(e,t,n,s){return K(H(t,e.length-n),e,n,s)}function x(e,t,n,s){return K(G(t),e,n,s)}function T(e,t,n,s){return x(e,t,n,s)}function C(e,t,n,s){return K(J(t),e,n,s)}function k(e,t,n,s){return K(Y(t,e.length-n),e,n,s)}function w(e,t,n){return 0===t&&n===e.length?$.fromByteArray(e):$.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var s=[],i=t;i<n;){var r=e[i],a=null,o=r>239?4:r>223?3:r>191?2:1;if(i+o<=n){var l,u,d,c;switch(o){case 1:r<128&&(a=r);break;case 2:l=e[i+1],128===(192&l)&&(c=(31&r)<<6|63&l,c>127&&(a=c));break;case 3:l=e[i+1],u=e[i+2],128===(192&l)&&128===(192&u)&&(c=(15&r)<<12|(63&l)<<6|63&u,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:l=e[i+1],u=e[i+2],d=e[i+3],128===(192&l)&&128===(192&u)&&128===(192&d)&&(c=(15&r)<<18|(63&l)<<12|(63&u)<<6|63&d,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,s.push(a>>>10&1023|55296),a=56320|1023&a),s.push(a),i+=o}return A(s)}function A(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",s=0;s<t;)n+=String.fromCharCode.apply(String,e.slice(s,s+=ee));return n}function R(e,t,n){var s="";n=Math.min(e.length,n);for(var i=t;i<n;++i)s+=String.fromCharCode(127&e[i]);return s}function P(e,t,n){var s="";n=Math.min(e.length,n);for(var i=t;i<n;++i)s+=String.fromCharCode(e[i]);return s}function M(e,t,n){var s=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>s)&&(n=s);for(var i="",r=t;r<n;++r)i+=z(e[r]);return i}function D(e,t,n){for(var s=e.slice(t,n),i="",r=0;r<s.length;r+=2)i+=String.fromCharCode(s[r]+256*s[r+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,s,i,r){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<r)throw new RangeError('"value" argument is out of bounds');if(n+s>e.length)throw new RangeError("Index out of range")}function L(e,t,n,s){t<0&&(t=65535+t+1);for(var i=0,r=Math.min(e.length-n,2);i<r;++i)e[n+i]=(t&255<<8*(s?i:1-i))>>>8*(s?i:1-i)}function F(e,t,n,s){t<0&&(t=4294967295+t+1);for(var i=0,r=Math.min(e.length-n,4);i<r;++i)e[n+i]=t>>>8*(s?i:3-i)&255}function U(e,t,n,s,i,r){if(n+s>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(e,t,n,s,i){return i||U(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(e,t,n,s,23,4),n+4}function B(e,t,n,s,i){return i||U(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(e,t,n,s,52,8),n+8}function V(e){if(e=W(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function W(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var n,s=e.length,i=null,r=[],a=0;a<s;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(a+1===s){(t-=3)>-1&&r.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&r.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function G(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Y(e,t){for(var n,s,i,r=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),s=n>>8,i=n%256,r.push(i),r.push(s);return r}function J(e){return $.toByteArray(V(e))}function K(e,t,n,s){for(var i=0;i<s&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Q(e){return e!==e}var $=n("./node_modules/base64-js/index.js"),X=n("./node_modules/ieee754/index.js"),Z=n("./node_modules/isarray/index.js");t.Buffer=a,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:s(),t.kMaxLength=i(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return o(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return u(null,e,t,n)},a.allocUnsafe=function(e){return d(null,e)},a.allocUnsafeSlow=function(e){return d(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,s=t.length,i=0,r=Math.min(n,s);i<r;++i)if(e[i]!==t[i]){n=e[i],s=t[i];break}return n<s?-1:s<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var s=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var r=e[n];if(!a.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(s,i),i+=r.length}return s},a.byteLength=g,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):b.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,s,i){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===s&&(s=0),void 0===i&&(i=this.length),t<0||n>e.length||s<0||i>this.length)throw new RangeError("out of range index");if(s>=i&&t>=n)return 0;if(s>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,s>>>=0,i>>>=0,this===e)return 0;for(var r=i-s,o=n-t,l=Math.min(r,o),u=this.slice(s,i),d=e.slice(t,n),c=0;c<l;++c)if(u[c]!==d[c]){r=u[c],o=d[c];break}return r<o?-1:o<r?1:0},a.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},a.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},a.prototype.write=function(e,t,n,s){if(void 0===t)s="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)s=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(n)?(n=0|n,void 0===s&&(s="utf8")):(s=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var r=!1;;)switch(s){case"hex":return j(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),r=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var s;if(a.TYPED_ARRAY_SUPPORT)s=this.subarray(e,t),s.__proto__=a.prototype;else{var i=t-e;s=new a(i,(void 0));for(var r=0;r<i;++r)s[r]=this[r+e]}return s},a.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var s=this[e],i=1,r=0;++r<t&&(i*=256);)s+=this[e+r]*i;return s},a.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var s=this[e+--t],i=1;t>0&&(i*=256);)s+=this[e+--t]*i;return s},a.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var s=this[e],i=1,r=0;++r<t&&(i*=256);)s+=this[e+r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},a.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var s=t,i=1,r=this[e+--s];s>0&&(i*=256);)r+=this[e+--s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},a.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},a.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),X.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),X.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),X.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),X.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,s){if(e=+e,t=0|t,n=0|n,!s){var i=Math.pow(2,8*n)-1;O(this,e,t,n,i,0)}var r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,s){if(e=+e,t=0|t,n=0|n,!s){var i=Math.pow(2,8*n)-1;O(this,e,t,n,i,0)}var r=n-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,s){if(e=+e,t=0|t,!s){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var r=0,a=1,o=0;for(this[t]=255&e;++r<n&&(a*=256);)e<0&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+n},a.prototype.writeIntBE=function(e,t,n,s){if(e=+e,t=0|t,!s){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var r=n-1,a=1,o=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return q(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return q(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,s){if(n||(n=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<n&&(s=n),s===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-n&&(s=e.length-t+n);var i,r=s-n;if(this===e&&n<t&&t<s)for(i=r-1;i>=0;--i)e[i+t]=this[i+n];else if(r<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t);return r},a.prototype.fill=function(e,t,n,s){if("string"==typeof e){if("string"==typeof t?(s=t,t=0,n=this.length):"string"==typeof n&&(s=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==s&&"string"!=typeof s)throw new TypeError("encoding must be a string");if("string"==typeof s&&!a.isEncoding(s))throw new TypeError("Unknown encoding: "+s)}else"number"==typeof e&&(e=255&e);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var r;if("number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var o=a.isBuffer(e)?e:H(new a(e,s).toString()),l=o.length;for(r=0;r<n-t;++r)this[r+t]=o[r%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/core-util-is/lib/util.js":function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===_(e)}function s(e){return"boolean"==typeof e}function i(e){return null===e}function r(e){return null==e}function a(e){
return"number"==typeof e}function o(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function u(e){return void 0===e}function d(e){return"[object RegExp]"===_(e)}function c(e){return"object"==typeof e&&null!==e}function f(e){return"[object Date]"===_(e)}function p(e){return"[object Error]"===_(e)||e instanceof Error}function m(e){return"function"==typeof e}function h(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function _(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=s,t.isNull=i,t.isNullOrUndefined=r,t.isNumber=a,t.isString=o,t.isSymbol=l,t.isUndefined=u,t.isRegExp=d,t.isObject=c,t.isDate=f,t.isError=p,t.isFunction=m,t.isPrimitive=h,t.isBuffer=e.isBuffer}).call(t,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/creditcards-types/index.js":function(e,t,n){"use strict";var s=t.types=n("./node_modules/creditcards-types/src/types.js");t.Type=n("./node_modules/creditcards-types/src/type.js"),t.find=function(e){for(var t in s){var n=s[t],i=e(n);if(i)return n}}},"./node_modules/creditcards-types/src/type.js":function(e,t,n){"use strict";function s(e,t){i(this,{name:e},t)}var i=n("./node_modules/xtend/mutable.js");e.exports=s,s.prototype.cvcLength=3,s.prototype.luhn=!0,s.prototype.groupPattern=/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?/,s.prototype.group=function(e){return(e.match(this.groupPattern)||[]).slice(1).filter(Boolean)},s.prototype.test=function(e,t){return this[t?"eagerPattern":"pattern"].test(e)}},"./node_modules/creditcards-types/src/types.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/src/type.js"),i=/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/;t.visa=new s("Visa",{pattern:/^4\d{12}(\d{3}|\d{6})?$/,eagerPattern:/^4/,groupPattern:i}),t.maestro=new s("Maestro",{pattern:/^(?:5[06789]\d\d|(?!6011[0234])(?!60117[4789])(?!60118[6789])(?!60119)(?!64[456789])(?!65)6\d{3})\d{8,15}$/,eagerPattern:/^(5(018|0[23]|[68])|6[37]|60111|60115|60117([56]|7[56])|60118[0-5]|64[0-3]|66)/,groupPattern:i}),t.forbrugsforeningen=new s("Forbrugsforeningen",{pattern:/^600722\d{10}$/,eagerPattern:/^600/}),t.dankort=new s("Dankort",{pattern:/^5019\d{12}$/,eagerPattern:/^5019/}),t.masterCard=new s("MasterCard",{pattern:/^(5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)\d{12}$/,eagerPattern:/^(2|5[1-5])/}),t.americanExpress=new s("American Express",{pattern:/^3[47]\d{13}$/,eagerPattern:/^3[47]/,groupPattern:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,cvcLength:4}),t.dinersClub=new s("Diners Club",{pattern:/^3(0[0-5]|[68]\d)\d{11}$/,eagerPattern:/^3(0|[68])/,groupPattern:/(\d{1,4})?(\d{1,6})?(\d{1,4})?/}),t.discover=new s("Discover",{pattern:/^6(011(0[0-9]|[2-4]\d|74|7[7-9]|8[6-9]|9[0-9])|4[4-9]\d{3}|5\d{4})\d{10}$/,eagerPattern:/^6(011(0[0-9]|[2-4]|74|7[7-9]|8[6-9]|9[0-9])|4[4-9]|5)/}),t.jcb=new s("JCB",{pattern:/^35\d{14}$/,eagerPattern:/^35/}),t.unionPay=new s("UnionPay",{pattern:/^62[0-5]\d{13,16}$/,eagerPattern:/^62/,groupPattern:i,luhn:!1}),t.troy=new s("Troy",{pattern:/^9792\d{12}$/,eagerPattern:/^9792/})},"./node_modules/creditcards/card.js":function(e,t,n){"use strict";function s(e){return"string"!=typeof e?"":e.replace(/[^\d]/g,"")}function i(e,t){var n=o(e,!0);return n?n.group(e).join(t||" "):e}function r(e,t){var n=o(e,t);return n?n.name:void 0}function a(e,t){return t=t?u.get(t):o(e),!!t&&((!t.luhn||l(e))&&t.test(e))}function o(e,t){return u.find(function(n){return n.test(e,t)})}var l=n("./node_modules/fast-luhn/index.js"),u=n("./node_modules/creditcards/types.js");e.exports={types:u,parse:s,format:i,type:r,luhn:l,isValid:a}},"./node_modules/creditcards/cvc.js":function(e,t,n){"use strict";function s(e,t){return"string"==typeof e&&(!!r.test(e)&&(!t||i.get(t).cvcLength===e.length))}var i=n("./node_modules/creditcards/types.js"),r=/^\d{3,4}$/;e.exports={isValid:s}},"./node_modules/creditcards/expiration.js":function(e,t,n){"use strict";function s(e,t){return Date.now()>=new Date(t,e)}function i(e){return u(e)}function r(e,t){return e=e.toString(),t?e.substr(2,4):e}function a(e){return"number"==typeof e&&(e=u(e),e>0)}function o(e){return(new Date).getFullYear()>e}var l=n("./node_modules/is-valid-month/index.js"),u=n("./node_modules/parse-int/index.js"),d=n("./node_modules/parse-year/index.js");e.exports={isPast:s,month:{parse:i,isValid:l},year:{parse:d,format:r,isValid:a,isPast:o}}},"./node_modules/creditcards/index.js":function(e,t,n){"use strict";e.exports={card:n("./node_modules/creditcards/card.js"),cvc:n("./node_modules/creditcards/cvc.js"),expiration:n("./node_modules/creditcards/expiration.js")}},"./node_modules/creditcards/types.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/index.js"),i=n("./node_modules/to-camel-case/index.js"),r=n("./node_modules/xtend/immutable.js");e.exports=r(s,{get:function(e){return s.types[i(e)]}})},"./node_modules/escape-regexp-component/index.js":function(e,t){e.exports=function(e){return String(e).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")}},"./node_modules/escape-regexp/index.js":function(e,t){e.exports=function(e){return String(e).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")}},"./node_modules/expand-year/index.js":function(e,t,n){"use strict";var s=n("./node_modules/zero-fill/index.js"),i=n("./node_modules/parse-int/index.js"),r=s(2);e.exports=function(e,t){t=t||new Date;var n=t.getFullYear().toString().substr(0,2);return e=i(e),i(n+r(e))}},"./node_modules/fast-luhn/index.js":function(e,t,n){"use strict";e.exports=function(e){return function(t){if("string"!=typeof t)throw new TypeError("Expected string input");if(!t)return!1;for(var n,s=t.length,i=1,r=0;s;)n=parseInt(t.charAt(--s),10),r+=(i^=1)?e[n]:n;return!!r&&r%10===0}}([0,2,4,6,8,1,3,5,7,9])},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,n,s,i){var r,a,o=8*i-s-1,l=(1<<o)-1,u=l>>1,d=-7,c=n?i-1:0,f=n?-1:1,p=e[t+c];for(c+=f,r=p&(1<<-d)-1,p>>=-d,d+=o;d>0;r=256*r+e[t+c],c+=f,d-=8);for(a=r&(1<<-d)-1,r>>=-d,d+=s;d>0;a=256*a+e[t+c],c+=f,d-=8);if(0===r)r=1-u;else{if(r===l)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,s),r-=u}return(p?-1:1)*a*Math.pow(2,r-s)},t.write=function(e,t,n,s,i,r){var a,o,l,u=8*r-i-1,d=(1<<u)-1,c=d>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=s?0:r-1,m=s?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+c>=1?f/l:f*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=d?(o=0,a=d):a+c>=1?(o=(t*l-1)*Math.pow(2,i),a+=c):(o=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&o,p+=m,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;e[n+p]=255&a,p+=m,a/=256,u-=8);e[n+p-m]|=128*h}},"./node_modules/is-finite/index.js":function(e,t,n){"use strict";var s=n("./node_modules/number-is-nan/index.js");e.exports=Number.isFinite||function(e){return!("number"!=typeof e||s(e)||e===1/0||e===-(1/0))}},"./node_modules/is-integer/index.js":function(e,t,n){var s=n("./node_modules/is-finite/index.js");e.exports=Number.isInteger||function(e){return"number"==typeof e&&s(e)&&Math.floor(e)===e}},"./node_modules/is-valid-month/index.js":function(e,t,n){"use strict";var s=n("./node_modules/is-integer/index.js");e.exports=function(e){return!("number"!=typeof e||!s(e))&&(e>=1&&e<=12)}},"./node_modules/isarray/index.js":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"./node_modules/number-is-nan/index.js":function(e,t,n){"use strict";e.exports=Number.isNaN||function(e){return e!==e}},"./node_modules/parse-int/index.js":function(e,t,n){"use strict";var s=n("./node_modules/is-integer/index.js");e.exports=function(e){return"number"==typeof e?s(e)?e:void 0:"string"==typeof e&&/^-?\d+$/.test(e)?parseInt(e,10):void 0}},"./node_modules/parse-year/index.js":function(e,t,n){"use strict";var s=n("./node_modules/parse-int/index.js"),i=n("./node_modules/expand-year/index.js");e.exports=function(e,t,n){if(e=s(e),null!=e)return t?i(e,n):e}},"./node_modules/process-nextick-args/index.js":function(e,t,n){"use strict";(function(t){function n(e,n,s,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var r,a,o=arguments.length;switch(o){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,s)});case 4:return t.nextTick(function(){e.call(null,n,s,i)});default:for(r=new Array(o-1),a=0;a<r.length;)r[a++]=arguments[a];return t.nextTick(function(){e.apply(null,r)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/safe-buffer/index.js":function(e,t,n){function s(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}var r=n("./node_modules/buffer/index.js"),a=r.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=i),s(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var s=a(e);return void 0!==t?"string"==typeof n?s.fill(t,n):s.fill(t):s.fill(0),s},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},"./node_modules/stream-browserify/index.js":function(e,t,n){function s(){i.call(this)}e.exports=s;var i=n("./node_modules/events/events.js").EventEmitter,r=n("./node_modules/inherits/inherits_browser.js");r(s,i),s.Readable=n("./node_modules/stream-browserify/node_modules/readable-stream/readable-browser.js"),s.Writable=n("./node_modules/stream-browserify/node_modules/readable-stream/writable-browser.js"),s.Duplex=n("./node_modules/stream-browserify/node_modules/readable-stream/duplex-browser.js"),s.Transform=n("./node_modules/stream-browserify/node_modules/readable-stream/transform.js"),s.PassThrough=n("./node_modules/stream-browserify/node_modules/readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function s(){u.readable&&u.resume&&u.resume()}function r(){d||(d=!0,e.end())}function a(){d||(d=!0,"function"==typeof e.destroy&&e.destroy())}function o(e){if(l(),0===i.listenerCount(this,"error"))throw e}function l(){u.removeListener("data",n),e.removeListener("drain",s),u.removeListener("end",r),u.removeListener("close",a),u.removeListener("error",o),e.removeListener("error",o),u.removeListener("end",l),u.removeListener("close",l),e.removeListener("close",l)}var u=this;u.on("data",n),e.on("drain",s),e._isStdio||t&&t.end===!1||(u.on("end",r),u.on("close",a));var d=!1;return u.on("error",o),e.on("error",o),u.on("end",l),u.on("close",l),e.on("close",l),e.emit("pipe",u),e}},"./node_modules/stream-browserify/node_modules/readable-stream/duplex-browser.js":function(e,t,n){e.exports=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js":function(e,t,n){"use strict";function s(e){return this instanceof s?(u.call(this,e),d.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new s(e)}function i(){this.allowHalfOpen||this._writableState.ended||a(r,this)}function r(e){e.end()}var a=n("./node_modules/process-nextick-args/index.js"),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=s;var l=n("./node_modules/core-util-is/lib/util.js");l.inherits=n("./node_modules/stream-browserify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js");var u=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js"),d=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js");l.inherits(s,u);for(var c=o(d.prototype),f=0;f<c.length;f++){var p=c[f];s.prototype[p]||(s.prototype[p]=d.prototype[p])}Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),s.prototype._destroy=function(e,t){this.push(null),this.end(),a(t,e)}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js":function(e,t,n){"use strict";function s(e){return this instanceof s?void i.call(this,e):new s(e)}e.exports=s;var i=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js"),r=n("./node_modules/core-util-is/lib/util.js");r.inherits=n("./node_modules/stream-browserify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js"),r.inherits(s,i),s.prototype._transform=function(e,t,n){n(null,e)}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js":function(e,t,n){"use strict";(function(t,s){function i(e){return L.from(e)}function r(e){return L.isBuffer(e)||e instanceof F}function a(e,t,n){return"function"==typeof e.prependListener?e.prependListener(t,n):void(e._events&&e._events[t]?D(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n))}function o(e,t){M=M||n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),e=e||{},this.objectMode=!!e.objectMode,t instanceof M&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var s=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new W,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(V||(V=n("./node_modules/string_decoder/index.js").StringDecoder),this.decoder=new V(e.encoding),this.encoding=e.encoding)}function l(e){return M=M||n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),this instanceof l?(this._readableState=new o(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),void O.call(this)):new l(e)}function u(e,t,n,s,r){var a=e._readableState;if(null===t)a.reading=!1,h(e,a);else{var o;r||(o=c(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===L.prototype||(t=i(t)),s?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):d(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?d(e,a,t,!1):b(e,a)):d(e,a,t,!1))):s||(a.reading=!1)}return f(a)}function d(e,t,n,s){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,s?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&_(e)),b(e,t)}function c(e,t){var n;return r(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function f(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function p(e){return e>=G?e=G:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function m(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=p(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function h(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,_(e)}}function _(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(B("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?P(g,e):g(e))}function g(e){B("emit readable"),e.emit("readable"),x(e)}function b(e,t){t.readingMore||(t.readingMore=!0,P(y,e,t))}function y(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(B("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function v(e){return function(){var t=e._readableState;B("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&N(e,"data")&&(t.flowing=!0,x(e))}}function E(e){B("readable nexttick read 0"),e.read(0)}function j(e,t){t.resumeScheduled||(t.resumeScheduled=!0,P(S,e,t))}function S(e,t){t.reading||(B("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),x(e),t.flowing&&!t.reading&&e.read(0)}function x(e){var t=e._readableState;for(B("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=C(e,t.buffer,t.decoder),n}function C(e,t,n){var s;return e<t.head.data.length?(s=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):s=e===t.head.data.length?t.shift():n?k(e,t):w(e,t),s}function k(e,t){var n=t.head,s=1,i=n.data;for(e-=i.length;n=n.next;){var r=n.data,a=e>r.length?r.length:e;if(i+=a===r.length?r:r.slice(0,e),e-=a,0===e){a===r.length?(++s,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=r.slice(a));break}++s}return t.length-=s,i}function w(e,t){var n=L.allocUnsafe(e),s=t.head,i=1;for(s.data.copy(n),e-=s.data.length;s=s.next;){var r=s.data,a=e>r.length?r.length:e;if(r.copy(n,n.length-e,0,a),e-=a,0===e){a===r.length?(++i,s.next?t.head=s.next:t.head=t.tail=null):(t.head=s,s.data=r.slice(a));break}++i}return t.length-=i,n}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,P(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var n=0,s=e.length;n<s;n++)if(e[n]===t)return n;return-1}var P=n("./node_modules/process-nextick-args/index.js");e.exports=l;var M,D=n("./node_modules/isarray/index.js");l.ReadableState=o;var N=(n("./node_modules/events/events.js").EventEmitter,function(e,t){return e.listeners(t).length}),O=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js"),L=n("./node_modules/safe-buffer/index.js").Buffer,F=t.Uint8Array||function(){},U=n("./node_modules/core-util-is/lib/util.js");U.inherits=n("./node_modules/stream-browserify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js");var q=n("ignored /calypso/node_modules/stream-browserify/node_modules/readable-stream/lib util"),B=void 0;B=q&&q.debuglog?q.debuglog("stream"):function(){};var V,W=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/BufferList.js"),z=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js");U.inherits(l,O);var H=["error","close","destroy","pause","resume"];Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),l.prototype.destroy=z.destroy,l.prototype._undestroy=z.undestroy,l.prototype._destroy=function(e,t){this.push(null),t(e)},l.prototype.push=function(e,t){var n,s=this._readableState;return s.objectMode?n=!0:"string"==typeof e&&(t=t||s.defaultEncoding,t!==s.encoding&&(e=L.from(e,t),t=""),n=!0),u(this,e,t,!1,n)},l.prototype.unshift=function(e){return u(this,e,null,!0,!1)},l.prototype.isPaused=function(){return this._readableState.flowing===!1},l.prototype.setEncoding=function(e){return V||(V=n("./node_modules/string_decoder/index.js").StringDecoder),this._readableState.decoder=new V(e),this._readableState.encoding=e,this};var G=8388608;l.prototype.read=function(e){B("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return B("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):_(this),null;if(e=m(e,t),0===e&&t.ended)return 0===t.length&&I(this),null;var s=t.needReadable;B("need readable",s),(0===t.length||t.length-e<t.highWaterMark)&&(s=!0,B("length less than watermark",s)),t.ended||t.reading?(s=!1,B("reading or ended",s)):s&&(B("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=m(n,t)));var i;return i=e>0?T(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&I(this)),null!==i&&this.emit("data",i),i},l.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},l.prototype.pipe=function(e,t){function n(e,t){B("onunpipe"),e===f&&t&&t.hasUnpiped===!1&&(t.hasUnpiped=!0,r())}function i(){B("onend"),e.end()}function r(){B("cleanup"),e.removeListener("close",u),e.removeListener("finish",d),e.removeListener("drain",_),e.removeListener("error",l),e.removeListener("unpipe",n),f.removeListener("end",i),f.removeListener("end",c),f.removeListener("data",o),g=!0,!p.awaitDrain||e._writableState&&!e._writableState.needDrain||_()}function o(t){B("ondata"),b=!1;var n=e.write(t);!1!==n||b||((1===p.pipesCount&&p.pipes===e||p.pipesCount>1&&R(p.pipes,e)!==-1)&&!g&&(B("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,b=!0),f.pause())}function l(t){B("onerror",t),c(),e.removeListener("error",l),0===N(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",d),c()}function d(){B("onfinish"),e.removeListener("close",u),c()}function c(){B("unpipe"),f.unpipe(e)}var f=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,B("pipe count=%d opts=%j",p.pipesCount,t);var m=(!t||t.end!==!1)&&e!==s.stdout&&e!==s.stderr,h=m?i:c;p.endEmitted?P(h):f.once("end",h),e.on("unpipe",n);var _=v(f);e.on("drain",_);var g=!1,b=!1;return f.on("data",o),a(e,"error",l),e.once("close",u),e.once("finish",d),e.emit("pipe",f),p.flowing||(B("pipe resume"),f.resume()),e},l.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var s=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;r<i;r++)s[r].emit("unpipe",this,n);return this}var a=R(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},l.prototype.on=function(e,t){var n=O.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var s=this._readableState;s.endEmitted||s.readableListening||(s.readableListening=s.needReadable=!0,s.emittedReadable=!1,s.reading?s.length&&_(this):P(E,this))}return n},l.prototype.addListener=l.prototype.on,l.prototype.resume=function(){var e=this._readableState;return e.flowing||(B("resume"),e.flowing=!0,j(this,e)),this},l.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this},l.prototype.wrap=function(e){var t=this._readableState,n=!1,s=this;e.on("end",function(){if(B("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&s.push(e)}s.push(null)}),e.on("data",function(i){if(B("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){var r=s.push(i);r||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var r=0;r<H.length;r++)e.on(H[r],s.emit.bind(s,H[r]));return s._read=function(t){B("wrapped _read",t),n&&(n=!1,e.resume())},s},l._fromList=T}).call(t,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js":function(e,t,n){"use strict";function s(e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e,t,n){var s=e._transformState;s.transforming=!1;var i=s.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));s.writechunk=null,s.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var r=e._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&e._read(r.highWaterMark)}function r(e){if(!(this instanceof r))return new r(e);o.call(this,e),this._transformState=new s(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(t)})}function a(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var s=e._writableState,i=e._transformState;if(s.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=r;var o=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),l=n("./node_modules/core-util-is/lib/util.js");l.inherits=n("./node_modules/stream-browserify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js"),l.inherits(r,o),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,o.prototype.push.call(this,e,t)},r.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},r.prototype._write=function(e,t,n){var s=this._transformState;if(s.writecb=n,s.writechunk=e,s.writeencoding=t,!s.transforming){var i=this._readableState;(s.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},r.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},r.prototype._destroy=function(e,t){var n=this;o.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js":function(e,t,n){"use strict";(function(t,s,i){function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){k(t,e)}}function a(e){return D.from(e)}function o(e){return D.isBuffer(e)||e instanceof N}function l(){}function u(e,t){I=I||n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),e=e||{},this.objectMode=!!e.objectMode,t instanceof I&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var s=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=e.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){b(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function d(e){return I=I||n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),L.call(d,this)||this instanceof I?(this._writableState=new u(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),void M.call(this)):new d(e)}function c(e,t){var n=new Error("write after end");e.emit("error",n),w(t,n)}function f(e,t,n,s){var i=!0,r=!1;return null===n?r=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r&&(e.emit("error",r),w(s,r),i=!1),i}function p(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=D.from(t,n)),t}function m(e,t,n,s,i,r){if(!n){var a=p(t,s,i);s!==a&&(n=!0,i="buffer",s=a)}var o=t.objectMode?1:s.length;t.length+=o;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:s,encoding:i,isBuf:n,callback:r,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else h(e,t,!1,o,s,i,r);return l}function h(e,t,n,s,i,r,a){t.writelen=s,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,r,t.onwrite),t.sync=!1}function _(e,t,n,s,i){--t.pendingcb,n?(w(i,s),w(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",s)):(i(s),e._writableState.errorEmitted=!0,e.emit("error",s),T(e,t))}function g(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function b(e,t){var n=e._writableState,s=n.sync,i=n.writecb;if(g(n),t)_(e,n,s,t,i);else{var r=j(n);r||n.corked||n.bufferProcessing||!n.bufferedRequest||E(e,n),s?A(y,e,n,r,i):y(e,n,r,i)}}function y(e,t,n,s){n||v(e,t),t.pendingcb--,s(),T(e,t)}function v(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function E(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var s=t.bufferedRequestCount,i=new Array(s),a=t.corkedRequestsFree;a.entry=n;for(var o=0,l=!0;n;)i[o]=n,n.isBuf||(l=!1),n=n.next,o+=1;i.allBuffers=l,h(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new r(t)}else{for(;n;){var u=n.chunk,d=n.encoding,c=n.callback,f=t.objectMode?1:u.length;if(h(e,t,!1,f,u,d,c),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function j(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function x(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,w(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var n=j(t);return n&&(x(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function C(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?w(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function k(e,t,n){var s=e.entry;for(e.entry=null;s;){var i=s.callback;t.pendingcb--,i(n),s=s.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var w=n("./node_modules/process-nextick-args/index.js");e.exports=d;var I,A=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?s:w;d.WritableState=u;var R=n("./node_modules/core-util-is/lib/util.js");R.inherits=n("./node_modules/stream-browserify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js");var P={deprecate:n("./node_modules/util-deprecate/browser.js")},M=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js"),D=n("./node_modules/safe-buffer/index.js").Buffer,N=i.Uint8Array||function(){},O=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js");
R.inherits(d,M),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:P.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var L;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(d,Symbol.hasInstance,{value:function(e){return!!L.call(this,e)||e&&e._writableState instanceof u}})):L=function(e){return e instanceof this},d.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},d.prototype.write=function(e,t,n){var s=this._writableState,i=!1,r=o(e)&&!s.objectMode;return r&&!D.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(n=t,t=null),r?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=l),s.ended?c(this,n):(r||f(this,s,e,n))&&(s.pendingcb++,i=m(this,s,r,e,t,n)),i},d.prototype.cork=function(){var e=this._writableState;e.corked++},d.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||E(this,e))},d.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},d.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},d.prototype._writev=null,d.prototype.end=function(e,t,n){var s=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),s.corked&&(s.corked=1,this.uncork()),s.ending||s.finished||C(this,s,n)},Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),d.prototype.destroy=O.destroy,d.prototype._undestroy=O.undestroy,d.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n("./node_modules/process/browser.js"),n("./node_modules/timers-browserify/main.js").setImmediate,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/BufferList.js":function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e.copy(t,n)}var r=n("./node_modules/safe-buffer/index.js").Buffer;e.exports=function(){function e(){s(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,s=0;n;)i(n.data,t,s),s+=n.data.length,n=n.next;return t},e}()},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js":function(e,t,n){"use strict";function s(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return s||i?void(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a(r,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),void this._destroy(e||null,function(e){!t&&e?(a(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}))}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r(e,t){e.emit("error",t)}var a=n("./node_modules/process-nextick-args/index.js");e.exports={destroy:s,undestroy:i}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js":function(e,t,n){e.exports=n("./node_modules/events/events.js").EventEmitter},"./node_modules/stream-browserify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},"./node_modules/stream-browserify/node_modules/readable-stream/passthrough.js":function(e,t,n){e.exports=n("./node_modules/stream-browserify/node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/stream-browserify/node_modules/readable-stream/readable-browser.js":function(e,t,n){t=e.exports=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js"),t.Stream=t,t.Readable=t,t.Writable=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js"),t.Duplex=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),t.Transform=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js"),t.PassThrough=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/stream-browserify/node_modules/readable-stream/transform.js":function(e,t,n){e.exports=n("./node_modules/stream-browserify/node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/stream-browserify/node_modules/readable-stream/writable-browser.js":function(e,t,n){e.exports=n("./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/string_decoder/index.js":function(e,t,n){function s(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function r(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var o=n("./node_modules/buffer/index.js").Buffer,l=o.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),s(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=r;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new o(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var s=t.charCodeAt(t.length-1);if(!(s>=55296&&s<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,s=t.charCodeAt(i);if(s>=55296&&s<=56319){var r=this.surrogateSize;return this.charLength+=r,this.charReceived+=r,this.charBuffer.copy(this.charBuffer,r,0,r),e.copy(this.charBuffer,0,0,r),t.substring(0,i)}return t},u.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},u.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,s=this.charBuffer,i=this.encoding;t+=s.slice(0,n).toString(i)}return t}},"./node_modules/title-case-minors/index.js":function(e,t){e.exports=["a","an","and","as","at","but","by","en","for","from","how","if","in","neither","nor","of","on","only","onto","out","or","per","so","than","that","the","to","until","up","upon","v","v.","versus","vs","vs.","via","when","with","without","yet"]},"./node_modules/to-camel-case/index.js":function(e,t,n){function s(e){return i(e).replace(/\s(\w)/g,function(e,t){return t.toUpperCase()})}var i=n("./node_modules/to-space-case/index.js");e.exports=s},"./node_modules/to-capital-case/index.js":function(e,t,n){function s(e){return i(e).replace(/(^|\s)(\w)/g,function(e,t,n){return t+n.toUpperCase()})}var i=n("./node_modules/to-capital-case/node_modules/to-no-case/index.js");e.exports=s},"./node_modules/to-capital-case/node_modules/to-no-case/index.js":function(e,t){function n(e){return r.test(e)?e.toLowerCase():(o.test(e)&&(e=s(e)),a.test(e)&&(e=i(e)),e.toLowerCase())}function s(e){return e.replace(l,function(e,t){return t?" "+t:""})}function i(e){return e.replace(u,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}e.exports=n;var r=/\s/,a=/[a-z][A-Z]/,o=/[\W_]/,l=/[\W_]+(.|$)/g,u=/(.)([A-Z]+)/g},"./node_modules/to-no-case/index.js":function(e,t){function n(e){return r.test(e)?e.toLowerCase():a.test(e)?(s(e)||e).toLowerCase():o.test(e)?i(e).toLowerCase():e.toLowerCase()}function s(e){return e.replace(l,function(e,t){return t?" "+t:""})}function i(e){return e.replace(u,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}e.exports=n;var r=/\s/,a=/(_|-|\.|:)/,o=/([a-z][A-Z]|[A-Z][a-z])/,l=/[\W_]+(.|$)/g,u=/(.)([A-Z]+)/g},"./node_modules/to-space-case/index.js":function(e,t,n){function s(e){return i(e).replace(/[\W_]+(.|$)/g,function(e,t){return t?" "+t:""}).trim()}var i=n("./node_modules/to-no-case/index.js");e.exports=s},"./node_modules/to-title-case/index.js":function(e,t,n){function s(e){return r(e).replace(l,function(e){return e.toLowerCase()}).replace(u,function(e){return e.toUpperCase()})}try{var i=n("./node_modules/escape-regexp/index.js")}catch(e){var i=n("./node_modules/escape-regexp-component/index.js")}var r=n("./node_modules/to-capital-case/index.js"),a=n("./node_modules/title-case-minors/index.js");e.exports=s;var o=a.map(i),l=new RegExp("[^^]\\b("+o.join("|")+")\\b","ig"),u=/:\s*(\w)/g},"./node_modules/util-deprecate/browser.js":function(e,t,n){(function(t){function n(e,t){function n(){if(!i){if(s("throwDeprecation"))throw new Error(t);s("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(s("noDeprecation"))return e;var i=!1;return n}function s(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/xtend/mutable.js":function(e,t){function n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)s.call(n,i)&&(e[i]=n[i])}return e}e.exports=n;var s=Object.prototype.hasOwnProperty},"./node_modules/zero-fill/index.js":function(e,t){e.exports=function e(t,n,s){return void 0===n?function(n,s){return e(t,n,s)}:(void 0===s&&(s="0"),t-=n.toString().length,t>0?new Array(t+(/\./.test(n)?2:1)).join(s)+n:n+"")}},"ignored /calypso/node_modules/stream-browserify/node_modules/readable-stream/lib util":function(e,t){}});