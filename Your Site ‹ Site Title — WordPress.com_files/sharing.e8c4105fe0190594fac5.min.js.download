webpackJsonp(["sharing"],{"./client/components/card/compact.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return l.default.createElement(p.default,(0,a.default)({},e,{className:(0,c.default)(e.className,"is-compact")}),e.children)}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/helpers/extends.js"),a=s(i);t.default=o;var r=n("./node_modules/react/react.js"),l=s(r),u=n("./node_modules/classnames/index.js"),c=s(u),d=n("./client/components/card/index.jsx"),p=s(d);e.exports=t.default},"./client/components/data/query-jetpack-modules/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/prop-types/index.js"),m=s(h),g=n("./node_modules/react/react.js"),b=n("./node_modules/react-redux/es/index.js"),v=n("./client/state/selectors/is-fetching-jetpack-modules.js"),_=s(v),y=n("./client/state/jetpack/modules/actions.js"),C=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId!==e.siteId&&this.request(e)}},{key:"request",value:function(e){e.requestingModules||e.fetchModuleList(e.siteId)}},{key:"render",value:function(){return null}}]),t}(g.Component);C.propTypes={siteId:m.default.number.isRequired,requestingModules:m.default.bool,fetchModuleList:m.default.func},t.default=(0,b.connect)(function(e,t){return{requestingModules:(0,_.default)(e,t.siteId)}},{fetchModuleList:y.fetchModuleList})(C),e.exports=t.default},"./client/components/data/query-keyring-connections/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/prop-types/index.js"),m=s(h),g=n("./node_modules/react/react.js"),b=n("./node_modules/react-redux/es/index.js"),v=n("./client/state/sharing/keyring/selectors.js"),_=n("./client/state/sharing/keyring/actions.js"),y=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.props.isRequesting||this.props.requestKeyringConnections()}},{key:"render",value:function(){return null}}]),t}(g.Component);y.propTypes={isRequesting:m.default.bool,requestKeyringConnections:m.default.func},t.default=(0,b.connect)(function(e){return{isRequesting:(0,v.isKeyringConnectionsFetching)(e)}},{requestKeyringConnections:_.requestKeyringConnections})(y),e.exports=t.default},"./client/components/data/query-keyring-services/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/prop-types/index.js"),m=s(h),g=n("./node_modules/react/react.js"),b=n("./node_modules/react-redux/es/index.js"),v=n("./client/state/sharing/services/selectors.js"),_=n("./client/state/sharing/services/actions.js"),y=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.props.isRequesting||this.props.requestKeyringServices()}},{key:"render",value:function(){return null}}]),t}(g.Component);y.propTypes={isRequesting:m.default.bool,requestKeyringServices:m.default.func},t.default=(0,b.connect)(function(e){return{isRequesting:(0,v.isKeyringServicesFetching)(e)}},{requestKeyringServices:_.requestKeyringServices})(y),e.exports=t.default},"./client/components/data/query-publicize-connections/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/prop-types/index.js"),m=s(h),g=n("./node_modules/react/react.js"),b=n("./node_modules/react-redux/es/index.js"),v=n("./client/state/sharing/publicize/selectors.js"),_=n("./client/state/sharing/publicize/actions.js"),y=n("./client/state/ui/selectors.js"),C=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){!this.props.requestingConnections&&this.props.siteId&&this.props.requestConnections(this.props.siteId)}},{key:"componentDidUpdate",value:function(e){var t=e.siteId;this.props.siteId&&t!==this.props.siteId&&!this.props.requestingConnections&&this.props.requestConnections(this.props.siteId)}},{key:"render",value:function(){return null}}]),t}(g.Component);C.propTypes={requestConnections:m.default.func,requestingConnections:m.default.bool,selectedSite:m.default.bool,siteId:m.default.number},C.defaultProps={requestConnections:function(){},requestingConnections:!1,selectedSite:!1,siteId:0},t.default=(0,b.connect)(function(e,t){var n=t.siteId,s=t.selectedSite;return n=n||s&&(0,y.getSelectedSiteId)(e),{requestingConnections:(0,v.isFetchingConnections)(e,n),siteId:n}},{requestConnections:_.fetchConnections})(C),e.exports=t.default},"./client/components/data/query-sharing-buttons/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/react/react.js"),m=n("./node_modules/prop-types/index.js"),g=s(m),b=n("./node_modules/react-redux/es/index.js"),v=n("./client/state/selectors/is-requesting-sharing-buttons.js"),_=s(v),y=n("./client/state/sites/sharing-buttons/actions.js"),C=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.requestSettings(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.siteId;e.siteId&&t!==e.siteId&&this.requestSettings(e)}},{key:"requestSettings",value:function(e){var t=e.requestingSharingButtons,n=e.siteId;!t&&n&&e.requestSharingButtons(n)}},{key:"render",value:function(){return null}}]),t}(h.Component);C.propTypes={siteId:g.default.number,requestingSharingButtons:g.default.bool,requestSharingButtons:g.default.func},t.default=(0,b.connect)(function(e,t){var n=t.siteId;return{requestingSharingButtons:(0,_.default)(e,n)}},{requestSharingButtons:y.requestSharingButtons})(C),e.exports=t.default},"./client/components/data/query-site-settings/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/react/react.js"),m=n("./node_modules/prop-types/index.js"),g=s(m),b=n("./node_modules/react-redux/es/index.js"),v=n("./client/state/site-settings/selectors.js"),_=n("./client/state/site-settings/actions.js"),y=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.requestSettings(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.siteId;e.siteId&&t!==e.siteId&&this.requestSettings(e)}},{key:"requestSettings",value:function(e){var t=e.requestingSiteSettings,n=e.siteId;!t&&n&&e.requestSiteSettings(n)}},{key:"render",value:function(){return null}}]),t}(h.Component);y.propTypes={siteId:g.default.number,requestingSiteSettings:g.default.bool,requestSiteSettings:g.default.func},t.default=(0,b.connect)(function(e,t){var n=t.siteId;return{requestingSiteSettings:(0,v.isRequestingSiteSettings)(e,n)}},{requestSiteSettings:_.requestSiteSettings})(y),e.exports=t.default},"./client/components/foldable-card/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/prop-types/index.js"),m=s(h),g=n("./node_modules/react/react.js"),b=s(g),v=n("./node_modules/classnames/index.js"),_=s(v),y=n("./node_modules/i18n-calypso/index.js"),C=n("./node_modules/lodash/lodash.js"),j=n("./client/components/card/index.jsx"),E=s(j),S=n("./client/components/card/compact.jsx"),x=s(S),k=n("./node_modules/gridicons/build/index.js"),w=s(k),I=n("./client/components/screen-reader-text/index.js"),N=s(I),T=function(e){function t(){var e,n,s,o;(0,r.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),s.state={expanded:s.props.expanded},s.onClick=function(){s.props.children&&s.setState({expanded:!s.state.expanded}),s.props.onClick&&s.props.onClick(),s.state.expanded?s.props.onClose(s.props.cardKey):s.props.onOpen(s.props.cardKey)},o=n,(0,d.default)(s,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.expanded!==this.props.expanded&&this.setState({expanded:e.expanded})}},{key:"getClickAction",value:function(){if(!this.props.disabled)return this.onClick}},{key:"getActionButton",value:function(){return this.state.expanded?this.props.actionButtonExpanded||this.props.actionButton:this.props.actionButton}},{key:"renderActionButton",value:function(){var e=this.props.clickableHeader?null:this.getClickAction();if(this.props.actionButton)return b.default.createElement("div",{className:"foldable-card__action",onClick:e},this.getActionButton());if(this.props.children){var t=24,n=this.props.screenReaderText||this.props.translate("More");return b.default.createElement("button",{disabled:this.props.disabled,type:"button",className:"foldable-card__action foldable-card__expand",onClick:e},b.default.createElement(N.default,null,n),b.default.createElement(w.default,{icon:this.props.icon,size:t}))}}},{key:"renderContent",value:function(){return b.default.createElement("div",{className:"foldable-card__content"},this.props.children)}},{key:"renderHeader",value:function(){var e=this.props.summary?b.default.createElement("span",{className:"foldable-card__summary"},this.props.summary," "):null,t=this.props.expandedSummary?b.default.createElement("span",{className:"foldable-card__summary-expanded"},this.props.expandedSummary," "):null,n=this.props.clickableHeader?this.getClickAction():null,s=(0,_.default)("foldable-card__header",{"is-clickable":!!this.props.clickableHeader,"has-border":!!this.props.summary});return b.default.createElement("div",{className:s,onClick:n},b.default.createElement("span",{className:"foldable-card__main"},this.props.header," "),b.default.createElement("span",{className:"foldable-card__secondary"},e,t,this.renderActionButton()))}},{key:"render",value:function(){var e=this.props.compact?x.default:E.default,t=(0,_.default)("foldable-card",this.props.className,{"is-disabled":!!this.props.disabled,"is-expanded":!!this.state.expanded,"has-expanded-summary":!!this.props.expandedSummary});return b.default.createElement(e,{className:t},this.renderHeader(),this.state.expanded&&this.renderContent())}}]),t}(g.Component);T.propTypes={actionButton:m.default.element,actionButtonExpanded:m.default.element,cardKey:m.default.string,compact:m.default.bool,disabled:m.default.bool,expandedSummary:m.default.oneOfType([m.default.string,m.default.element]),expanded:m.default.bool,icon:m.default.string,onClick:m.default.func,onClose:m.default.func,onOpen:m.default.func,screenReaderText:m.default.oneOfType([m.default.string,m.default.bool]),summary:m.default.oneOfType([m.default.string,m.default.element])},T.defaultProps={onOpen:C.noop,onClose:C.noop,cardKey:"",icon:"chevron-down",expanded:!1,screenReaderText:!1},t.default=(0,y.localize)(T),e.exports=t.default},"./client/components/forms/multi-checkbox/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/freeze.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/extends.js"),r=s(a),l=n("./node_modules/babel-runtime/core-js/object/keys.js"),u=s(l),c=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/createClass.js"),m=s(h),g=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),b=s(g),v=n("./node_modules/babel-runtime/helpers/inherits.js"),_=s(v),y=n("./node_modules/react/react.js"),C=s(y),j=n("./node_modules/prop-types/index.js"),E=s(j),S=n("./node_modules/lodash/lodash.js"),x=function(e){function t(){var e,n,s,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=s=(0,b.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(a))),s.state={initialChecked:s.props.defaultChecked},s.handleChange=function(e){var t=e.target,n=s.props.checked||s.state.initialChecked;n=n.concat([t.value]).filter(function(e){return e!==t.value||t.checked}),s.props.onChange({value:n}),e.stopPropagation()},o=n,(0,b.default)(s,o)}return(0,_.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this,n=this.props,s=n.disabled,o=n.name,i=n.options,a=this.props.checked||this.state.initialChecked;return C.default.createElement("div",(0,r.default)({className:"multi-checkbox"},(0,S.omit)(this.props,(0,u.default)(t.propTypes))),i.map(function(t){return C.default.createElement("label",{key:t.value},C.default.createElement("input",{name:o+"[]",type:"checkbox",value:t.value,checked:(0,S.includes)(a,t.value),onChange:e.handleChange,disabled:s}),C.default.createElement("span",null,t.label))}))}}]),t}(y.Component);x.propTypes={checked:E.default.array,defaultChecked:E.default.array,disabled:E.default.bool,onChange:E.default.func,options:E.default.array.isRequired,name:E.default.string},x.defaultProps={defaultChecked:(0,i.default)([]),disabled:!1,onChange:function(){},name:"multiCheckbox"},t.default=x,e.exports=t.default},"./client/components/forms/sortable-list/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/helpers/extends.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/keys.js"),r=s(a),l=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/createClass.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=s(h),g=n("./node_modules/babel-runtime/helpers/inherits.js"),b=s(g),v=n("./node_modules/react/react.js"),_=s(v),y=n("./node_modules/prop-types/index.js"),C=s(y),j=n("./node_modules/i18n-calypso/index.js"),E=n("./node_modules/lodash/lodash.js"),S=n("./node_modules/classnames/index.js"),x=s(S),k=n("./node_modules/debug/browser.js"),w=s(k),I=n("./node_modules/gridicons/build/index.js"),N=s(I),T=n("./client/lib/touch-detect/index.js"),P=s(T),O=(0,w.default)("calypso:forms:sortable-list"),M=function(e){function t(){var e,n,s,o;(0,d.default)(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=s=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),s.state={activeIndex:null,activeOrder:null,position:null},s.getPositionForCursorElement=function(e,t){return{top:t.clientY-e.clientHeight/2,left:t.clientX-e.clientWidth/2}},s.compareCursorVerticalToElement=function(e,t){var n=e.getBoundingClientRect();return t.clientY<n.top?-1:t.clientY>n.bottom?1:0},s.isCursorBeyondElementThreshold=function(e,t,n,s){var o=e.getBoundingClientRect();switch(t){case"top":return s.clientY<=o.top+o.height/2;case"right":return s.clientX>=o.left+o.width/2&&("top"===n||s.clientY>=o.top)&&("bottom"===n||s.clientY<=o.bottom);case"bottom":return s.clientY>=o.top+o.height/2;case"left":return s.clientX<=o.left+o.width/2&&("top"===n||s.clientY>=o.top)&&("bottom"===n||s.clientY<=o.bottom);default:return!1}},s.getAdjustedElementIndex=function(e){return s.state.activeOrder?s.state.activeOrder[e]:e},s.getCursorElementIndex=function(e){var t,n=s.compareCursorVerticalToElement(s.refs.list,e),o=s.getAdjustedElementIndex(s.state.activeIndex),i=s.refs["wrap-shadow-"+s.state.activeIndex].getBoundingClientRect();return t=(0,E.findIndex)(s.props.children,function(t,a){var r,l,u;return a!==s.state.activeIndex&&(l=s.getAdjustedElementIndex(a),"horizontal"===s.props.direction&&(1===n&&s.refs["wrap-"+a].getBoundingClientRect().top>=i.top?u="bottom":-1===n&&s.refs["wrap-"+a].getBoundingClientRect().bottom<=i.bottom&&(u="top")),l<o?r=s.isCursorBeyondElementThreshold(s.refs["wrap-"+a],"horizontal"===s.props.direction?"left":"top",u,e):l>o&&(r=r||s.isCursorBeyondElementThreshold(s.refs["wrap-"+a],"horizontal"===s.props.direction?"right":"bottom",u,e)),r)}),s.getAdjustedElementIndex(t)},s.moveItem=function(e){var t="previous"===e?-1:1,n=(0,r.default)(s.props.children).map(Number);n[s.state.activeIndex+t]=s.state.activeIndex,n[s.state.activeIndex]=s.state.activeIndex+t,s.props.onChange(n),s.setState({activeIndex:n[s.state.activeIndex]})},s.onMouseDown=function(e,t){s.setState({activeIndex:e,position:s.getPositionForCursorElement(t.currentTarget.firstChild,t)})},s.onMouseMove=function(e){var t,n;if(null!==s.state.activeIndex&&s.props.allowDrag&&!P.default.hasTouch()){if(t=s.state.activeOrder,n=s.getCursorElementIndex(e),n>=0)if(s.state.activeIndex===n)t=null;else{t=(0,r.default)(s.props.children).map(Number);for(var o=0,i=t.length;o<i;o++)o>=n&&o<s.state.activeIndex?t[o]=o+1:o<=n&&o>s.state.activeIndex&&(t[o]=o-1);t[s.state.activeIndex]=n}s.setState({position:s.getPositionForCursorElement(s.refs["wrap-"+s.state.activeIndex].firstChild,e),activeOrder:t})}},s.onMouseUp=function(){s.state.activeOrder&&s.props.onChange(s.state.activeOrder),s.setState({activeIndex:null,activeOrder:null,position:null})},s.onClick=function(e){s.setState({activeIndex:e})},s.getOrderedListItemElements=function(){return _.default.Children.map(s.props.children,function(e,t){var n,s=this.state.activeIndex===t,o=this.props.allowDrag&&!P.default.hasTouch(),a=o?["onMouseDown","onMouseUp"]:["onClick"],r={order:this.getAdjustedElementIndex(t)},l=(0,x.default)({"sortable-list__item":!0,"is-active":s,"is-draggable":o});return a=(0,E.fromPairs)(a.map(function(e){return[e,this[e].bind(null,t)]},this)),s&&(0,E.assign)(r,this.state.position),n=_.default.createElement("li",(0,i.default)({ref:"wrap-"+t,key:"wrap-"+t},a,{className:l,style:r}),e),s&&o?[_.default.createElement("li",{ref:"wrap-shadow-"+t,key:"wrap-shadow-"+t,className:"sortable-list__item is-shadow",style:r},e),n]:n},s)},s.getNavigationElement=function(){if(!s.props.allowDrag||P.default.hasTouch())return _.default.createElement("div",{className:"sortable-list__navigation"},_.default.createElement("button",{type:"button",onClick:s.moveItem.bind(null,"previous"),className:"sortable-list__navigation-button is-previous",disabled:null===s.state.activeIndex||0===s.state.activeIndex},_.default.createElement("span",{className:"screen-reader-text"},s.props.translate("Move previous")),_.default.createElement(N.default,{icon:"chevron-down",size:24})),_.default.createElement("button",{type:"button",onClick:s.moveItem.bind(null,"next"),className:"sortable-list__navigation-button is-next",disabled:null===s.state.activeIndex||s.state.activeIndex===s.props.children.length-1},_.default.createElement("span",{className:"screen-reader-text"},s.props.translate("Move next")),_.default.createElement(N.default,{icon:"chevron-up",size:24})))},o=n,(0,m.default)(s,o)}return(0,b.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){O("Mounting "+this.constructor.displayName+" React component.")}},{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}},{key:"render",value:function(){var e=(0,x.default)({"sortable-list":!0,"is-horizontal":"horizontal"===this.props.direction,"is-vertical":"vertical"===this.props.direction});return _.default.createElement("div",{className:e},_.default.createElement("ol",{ref:"list",className:"sortable-list__list"},this.getOrderedListItemElements()),this.getNavigationElement())}}]),t}(_.default.Component);M.propTypes={direction:C.default.oneOf(["horizontal","vertical"]),allowDrag:C.default.bool,onChange:C.default.func},M.defaultProps={direction:"horizontal",allowDrag:!0,onChange:E.noop},t.default=(0,j.localize)(M),e.exports=t.default},"./client/components/resizable-iframe/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/helpers/extends.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),g=n("./node_modules/react-dom/index.js"),b=s(g),v=n("./node_modules/prop-types/index.js"),_=s(v),y=n("./node_modules/react/react.js"),C=s(y),j=n("./node_modules/debug/browser.js"),E=s(j),S=n("./node_modules/lodash/lodash.js"),x=(0,E.default)("calypso:resizable-iframe"),k=function(){},w=function(e){function t(){var e,n,s,o;(0,u.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=s=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(a))),s.state={width:0,height:0},s.getFrameBody=function(){return b.default.findDOMNode(s.refs.iframe).contentDocument.body},s.maybeConnect=function(){if(s.isFrameAccessible()){var e=s.getFrameBody();if(null===e.getAttribute("data-resizable-iframe-connected")){var t=document.createElement("script");t.innerHTML="\n\t\t\t( function() {\n\t\t\t\tvar observer;\n\n\t\t\t\tif ( ! window.MutationObserver || ! document.body || ! window.top ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfunction sendResize() {\n\t\t\t\t\twindow.top.postMessage( {\n\t\t\t\t\t\taction: 'resize',\n\t\t\t\t\t\twidth: document.body.offsetWidth,\n\t\t\t\t\t\theight: document.body.offsetHeight\n\t\t\t\t\t}, '*' );\n\t\t\t\t}\n\n\t\t\t\tobserver = new MutationObserver( sendResize );\n\t\t\t\tobserver.observe( document.body, {\n\t\t\t\t\tattributes: true,\n\t\t\t\t\tattributeOldValue: false,\n\t\t\t\t\tcharacterData: true,\n\t\t\t\t\tcharacterDataOldValue: false,\n\t\t\t\t\tchildList: true,\n\t\t\t\t\tsubtree: true\n\t\t\t\t} );\n\n\t\t\t\twindow.addEventListener( 'load', sendResize, true );\n\n\t\t\t\t// Hack: Remove viewport unit styles, as these are relative\n\t\t\t\t// the iframe root and interfere with our mechanism for\n\t\t\t\t// determining the unconstrained page bounds.\n\t\t\t\tfunction removeViewportStyles( ruleOrNode ) {\n\t\t\t\t\t[ 'width', 'height', 'minHeight', 'maxHeight' ].forEach( function( style ) {\n\t\t\t\t\t\tif ( /^\\d+(vmin|vmax|vh|vw)$/.test( ruleOrNode.style[ style ] ) ) {\n\t\t\t\t\t\t\truleOrNode.style[ style ] = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tArray.prototype.forEach.call( document.querySelectorAll( '[style]' ), removeViewportStyles );\n\t\t\t\tArray.prototype.forEach.call( document.styleSheets, function( stylesheet ) {\n\t\t\t\t\tArray.prototype.forEach.call( stylesheet.cssRules || stylesheet.rules, removeViewportStyles );\n\t\t\t\t} );\n\n\t\t\t\tdocument.body.style.position = 'absolute';\n\t\t\t\tdocument.body.setAttribute( 'data-resizable-iframe-connected', '' );\n\n\t\t\t\tsendResize();\n\t\t\t} )();\n\t\t",e.appendChild(t)}}},s.isFrameAccessible=function(){try{return!!s.getFrameBody()}catch(e){return!1}},s.checkMessageForResize=function(e){var t=b.default.findDOMNode(s.refs.iframe),n=e.data||{};if("string"==typeof n)try{n=JSON.parse(n)}catch(e){}if(t&&t.contentWindow===e.source){x("Received message: %o",n);var o=n,i=o.action,a=o.width,r=o.height,l=s.state,u=l.width,c=l.height;"resize"!==i||u===a&&c===r||(s.setState({width:a,height:r}),s.props.onResize())}},s.onLoad=function(e){s.maybeConnect(),s.props.onLoad(e)},o=n,(0,f.default)(s,o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){x("Mounting "+this.constructor.displayName+" React component.")}},{key:"componentDidMount",value:function(){window.addEventListener("message",this.checkMessageForResize,!1),this.maybeConnect()}},{key:"componentDidUpdate",value:function(){this.maybeConnect()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.checkMessageForResize)}},{key:"render",value:function(){var e=["onResize"];return C.default.createElement("iframe",(0,i.default)({ref:"iframe"},(0,S.omit)(this.props,e),{onLoad:this.onLoad,width:this.props.width||this.state.width,height:this.props.height||this.state.height}))}}]),t}(C.default.Component);w.displayName="ResizableIframe",w.propTypes={src:_.default.string,width:_.default.oneOfType([_.default.string,_.default.number]),height:_.default.oneOfType([_.default.string,_.default.number]),onLoad:_.default.func,onResize:_.default.func},w.defaultProps={onLoad:k,onResize:k},t.default=w,e.exports=t.default},"./client/components/screen-reader-text/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.children;return a.default.createElement("span",{className:"screen-reader-text"},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("./node_modules/react/react.js"),a=s(i);e.exports=t.default},"./client/components/section-header/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/react/react.js"),m=s(h),g=n("./node_modules/classnames/index.js"),b=s(g),v=n("./client/components/card/compact.jsx"),_=s(v),y=n("./client/components/count/index.jsx"),C=s(y),j=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e="number"==typeof this.props.count,t=!(this.props.label||e||this.props.children),n=(0,b.default)(this.props.className,"section-header",{"is-empty":t});return m.default.createElement(_.default,{className:n,href:this.props.href},m.default.createElement("div",{className:"section-header__label"},m.default.createElement("span",{className:"section-header__label-text"},this.props.label),e&&m.default.createElement(C.default,{count:this.props.count})),m.default.createElement("div",{className:"section-header__actions"},this.props.children))}}]),t}(h.PureComponent);j.defaultProps={label:"",href:null},t.default=j,e.exports=t.default},"./client/components/section-nav/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/react/react.js"),m=s(h),g=n("./node_modules/prop-types/index.js"),b=s(g),v=n("./node_modules/classnames/index.js"),_=s(v),y=n("./node_modules/lodash/lodash.js"),C=n("./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx"),j=s(C),E=n("./client/components/section-nav/tabs.jsx"),S=s(E),x=n("./client/components/section-nav/item.jsx"),k=s(x),w=n("./client/components/search/index.jsx"),I=s(w),N=function(e){function t(){var e,n,s,o;(0,r.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),T.call(s),o=n,(0,d.default)(s,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.checkForSiblingControls(this.props.children)}},{key:"componentWillReceiveProps",value:function(e){(0,y.isEqual)(this.props,e)||(this.checkForSiblingControls(e.children),this.hasSiblingControls||this.closeMobilePanel())}},{key:"render",value:function(){var e=this.getChildren(),t=void 0;return e?(t=(0,_.default)({"section-nav":!0,"is-open":this.state.mobileOpen,"has-pinned-items":this.hasPinnedSearch||this.props.hasPinnedItems},this.props.className),m.default.createElement("div",{className:t},this.renderDropdown(),m.default.createElement("div",{className:"section-nav__panel"},e))):(t=(0,
_.default)({"section-nav":!0,"is-empty":!0},this.props.className),m.default.createElement("div",{className:t},m.default.createElement("div",{className:"section-nav__panel"},m.default.createElement(k.default,null))))}}]),t}(h.Component);N.propTypes={selectedText:b.default.node,selectedCount:b.default.number,hasPinnedItems:b.default.bool,onMobileNavPanelOpen:b.default.func,className:b.default.string,allowDropdown:b.default.bool},N.defaultProps={onMobileNavPanelOpen:function(){},allowDropdown:!0};var T=function(){var e=this;this.state={mobileOpen:!1},this.renderDropdown=function(){return e.props.allowDropdown?m.default.createElement("div",{className:"section-nav__mobile-header",onClick:e.toggleMobileOpenState},m.default.createElement("span",{className:"section-nav__mobile-header-text"},e.props.selectedText)):m.default.createElement("div",null)},this.getChildren=function(){return m.default.Children.map(e.props.children,function(e){var t={hasSiblingControls:this.hasSiblingControls,closeSectionNavMobilePanel:this.closeMobilePanel};return e?(e.type!==S.default||e.props.selectedText||"string"!=typeof this.props.selectedText||(t.selectedText=this.props.selectedText),e.type===S.default&&this.props.selectedCount&&(t.selectedCount=this.props.selectedCount),e.type===I.default&&(e.props.pinned&&(this.hasPinnedSearch=!0),t.onSearch=this.generateOnSearch(e.props.onSearch)),m.default.cloneElement(e,t)):null}.bind(e))},this.closeMobilePanel=function(){window.innerWidth<480&&e.state.mobileOpen&&e.setState({mobileOpen:!1})},this.toggleMobileOpenState=function(){var t=!e.state.mobileOpen;e.setState({mobileOpen:t}),t&&e.props.onMobileNavPanelOpen()},this.generateOnSearch=function(t){return function(){t.apply(void 0,arguments),e.closeMobilePanel()}},this.checkForSiblingControls=function(t){e.hasSiblingControls=!1;var n=[I.default,j.default];m.default.Children.forEach(t,function(e,t){t&&e&&!(0,y.includes)(n,e.type)&&(this.hasSiblingControls=!0)}.bind(e))}};t.default=N,e.exports=t.default},"./client/components/section-nav/item.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/react/react.js"),m=s(h),g=n("./node_modules/prop-types/index.js"),b=s(g),v=n("./node_modules/classnames/index.js"),_=s(v),y=n("./client/components/count/index.jsx"),C=s(y),j=n("./client/sections-preload.js"),E=function(e){function t(){var e,n,s,o;(0,r.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),s._preloaded=!1,s.preload=function(){!s._preloaded&&s.props.preloadSectionName&&(s._preloaded=!0,(0,j.preload)(s.props.preloadSectionName))},o=n,(0,d.default)(s,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.itemType?this.props.itemType:"tab",t={"is-selected":this.props.selected,"is-external":this.props.isExternalLink};t["section-nav-"+e]=!0;var n=(0,_.default)(this.props.className,t),s=void 0,o=void 0;return this.props.isExternalLink&&(s="_blank"),this.props.disabled||(o=this.props.onClick),m.default.createElement("li",{className:n},m.default.createElement("a",{href:this.props.path,target:s,className:"section-nav-"+e+"__link",onClick:o,onMouseEnter:this.preload,tabIndex:this.props.tabIndex||0,"aria-selected":this.props.selected,disabled:this.props.disabled,role:"menuitem",rel:this.props.isExternalLink?"external":null},m.default.createElement("span",{className:"section-nav-"+e+"__text"},this.props.children,"number"==typeof this.props.count&&m.default.createElement(C.default,{count:this.props.count}))))}}]),t}(h.PureComponent);E.propTypes={itemType:b.default.string,path:b.default.string,selected:b.default.bool,tabIndex:b.default.number,onClick:b.default.func,isExternalLink:b.default.bool,disabled:b.default.bool,count:b.default.oneOfType([b.default.number,b.default.bool]),className:b.default.string,preloadSectionName:b.default.string},t.default=E,e.exports=t.default},"./client/components/section-nav/tabs.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/helpers/extends.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),g=n("./node_modules/react/react.js"),b=s(g),v=n("./node_modules/react-dom/index.js"),_=s(v),y=n("./node_modules/prop-types/index.js"),C=s(y),j=n("./node_modules/classnames/index.js"),E=s(j),S=n("./node_modules/lodash/lodash.js"),x=n("./client/components/select-dropdown/item.jsx"),k=s(x),w=n("./client/components/select-dropdown/index.jsx"),I=s(w),N=n("./client/lib/viewport/index.js"),T=s(N),P=480,O=function(e){function t(){var e,n,s,o;(0,u.default)(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=s=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.state={isDropdown:!1},s.getTabWidths=function(){var e=0;b.default.Children.forEach(s.props.children,function(t,n){if(t){var s=_.default.findDOMNode(this.refs["tab-"+n]).offsetWidth;e+=s}}.bind(s)),s.tabsWidth=Math.max(e,s.tabsWidth||0)},s.getDropdown=function(){var e=b.default.Children.map(s.props.children,function(e,t){return e?b.default.createElement(k.default,(0,i.default)({},e.props,{key:"navTabsDropdown-"+t}),e.props.children):null});return b.default.createElement(I.default,{className:"section-nav-tabs__dropdown",selectedText:s.props.selectedText,selectedCount:s.props.selectedCount},e)},s.setDropdown=function(){var e=void 0;if(window.innerWidth>P){if(!s.refs.navGroup)return;e=s.refs.navGroup.offsetWidth,s.getTabWidths(),e<=s.tabsWidth&&!s.state.isDropdown?s.setState({isDropdown:!0}):e>s.tabsWidth&&s.state.isDropdown&&s.setState({isDropdown:!1})}else window.innerWidth<=P&&s.state.isDropdown&&s.setState({isDropdown:!1})},s.keyHandler=function(e){switch(e.keyCode){case 32:case 13:e.preventDefault(),document.activeElement.click()}},o=n,(0,f.default)(s,o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.setDropdown(),this.debouncedAfterResize=(0,S.debounce)(this.setDropdown,300),window.addEventListener("resize",this.debouncedAfterResize)}},{key:"componentDidUpdate",value:function(){this.setDropdown()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debouncedAfterResize)}},{key:"render",value:function(){var e=b.default.Children.map(this.props.children,function(e,t){return e&&b.default.cloneElement(e,{ref:"tab-"+t})}),t=(0,E.default)({"section-nav-tabs":!0,"is-dropdown":this.state.isDropdown,"is-open":this.state.isDropdownOpen,"has-siblings":this.props.hasSiblingControls}),n=T.default.getWindowInnerWidth();return b.default.createElement("div",{className:"section-nav-group",ref:"navGroup"},b.default.createElement("div",{className:t},this.props.label&&b.default.createElement("h6",{className:"section-nav-group__label"},this.props.label),b.default.createElement("ul",{className:"section-nav-tabs__list",role:"menu",onKeyDown:this.keyHandler},e),this.state.isDropdown&&n>P&&this.getDropdown()))}}]),t}(g.Component);O.propTypes={selectedText:C.default.string,selectedCount:C.default.number,label:C.default.string,hasSiblingControls:C.default.bool},O.defaultProps={hasSiblingControls:!1},t.default=O,e.exports=t.default},"./client/components/sidebar-navigation/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/prop-types/index.js"),m=s(h),g=n("./node_modules/react/react.js"),b=s(g),v=n("./node_modules/react-redux/es/index.js"),_=n("./node_modules/gridicons/build/index.js"),y=s(_),C=n("./client/state/document-head/selectors.js"),j=n("./client/state/ui/layout-focus/actions.js"),E=function(e){function t(e){(0,r.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.toggleSidebar=n.toggleSidebar.bind(n),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"toggleSidebar",value:function(e){e.preventDefault(),this.props.setLayoutFocus("sidebar")}},{key:"render",value:function(){return b.default.createElement("header",{className:"current-section"},b.default.createElement("a",{onClick:this.toggleSidebar,className:this.props.linkClassName},b.default.createElement(y.default,{icon:"chevron-left"}),this.props.children,b.default.createElement("div",null,b.default.createElement("p",{className:"current-section__"+this.props.sectionName+"-title"},this.props.sectionTitle),b.default.createElement("h1",{className:"current-section__section-title"},this.props.title))))}}]),t}(b.default.Component);E.propTypes={title:m.default.string,linkClassName:m.default.string,sectionTitle:m.default.string,sectionName:m.default.string.isRequired,setLayoutFocus:m.default.func.isRequired},t.default=(0,v.connect)(function(e){return{title:(0,C.getDocumentHeadTitle)(e)}},{setLayoutFocus:j.setLayoutFocus})(E),e.exports=t.default},"./client/lib/popup-monitor/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(){this.intervals={},this.monitorInterval=null}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/keys.js"),a=s(i),r=n("./client/lib/mixins/emitter/index.js"),l=s(r);(0,l.default)(o.prototype),o.prototype.open=function(e,t,n){var s;return t=t||Date.now(),s=window.open(e,t,n),this.startMonitoring(t,s),this},o.prototype.getScreenCenterSpecs=function(e,t){var n="undefined"!=typeof window.screenTop?window.screenTop:window.screenY,s="undefined"!=typeof window.screenLeft?window.screenLeft:window.screenX;return["width="+e,"height="+t,"top="+(n+window.innerHeight/2-t/2),"left="+(s+window.innerWidth/2-e/2)].join()},o.prototype.isOpen=function(e){var t=!1;try{t=this.intervals[e]&&this.intervals[e].closed}catch(e){}return!t},o.prototype.checkStatus=function(){for(var e in this.intervals)this.intervals.hasOwnProperty(e)&&!this.isOpen(e)&&(this.emit("close",e),delete this.intervals[e]);0===(0,a.default)(this.intervals).length&&(clearInterval(this.monitorInterval),delete this.monitorInterval)},o.prototype.startMonitoring=function(e,t){this.monitorInterval||(this.monitorInterval=setInterval(this.checkStatus.bind(this),100)),this.intervals[e]=t},t.default=o,e.exports=t.default},"./client/lib/sharing/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./client/lib/popup-monitor/index.js"),i=s(o),a=function(e,t){var n=new i.default;n.open(e,null,"toolbar=0,location=0,status=0,menubar=0,"+n.getScreenCenterSpecs(780,500)),n.once("close",t)};t.default=a,e.exports=t.default},"./client/lib/users/store.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){T[e]||(T[e]={}),T[e][t]||(T[e][t]={}),T[e][t]=(0,b.default)({},T[e][t],n)}function i(e,t){(0,m.default)(R).forEach(function(n){(0,y.endsWith)(n,"siteId="+e)&&R[n].has(t)&&(P[n]--,O[n]--)})}function a(e,t){(0,m.default)(R).forEach(function(n){(0,y.endsWith)(n,"siteId="+e)&&R[n].has(t)&&(P[n]++,O[n]++)})}function r(e,t){T[e]&&T[e][t]&&(delete T[e][t],i(e,t))}function l(e,t){(0,m.default)(R).forEach(function(n){(0,y.endsWith)(n,"siteId="+e)&&R[n].has(t)&&R[n].delete(t)})}function u(e,t,n){R[n]||(R[n]=new f.default),R[n].add(t.ID),o(e.siteId,t.ID,t)}function c(e,t,n){var s=d(e),i=e.offset;w("updateUsers:",s),i||(R[s]=new f.default),t.forEach(function(t){R[s].add(t.ID),o(e.siteId,t.ID,t)}),P[s]=n,M[s]=i,O[s]=R[s].size}function d(e){return(0,_.default)((0,y.omit)(e,["number","offset"]))}Object.defineProperty(t,"__esModule",{value:!0});var p=n("./node_modules/babel-runtime/core-js/set.js"),f=s(p),h=n("./node_modules/babel-runtime/core-js/object/keys.js"),m=s(h),g=n("./node_modules/babel-runtime/core-js/object/assign.js"),b=s(g),v=n("./node_modules/json-stable-stringify/index.js"),_=s(v),y=n("./node_modules/lodash/lodash.js"),C=n("./node_modules/debug/browser.js"),j=s(C),E=n("./client/dispatcher/index.js"),S=s(E),x=n("./client/lib/mixins/emitter/index.js"),k=s(x),w=(0,j.default)("calypso:users:store"),I={},N={},T={},P={},O={},M={},R={},D={getPaginationData:function(e){var t=d(e);return w("getPaginationData:",t),{fetchInitialized:O.hasOwnProperty(t),totalUsers:P[t]||0,fetchingUsers:I[t]||!1,usersCurrentOffset:M[t],numUsersFetched:O[t],fetchNameSpace:t}},getUsers:function(e){var t=d(e),n=e.siteId,s=[];return w("getUsers:",t),T[n]||(T[n]={}),R[t]?(R[t].forEach(function(e){T[n][e]&&s.push(T[n][e])}),s):s},getUser:function(e,t){return T[e]&&T[e][t]?T[e][t]:null},getUserByLogin:function(e,t){return(0,y.find)(T[e],function(e){return e.login===t})},getUpdatedParams:function(e){var t=d(e),n=O[t]||e.number;return(0,b.default)({},e,{offset:0,number:Math.min(n,1e3)})},emitChange:function(){this.emit("change")}};D.dispatchToken=S.default.register(function(e){var t,n=e.action;switch(n.type){case"RECEIVE_USERS":t=d(n.fetchOptions),I[t]=!1,n.error||(c(n.fetchOptions,n.data.users,n.data.found),D.emitChange());break;case"RECEIVE_UPDATED_USERS":t=d(n.fetchOptions),N[t]=!1,n.error||(c(n.fetchOptions,n.data.users,n.data.found),D.emitChange());break;case"UPDATE_SITE_USER":o(n.siteId,n.user.ID,n.user),D.emitChange();break;case"RECEIVE_UPDATE_SITE_USER_FAILURE":o(n.siteId,n.user.ID,n.user),D.emitChange();break;case"DELETE_SITE_USER":r(n.siteId,n.user.ID),D.emitChange();break;case"RECEIVE_DELETE_SITE_USER_SUCCESS":l(n.siteId,n.user.ID),D.emitChange();break;case"RECEIVE_DELETE_SITE_USER_FAILURE":o(n.siteId,n.user.ID,n.user),a(n.siteId,n.user.ID),D.emitChange();break;case"FETCHING_USERS":t=d(n.fetchOptions),I[t]=!0,D.emitChange();break;case"FETCHING_UPDATED_USERS":t=d(n.fetchOptions),N[t]=!0,D.emitChange();break;case"RECEIVE_SINGLE_USER":t=d(n.fetchOptions),I[t]=!1,u(n.fetchOptions,n.user,t),D.emitChange();break;case"RECEIVE_USER_FAILED":t=d(n.fetchOptions),I[t]=!1,D.emitChange()}}),(0,k.default)(D),t.default=D,e.exports=t.default},"./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentNavigationTab=void 0;var o=n("./node_modules/react/react.js"),i=s(o),a=n("./node_modules/classnames/index.js"),r=s(a),l=t.CommentNavigationTab=function(e){var t=e.children,n=e.className,s=e.onClick;return i.default.createElement("div",{className:(0,r.default)("comment-navigation__tab",n),onClick:s},t)};t.default=l},"./client/my-sites/sharing/buttons/appearance.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/freeze.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),g=n("./node_modules/prop-types/index.js"),b=s(g),v=n("./node_modules/react/react.js"),_=s(v),y=n("./node_modules/react-redux/es/index.js"),C=n("./node_modules/lodash/lodash.js"),j=n("./node_modules/i18n-calypso/index.js"),E=n("./client/my-sites/sharing/buttons/preview.jsx"),S=s(E),x=n("./client/my-sites/sharing/buttons/preview-placeholder.jsx"),k=s(x),w=n("./client/my-sites/sharing/buttons/style.jsx"),I=s(w),N=n("./client/state/ui/selectors.js"),T=n("./client/state/sites/selectors.js"),P=n("./client/state/selectors/is-private-site.js"),O=s(P),M=n("./client/state/analytics/actions.js"),R=function(e){function t(){var e,n,s,o;(0,u.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=s=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(a))),s.onReblogsLikesCheckboxClicked=function(e){s.props.onChange(e.target.name,!e.target.checked),"disabled_reblogs"===e.target.name?s.props.recordGoogleEvent("Sharing","Clicked Show Reblog Button Checkbox","checked",e.target.checked?1:0):"disabled_likes"===e.target.name&&s.props.recordGoogleEvent("Sharing","Clicked Show Like Button Checkbox","checked",e.target.checked?1:0)},o=n,(0,f.default)(s,o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"isLikeButtonEnabled",value:function(){return""===this.props.values.disabled_likes||!1===this.props.values.disabled_likes}},{key:"isReblogButtonEnabled",value:function(){return""===this.props.values.disabled_reblogs||!1===this.props.values.disabled_reblogs}},{key:"getPreviewElement",value:function(){if(this.props.initialized){var e=(0,C.partial)(this.props.onChange,"sharing_label");return _.default.createElement(S.default,{isPrivateSite:this.props.isPrivate,style:this.props.values.sharing_button_style,label:this.props.values.sharing_label,buttons:this.props.buttons,showLike:this.isLikeButtonEnabled(),showReblog:!this.props.isJetpack&&this.isReblogButtonEnabled(),onLabelChange:e,onButtonsChange:this.props.onButtonsChange})}return _.default.createElement(k.default,null)}},{key:"getReblogOptionElement",value:function(){if(!this.props.isJetpack)return _.default.createElement("label",null,_.default.createElement("input",{name:"disabled_reblogs",type:"checkbox",checked:this.isReblogButtonEnabled(),onChange:this.onReblogsLikesCheckboxClicked,disabled:!this.props.initialized}),_.default.createElement("span",null,this.props.translate("Show reblog button",{context:"Sharing options: Checkbox label"})))}},{key:"getReblogLikeOptionsElement",value:function(){var e=this.props,t=e.isJetpack,n=e.translate;return _.default.createElement("fieldset",{className:"buttons__fieldset sharing-buttons__fieldset"},_.default.createElement("legend",{className:"buttons__fieldset-heading sharing-buttons__fieldset-heading"},t?n("Like",{context:"Sharing options: Header"}):n("Reblog & Like",{context:"Sharing options: Header"})),this.getReblogOptionElement(),_.default.createElement("label",null,_.default.createElement("input",{name:"disabled_likes",type:"checkbox",checked:this.isLikeButtonEnabled(),onChange:this.onReblogsLikesCheckboxClicked,disabled:!this.props.initialized}),_.default.createElement("span",null,n("Show like button",{context:"Sharing options: Checkbox label"}))))}},{key:"render",value:function(){var e=(0,C.partial)(this.props.onChange,"sharing_button_style");return _.default.createElement("div",{className:"sharing-buttons__panel sharing-buttons-appearance"},_.default.createElement("p",{className:"sharing-buttons-appearance__description"},this.props.translate("Allow readers to easily share your posts with others by adding sharing buttons throughout your site.")),this.getPreviewElement(),_.default.createElement("div",{className:"sharing-buttons__fieldset-group"},_.default.createElement(I.default,{onChange:e,value:this.props.values.sharing_button_style,disabled:!this.props.initialized}),this.getReblogLikeOptionsElement()),_.default.createElement("button",{type:"submit",className:"button is-primary sharing-buttons__submit",disabled:this.props.saving||!this.props.initialized},this.props.saving?this.props.translate("Saving"):this.props.translate("Save Changes")))}}]),t}(v.Component);R.propTypes={buttons:b.default.array,initialized:b.default.bool,isJetpack:b.default.bool,isPrivate:b.default.bool,onChange:b.default.func,onButtonsChange:b.default.func,onButtonsSave:b.default.func,recordGoogleEvent:b.default.func,saving:b.default.bool,values:b.default.object},R.defaultProps={buttons:(0,i.default)([]),values:(0,i.default)({}),onChange:function(){},onButtonsChange:function(){},initialized:!1,saving:!1};var D=(0,y.connect)(function(e){var t=(0,N.getSelectedSiteId)(e),n=(0,T.isJetpackSite)(e,t),s=(0,O.default)(e,t);return{isJetpack:n,isPrivate:s}},{recordGoogleEvent:M.recordGoogleEvent});t.default=(0,C.flowRight)(D,j.localize)(R),e.exports=t.default},"./client/my-sites/sharing/buttons/buttons.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/assign.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/defineProperty.js"),r=s(a),l=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/createClass.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=s(h),g=n("./node_modules/babel-runtime/helpers/inherits.js"),b=s(g),v=n("./node_modules/prop-types/index.js"),_=s(v),y=n("./node_modules/react/react.js"),C=s(y),j=n("./node_modules/lodash/lodash.js"),E=n("./node_modules/react-redux/es/index.js"),S=n("./node_modules/i18n-calypso/index.js"),x=n("./client/my-sites/sharing/buttons/appearance.jsx"),k=s(x),w=n("./client/my-sites/sharing/buttons/options.jsx"),I=s(w),N=n("./client/components/data/query-jetpack-modules/index.jsx"),T=s(N),P=n("./client/components/data/query-site-settings/index.js"),O=s(P),M=n("./client/components/data/query-sharing-buttons/index.js"),R=s(M),D=n("./client/state/site-settings/actions.js"),A=n("./client/state/sites/sharing-buttons/actions.js"),B=n("./client/state/ui/selectors.js"),L=n("./client/state/site-settings/selectors.js"),U=n("./client/state/selectors/get-sharing-buttons.js"),z=s(U),q=n("./client/state/selectors/is-saving-sharing-buttons.js"),F=s(q),K=n("./client/state/selectors/is-sharing-buttons-save-successful.js"),V=s(K),G=n("./client/state/sites/selectors.js"),W=n("./client/state/selectors/is-jetpack-module-active.js"),H=s(W),J=n("./client/state/analytics/actions.js"),Y=n("./client/state/notices/actions.js"),Q=n("./client/state/jetpack/modules/actions.js"),Z=n("./client/lib/protect-form/index.jsx"),X=function(e){function t(){var e,n,s,o;(0,d.default)(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=s=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),s.state={values:{},buttonsPendingSave:null},s.saveChanges=function(e){var t=s.props,n=t.isJetpack,o=t.isLikesModuleActive,i=t.siteId;if(e.preventDefault(),s.props.saveSiteSettings(s.props.siteId,s.state.values),s.state.buttonsPendingSave&&s.props.saveSharingButtons(s.props.siteId,s.state.buttonsPendingSave),s.props.recordGoogleEvent("Sharing","Clicked Save Changes Button"),n&&o===!1){var a=s.getUpdatedSettings();a.disabled_likes||s.props.activateModule(i,"likes",!0)}},s.handleChange=function(e,t){var n=void 0===t?e:(0,r.default)({},e,t);s.props.markChanged(),s.setState({values:(0,i.default)({},s.state.values,n)})},s.handleButtonsChange=function(e){s.props.markChanged(),s.setState({buttonsPendingSave:e})},o=n,(0,m.default)(s,o)}return(0,b.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.isSaving&&!e.isSaving&&(!e.isSaveSettingsSuccessful||!e.isSaveButtonsSuccessful&&this.state.buttonsPendingSave?e.errorNotice(e.translate("There was a problem saving your changes. Please, try again.")):(e.successNotice(e.translate("Settings saved successfully!")),e.markSaved(),this.setState({values:{},buttonsPendingSave:null})))}},{key:"getUpdatedSettings",value:function(){var e=this.props,t=e.isJetpack,n=e.isLikesModuleActive,s=e.settings,o=t&&n===!1?{disabled_likes:!0}:{};return(0,i.default)({},s,o,this.state.values)}},{key:"render",value:function(){var e=this.props,t=e.buttons,n=e.isJetpack,s=e.isSaving,o=e.settings,i=e.siteId,a=this.getUpdatedSettings(),r=this.state.buttonsPendingSave||t;return C.default.createElement("form",{onSubmit:this.saveChanges,id:"sharing-buttons",className:"sharing-settings sharing-buttons"},C.default.createElement(O.default,{siteId:i}),C.default.createElement(R.default,{siteId:i}),n&&C.default.createElement(T.default,{siteId:i}),C.default.createElement(k.default,{buttons:r,values:a,onChange:this.handleChange,onButtonsChange:this.handleButtonsChange,initialized:!!t&&!!o,saving:s}),C.default.createElement(I.default,{settings:a,onChange:this.handleChange,saving:s}))}}]),t}(y.Component);X.propTypes={buttons:_.default.array,isSaving:_.default.bool,isSaveSettingsSuccessful:_.default.bool,isSaveButtonsSuccessful:_.default.bool,markSaved:_.default.func,markChanged:_.default.func,settings:_.default.object,siteId:_.default.number,translate:_.default.func};var $=(0,E.connect)(function(e){var t=(0,B.getSelectedSiteId)(e),n=(0,L.getSiteSettings)(e,t),s=(0,z.default)(e,t),o=(0,G.isJetpackSite)(e,t),i=(0,H.default)(e,t,"likes"),a=(0,L.isSavingSiteSettings)(e,t),r=(0,F.default)(e,t),l=(0,L.isSiteSettingsSaveSuccessful)(e,t),u=(0,V.default)(e,t);return{isJetpack:o,isLikesModuleActive:i,isSaving:a||r,isSaveSettingsSuccessful:l,isSaveButtonsSuccessful:u,settings:n,buttons:s,siteId:t}},{activateModule:Q.activateModule,errorNotice:Y.errorNotice,recordGoogleEvent:J.recordGoogleEvent,saveSharingButtons:A.saveSharingButtons,saveSiteSettings:D.saveSiteSettings,successNotice:Y.successNotice});t.default=(0,j.flowRight)($,Z.protectForm,S.localize)(X),e.exports=t.default},"./client/my-sites/sharing/buttons/label-editor.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/prop-types/index.js"),m=s(h),g=n("./node_modules/i18n-calypso/index.js"),b=n("./node_modules/react/react.js"),v=s(b),_=n("./node_modules/classnames/index.js"),y=s(_),C=n("./client/lib/formatting/index.js"),j=[13,27],E=function(e){function t(){var e,n,s,o;(0,r.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),s.onKeyDown=function(e){-1!==j.indexOf(e.keyCode)&&(e.target.blur(),e.preventDefault(),s.props.onClose())},s.onInputChange=function(e){s.props.onChange(e.target.value)},s.getNoButtonsNoticeElement=function(){if(!s.props.hasEnabledButtons)return v.default.createElement("em",{className:"sharing-buttons-preview__panel-notice"},s.props.translate("This text won't appear until you add at least one sharing button.",{context:"Sharing: Buttons"}))},o=n,(0,d.default)(s,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=(0,y.default)("sharing-buttons-preview__panel","is-top","sharing-buttons-label-editor",{"is-active":this.props.active});return v.default.createElement("div",{className:e},v.default.createElement("div",{className:"sharing-buttons-preview__panel-content"},v.default.createElement("h3",{className:"sharing-buttons-preview__panel-heading"},this.props.translate("Edit label text",{context:"Sharing: buttons"})),v.default.createElement("p",{className:"sharing-buttons-preview__panel-instructions"},this.props.translate("Change the text of the sharing buttons label")),v.default.createElement("input",{type:"text",value:(0,C.decodeEntities)(this.props.value),onKeyDown:this.onKeyDown,onChange:this.onInputChange,className:"sharing-buttons-label-editor__input"}),this.getNoButtonsNoticeElement()),v.default.createElement("footer",{className:"sharing-buttons-preview__panel-actions"},v.default.createElement("button",{type:"button",className:"button",onClick:this.props.onClose},this.props.translate("Close"))))}}]),t}(v.default.Component);E.displayName="SharingButtonsLabelEditor",E.propTypes={active:m.default.bool,value:m.default.string,onChange:m.default.func,onClose:m.default.func,hasEnabledButtons:m.default.bool},E.defaultProps={active:!1,value:"",onChange:function(){},onClose:function(){},hasEnabledButtons:!0},t.default=(0,g.localize)(E),e.exports=t.default},"./client/my-sites/sharing/buttons/options.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/freeze.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),g=n("./node_modules/prop-types/index.js"),b=s(g),v=n("./node_modules/react/react.js"),_=s(v),y=n("./node_modules/lodash/lodash.js"),C=n("./node_modules/react-redux/es/index.js"),j=n("./node_modules/i18n-calypso/index.js"),E=n("./client/components/forms/multi-checkbox/index.jsx"),S=s(E),x=n("./client/state/post-types/selectors.js"),k=n("./client/state/ui/selectors.js"),w=n("./client/state/site-settings/selectors.js"),I=n("./client/state/selectors/get-sharing-buttons.js"),N=s(I),T=n("./client/state/sites/selectors.js"),P=n("./client/components/data/query-post-types/index.jsx"),O=s(P),M=n("./client/state/analytics/actions.js"),R=function(e){function t(){var e,n,s,o;(0,u.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=s=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(a))),s.trackTwitterViaAnalyticsEvent=function(){s.props.recordGoogleEvent("Sharing","Focussed Twitter Username Field")},s.handleMultiCheckboxChange=function(e,t){var n=(0,y.xor)(s.props.settings.sharing_show,t.value);if(s.props.onChange(e,t.value.length?t.value:null),n.length){var o=-1!==t.value.indexOf(n[0]);s.props.recordGoogleEvent("Sharing","Clicked Show Sharing Buttons On Page Checkbox",n[0],o?1:0)}},s.handleTwitterViaChange=function(e){s.props.onChange(e.target.name,s.getSanitizedTwitterUsername(e.target.value))},s.handleChange=function(e){var t=void 0;t="checkbox"===e.target.type?e.target.checked:e.target.value,"jetpack_comment_likes_enabled"===e.target.name&&s.props.recordGoogleEvent("Sharing","Clicked Comment Likes On For All Posts Checkbox","checked",e.target.checked?1:0),s.props.onChange(e.target.name,t)},o=n,(0,f.default)(s,o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"getSanitizedTwitterUsername",value:function(e){return e?"@"+e.replace(/\W/g,"").substr(0,15):""}},{key:"getPostTypeLabel",value:function(e){var t=void 0;switch(e.name){case"index":t=this.props.translate("Front Page, Archive Pages, and Search Results",{context:"jetpack"});break;case"post":t=this.props.translate("Posts");break;case"page":t=this.props.translate("Pages");break;case"attachment":t=this.props.translate("Media");break;case"portfolio":t=this.props.translate("Portfolio Items");
break;default:t=e.label}return t}},{key:"getDisplayOptions",value:function(){var e=this;return[{name:"index"}].concat(this.props.postTypes).map(function(t){return{value:t.name,label:e.getPostTypeLabel(t)}})}},{key:"isTwitterButtonEnabled",value:function(){return(0,y.some)(this.props.buttons,{ID:"twitter",enabled:!0})}},{key:"getTwitterViaOptionElement",value:function(){var e=this.props,t=e.isJetpack,n=e.initialized,s=e.isTwitterButtonAllowed,o=e.settings,i=e.translate;if(this.isTwitterButtonEnabled()&&s){var a=t?"jetpack-twitter-cards-site-tag":"twitter_via";return _.default.createElement("fieldset",{className:"sharing-buttons__fieldset"},_.default.createElement("legend",{className:"sharing-buttons__fieldset-heading"},i("Twitter username")),_.default.createElement("input",{name:a,type:"text",placeholder:"@"+i("username"),value:this.getSanitizedTwitterUsername(o[a]),onChange:this.handleTwitterViaChange,onFocus:this.trackTwitterViaAnalyticsEvent,disabled:!n}),_.default.createElement("p",{className:"sharing-buttons__fieldset-detail"},i("This will be included in tweets when people share using the Twitter button.")))}}},{key:"getCommentLikesOptionElement",value:function(){var e=this.props,t=e.isJetpack,n=e.initialized,s=e.settings,o=e.translate;if(!t){var i=(0,y.get)(s,"jetpack_comment_likes_enabled",!1);return _.default.createElement("fieldset",{className:"sharing-buttons__fieldset"},_.default.createElement("legend",{className:"sharing-buttons__fieldset-heading"},o("Comment Likes",{context:"Sharing options: Header"})),_.default.createElement("label",null,_.default.createElement("input",{name:"jetpack_comment_likes_enabled",type:"checkbox",checked:i,onChange:this.handleChange,disabled:!n}),_.default.createElement("span",null,o("On for all posts",{context:"Sharing options: Comment Likes"}))))}}},{key:"render",value:function(){var e=this.props,t=e.initialized,n=e.saving,s=e.settings,o=e.siteId,i=e.translate,a=(0,y.partial)(this.handleMultiCheckboxChange,"sharing_show");return _.default.createElement("div",{className:"sharing-buttons__panel"},o&&_.default.createElement(O.default,{siteId:o}),_.default.createElement("h4",null,i("Options")),_.default.createElement("div",{className:"sharing-buttons__fieldset-group"},_.default.createElement("fieldset",{className:"sharing-buttons__fieldset"},_.default.createElement("legend",{className:"sharing-buttons__fieldset-heading"},i("Show sharing buttons on",{context:"Sharing options: Header",comment:'Possible values are: "Front page, Archive Pages, and Search Results", "Posts", "Pages", "Media"'})),_.default.createElement(S.default,{name:"sharing_show",options:this.getDisplayOptions(),checked:s.sharing_show,onChange:a,disabled:!t})),this.getCommentLikesOptionElement(),this.getTwitterViaOptionElement()),_.default.createElement("button",{type:"submit",className:"button is-primary sharing-buttons__submit",disabled:n||!t},i(n?"Saving":"Save Changes")))}}]),t}(v.Component);R.propTypes={buttons:b.default.array,initialized:b.default.bool,isJetpack:b.default.bool,isTwitterButtonAllowed:b.default.bool,onChange:b.default.func,postTypes:b.default.array,recordGoogleEvent:b.default.func,saving:b.default.bool,siteId:b.default.number,translate:b.default.func,settings:b.default.object},R.defaultProps={settings:(0,i.default)({}),onChange:function(){},initialized:!1,saving:!1};var D=(0,C.connect)(function(e){var t=(0,k.getSelectedSiteId)(e),n=(0,T.isJetpackSite)(e,t),s=!n||(0,T.isJetpackMinimumVersion)(e,t,"3.4-dev"),o=(0,y.values)((0,x.getPostTypes)(e,t));return{buttons:(0,N.default)(e,t),initialized:!!o||!!(0,w.getSiteSettings)(e,t),isJetpack:n,isTwitterButtonAllowed:s,postTypes:o,siteId:t}},{recordGoogleEvent:M.recordGoogleEvent});t.default=(0,y.flowRight)(D,j.localize)(R),e.exports=t.default},"./client/my-sites/sharing/buttons/preview-action.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/helpers/extends.js"),i=s(o),a=n("./node_modules/prop-types/index.js"),r=s(a),l=n("./node_modules/react/react.js"),u=s(l),c=n("./node_modules/classnames/index.js"),d=s(c),p=n("./node_modules/lodash/lodash.js"),f=n("./node_modules/gridicons/build/index.js"),h=s(f),m=function(e){var t=e.active,n=e.position,s=e.icon,o=e.children,a=(0,d.default)("sharing-buttons-preview-action",{"is-active":t,"is-top":(0,p.startsWith)(n,"top"),"is-right":(0,p.endsWith)(n,"-right"),"is-bottom":(0,p.startsWith)(n,"bottom"),"is-left":(0,p.endsWith)(n,"-left")});return u.default.createElement("button",(0,i.default)({type:"button",className:a},(0,p.omit)(e,["active","position","icon"])),s&&u.default.createElement(h.default,{icon:s,size:18}),o)};m.propTypes={active:r.default.bool,position:r.default.oneOf(["top-left","top-right","bottom-left","bottom-right"]),icon:r.default.string,onClick:r.default.func},m.defaultProps={active:!0,position:"top-left",onClick:function(){}},t.default=m,e.exports=t.default},"./client/my-sites/sharing/buttons/preview-button.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/prop-types/index.js"),i=s(o),a=n("./node_modules/react/react.js"),r=s(a),l=n("./node_modules/create-react-class/index.js"),u=s(l),c=n("./node_modules/classnames/index.js"),d=s(c),p=n("./node_modules/photon/index.js"),f=s(p),h=n("./node_modules/social-logos/build/index.js"),m=s(h),g=n("./client/lib/analytics/index.js"),b=s(g);t.default=(0,u.default)({displayName:"SharingButtonsPreviewButton",propsTypes:{button:i.default.object.isRequired,style:i.default.oneOf(["icon-text","icon","text","official"]),enabled:i.default.bool,onMouseOver:i.default.func,onClick:i.default.func},getDefaultProps:function(){return{style:"icon",enabled:!0,onClick:function(){}}},getIcon:function(){var e={email:"mail","google-plus-1":"google-plus-alt",pinterest:"pinterest-alt",tumblr:"tumblr-alt","jetpack-whatsapp":"whatsapp","press-this":"wordpress",twitter:"twitter-alt",more:"share"};if(!this.props.button.custom){var t=e[this.props.button.ID]||this.props.button.shortname;return r.default.createElement(m.default,{icon:t,size:18})}if("string"==typeof this.props.button.icon)return r.default.createElement("span",{className:"sharing-buttons-preview-button__custom-icon",style:{backgroundImage:"url("+(0,f.default)(this.props.button.icon,{width:16})+")"}})},onClick:function(){b.default.ga.recordEvent("Sharing","Clicked Share Button",this.props.button.ID),this.props.onClick()},render:function(){var e=(0,d.default)("sharing-buttons-preview-button","style-"+this.props.style,"share-"+this.props.button.ID,{"is-enabled":this.props.enabled,"is-custom":this.props.button.custom});return r.default.createElement("div",{className:e,onClick:this.onClick,onMouseOver:this.props.onMouseOver},this.getIcon(),r.default.createElement("span",{className:"sharing-buttons-preview-button__service"},this.props.button.name))}}),e.exports=t.default},"./client/my-sites/sharing/buttons/preview-buttons.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/freeze.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),g=n("./node_modules/lodash/lodash.js"),b=n("./node_modules/i18n-calypso/index.js"),v=n("./node_modules/prop-types/index.js"),_=s(v),y=n("./node_modules/react-dom/index.js"),C=s(y),j=n("./node_modules/react/react.js"),E=s(j),S=n("./node_modules/classnames/index.js"),x=s(S),k=n("./client/my-sites/sharing/buttons/preview-button.jsx"),w=s(k),I=n("./client/components/resizable-iframe/index.jsx"),N=s(I),T=n("./client/my-sites/sharing/buttons/preview-widget.js"),P=s(T),O=n("./client/lib/touch-detect/index.js"),M=s(O),R=function(e){function t(){var e,n,s,o;(0,u.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=s=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(a))),s.state={morePreviewOffset:null,morePreviewVisible:!1},s.maybeListenForWidgetMorePreview=function(){"official"===s.props.style&&s.props.showMore&&(window.removeEventListener("message",s.detectWidgetPreviewChanges),window.addEventListener("message",s.detectWidgetPreviewChanges))},s.detectWidgetPreviewChanges=function(e){var t,n;if(s.refs.iframe){t=C.default.findDOMNode(s.refs.iframe);var o=void 0;try{o=JSON.parse(e.data)}catch(e){}o&&e.source===t.contentWindow&&("more-show"===o.action?(n={top:t.offsetTop,left:t.offsetLeft},n.top+=o.rect.top+o.height,n.left+=o.rect.left,s.setState({morePreviewOffset:n,morePreviewVisible:!0})):"more-hide"===o.action?s.hideMorePreview():"more-toggle"===o.action?s.toggleMorePreview():"resize"===o.action&&s.updateMorePreviewVisibility())}},s.updateMorePreviewVisibility=function(){s.props.forceMorePreviewVisible?s.showMorePreview():s.hideMorePreview()},s.showMorePreview=function(e){var t,n;e&&(e.currentTarget.contains(e.relatedTarget)||M.default.hasTouch())||("official"===s.props.style?C.default.findDOMNode(s.refs.iframe).contentWindow.postMessage("more-show","*"):(t=C.default.findDOMNode(s.refs.moreButton),n={top:t.offsetTop+t.clientHeight,left:t.offsetLeft},s.setState({morePreviewOffset:n,morePreviewVisible:!0})))},s.toggleMorePreview=function(e){e&&e.nativeEvent.stopImmediatePropagation(),s.state.morePreviewVisible?s.hideMorePreview():s.showMorePreview()},s.hideMorePreview=function(){!s.props.forceMorePreviewVisible&&s.state.morePreviewVisible&&s.setState({morePreviewVisible:!1})},s.getOfficialPreviewElement=function(){var e=(0,g.filter)(s.props.buttons,{visibility:s.props.visibility}),t=P.default.generatePreviewUrlFromButtons(e,s.props.showMore);return E.default.createElement(N.default,{ref:"iframe",src:t,width:"100%",frameBorder:"0",className:"official-preview"})},s.getCustomPreviewElement=function(){var e=s.props.buttons.map(function(e){return E.default.createElement(w.default,{key:e.ID,button:e,enabled:e.visibility===this.props.visibility,style:this.props.style,onClick:this.props.onButtonClick.bind(null,e)})},s);return s.props.showMore&&e.push(E.default.createElement(w.default,{ref:"moreButton",key:"more",button:{ID:"more",name:s.props.translate("More"),genericon:"\\f415"},style:"icon"===s.props.style?"icon-text":s.props.style,onMouseOver:s.showMorePreview,onClick:s.toggleMorePreview})),e},s.getMorePreviewElement=function(){var e,n;if(s.props.showMore)return e=(0,x.default)("sharing-buttons-preview-buttons__more",{"is-visible":s.state.morePreviewVisible}),n=(0,g.filter)(s.props.buttons,{visibility:"hidden"}),E.default.createElement("div",{ref:"more",className:e,style:s.state.morePreviewOffset},E.default.createElement("div",{className:"sharing-buttons-preview-buttons__more-inner"},E.default.createElement(t,{buttons:n,visibility:"hidden",style:s.props.style,showMore:!1})))},o=n,(0,f.default)(s,o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.maybeListenForWidgetMorePreview(),this.updateMorePreviewVisibility(),document.addEventListener("click",this.hideMorePreview)}},{key:"componentDidUpdate",value:function(e){this.maybeListenForWidgetMorePreview(),e.forceMorePreviewVisible===this.props.forceMorePreviewVisible&&(0,g.isEqual)(e.buttons,this.props.buttons)||this.updateMorePreviewVisibility()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.detectWidgetPreviewChanges),document.removeEventListener("click",this.hideMorePreview)}},{key:"render",value:function(){return E.default.createElement("div",{className:"sharing-buttons-preview-buttons"},"official"===this.props.style?this.getOfficialPreviewElement():this.getCustomPreviewElement(),this.getMorePreviewElement())}}]),t}(E.default.Component);R.displayName="SharingButtonsPreviewButtons",R.propTypes={buttons:_.default.array,visibility:_.default.oneOf(["hidden","visible"]),style:_.default.oneOf(["icon","icon-text","text","official"]),onButtonClick:_.default.func,showMore:_.default.bool,forceMorePreviewVisible:_.default.bool},R.defaultProps={buttons:(0,i.default)([]),style:"icon",onButtonClick:function(){},showMore:!1,forceMorePreviewVisible:!1},t.default=(0,b.localize)(R),e.exports=t.default},"./client/my-sites/sharing/buttons/preview-placeholder.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/react/react.js"),m=s(h),g=n("./node_modules/i18n-calypso/index.js"),b=n("./client/my-sites/sharing/buttons/preview-action.jsx"),v=s(b),_=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("div",{className:"sharing-buttons-preview is-placeholder"},m.default.createElement(v.default,{icon:"pencil",position:"top-left",disabled:!0},this.props.translate("Edit label text",{context:"Sharing: Buttons edit label"})),m.default.createElement("h2",{className:"sharing-buttons-preview__heading"},this.props.translate("Preview")),m.default.createElement("div",{className:"sharing-buttons-preview__display"},m.default.createElement("span",{className:"sharing-buttons-preview__label"}),m.default.createElement("div",{className:"sharing-buttons-preview__buttons"}),m.default.createElement("div",{className:"sharing-buttons-preview__reblog-like"},m.default.createElement("a",{className:"sharing-buttons-preview-button is-enabled style-icon-text sharing-buttons-preview__like"},m.default.createElement("span",{className:"noticon noticon-like"}),this.props.translate("Like")),m.default.createElement("div",{className:"sharing-buttons-preview__fake-user"},m.default.createElement("img",{src:"https://1.gravatar.com/avatar/767fc9c115a1b989744c755db47feb60"})),m.default.createElement("div",{className:"sharing-buttons-preview__fake-like"},this.props.translate("One blogger likes this")))),m.default.createElement("div",{className:"sharing-buttons-preview__button-tray-actions"},m.default.createElement(v.default,{icon:"pencil",position:"bottom-left",disabled:!0},this.props.translate("Edit visible buttons",{context:"Sharing: Buttons edit label"})),m.default.createElement(v.default,{icon:"pencil",position:"bottom-left",disabled:!0},this.props.translate("Edit More buttons",{context:"Sharing: Buttons edit label"}))))}}]),t}(m.default.Component);_.displayName="SharingButtonsPreviewPlaceholder",t.default=(0,g.localize)(_),e.exports=t.default},"./client/my-sites/sharing/buttons/preview-widget.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/querystring-es3/index.js"),i=s(o),a=n("./node_modules/i18n-calypso/index.js"),r=s(a),l="//widgets.wp.com/sharing-buttons-preview/";t.default={generatePreviewUrlFromButtons:function(e,t){var n=0,s={};return e.forEach(function(e){var t;e.custom?(t=n++,s["custom["+t+"][name]"]=encodeURIComponent(e.name),s["custom["+t+"][icon]"]=encodeURIComponent(e.icon)):(s["service[]"]=s["service[]"]||[],s["service[]"].push(e.ID))}),t&&(s.more=r.default.translate("More")),l+"?"+i.default.stringify(s)}},e.exports=t.default},"./client/my-sites/sharing/buttons/preview.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/lodash/lodash.js"),m=n("./node_modules/i18n-calypso/index.js"),g=n("./node_modules/prop-types/index.js"),b=s(g),v=n("./node_modules/react/react.js"),_=s(v),y=n("./client/my-sites/sharing/buttons/label-editor.jsx"),C=s(y),j=n("./client/my-sites/sharing/buttons/preview-buttons.jsx"),E=s(j),S=n("./client/my-sites/sharing/buttons/preview-action.jsx"),x=s(S),k=n("./client/my-sites/sharing/buttons/tray.jsx"),w=s(k),I=n("./client/lib/formatting/index.js"),N=n("./client/lib/analytics/index.js"),T=s(N),P=function(e){function t(){var e,n,s,o;(0,r.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),s.state={isEditingLabel:!1,buttonsTrayVisibility:null},s.toggleEditLabel=function(){var e=!s.state.isEditingLabel;s.setState({isEditingLabel:e}),e?(s.hideButtonsTray(),T.default.ga.recordEvent("Sharing","Clicked Edit Text Link")):T.default.ga.recordEvent("Sharing","Clicked Edit Text Done Button")},s.showButtonsTray=function(e){s.setState({isEditingLabel:!1,buttonsTrayVisibility:e}),T.default.ga.recordEvent("Sharing","Clicked Edit Buttons Links",e)},s.hideButtonsTray=function(){s.state.buttonsTrayVisibility&&(s.setState({buttonsTrayVisibility:null}),T.default.ga.recordEvent("Sharing","Clicked Edit Buttons Done Button"))},s.getButtonsTrayToggleButtonLabel=function(e,t){return"visible"===e?t?s.props.translate("Edit sharing buttons",{context:"Sharing: Buttons edit label"}):s.props.translate("Add sharing buttons",{context:"Sharing: Buttons edit label"}):t?s.props.translate("Edit More buttons",{context:"Sharing: Buttons edit label"}):s.props.translate("Add More button",{context:"Sharing: Buttons edit label"})},s.getButtonsTrayToggleButtonElement=function(e){var t=(0,h.some)(s.props.buttons,{visibility:e,enabled:!0});return _.default.createElement(x.default,{active:null===s.state.buttonsTrayVisibility,onClick:s.showButtonsTray.bind(null,e),icon:t?"pencil":"plus",position:"bottom-left"},s.getButtonsTrayToggleButtonLabel(e,t))},s.getReblogButtonElement=function(){if(s.props.showReblog)return _.default.createElement("a",{className:"sharing-buttons-preview-button is-enabled style-icon-text sharing-buttons-preview__reblog"},_.default.createElement("span",{className:"noticon noticon-reblog"}),s.props.translate("Reblog"))},s.getLikeButtonElement=function(){if(s.props.showLike)return _.default.createElement("span",null,_.default.createElement("a",{className:"sharing-buttons-preview-button is-enabled style-icon-text sharing-buttons-preview__like"},_.default.createElement("span",{className:"noticon noticon-like"}),s.props.translate("Like")),_.default.createElement("div",{className:"sharing-buttons-preview__fake-user"},_.default.createElement("img",{src:"https://1.gravatar.com/avatar/767fc9c115a1b989744c755db47feb60"})),_.default.createElement("div",{className:"sharing-buttons-preview__fake-like"},s.props.translate("One blogger likes this.")))},s.getPreviewButtonsElement=function(){var e=(0,h.filter)(s.props.buttons,{enabled:!0});if(e.length)return _.default.createElement(E.default,{buttons:e,visibility:"visible",style:s.props.style,showMore:"hidden"===s.state.buttonsTrayVisibility||(0,h.some)(s.props.buttons,{visibility:"hidden"}),forceMorePreviewVisible:"hidden"===s.state.buttonsTrayVisibility})},o=n,(0,d.default)(s,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return _.default.createElement("div",{className:"sharing-buttons-preview"},_.default.createElement(x.default,{active:!this.state.isEditingLabel,onClick:this.toggleEditLabel,icon:"pencil",position:"top-left"},this.props.translate("Edit label text",{context:"Sharing: Buttons edit label"})),_.default.createElement(C.default,{active:this.state.isEditingLabel,value:this.props.label,onChange:this.props.onLabelChange,onClose:this.toggleEditLabel,hasEnabledButtons:(0,h.some)(this.props.buttons,{enabled:!0})}),_.default.createElement("h2",{className:"sharing-buttons-preview__heading"},this.props.translate("Preview")),_.default.createElement("div",{className:"sharing-buttons-preview__display"},_.default.createElement("span",{className:"sharing-buttons-preview__label"},(0,I.decodeEntities)(this.props.label)),_.default.createElement("div",{className:"sharing-buttons-preview__buttons"},this.getPreviewButtonsElement()),_.default.createElement("div",{className:"sharing-buttons-preview__reblog-like"},this.getReblogButtonElement(),this.getLikeButtonElement())),_.default.createElement("div",{className:"sharing-buttons-preview__button-tray-actions"},this.getButtonsTrayToggleButtonElement("visible"),this.getButtonsTrayToggleButtonElement("hidden")),_.default.createElement(w.default,{buttons:this.props.buttons,style:"official"===this.props.style?"text":this.props.style,visibility:this.state.buttonsTrayVisibility,onButtonsChange:this.props.onButtonsChange,onClose:this.hideButtonsTray,active:null!==this.state.buttonsTrayVisibility,limited:this.props.isPrivateSite}))}}]),t}(_.default.Component);P.displayName="SharingButtonsPreview",P.propTypes={isPrivateSite:b.default.bool,style:b.default.oneOf(["icon-text","icon","text","official"]),label:b.default.string,buttons:b.default.array,showLike:b.default.bool,showReblog:b.default.bool,onLabelChange:b.default.func,onButtonsChange:b.default.func},P.defaultProps={style:"icon",buttons:[],showLike:!0,showReblog:!0,onLabelChange:function(){},onButtonsChange:function(){}},t.default=(0,m.localize)(P),e.exports=t.default},"./client/my-sites/sharing/buttons/style.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/prop-types/index.js"),m=s(h),g=n("./node_modules/i18n-calypso/index.js"),b=n("./node_modules/react/react.js"),v=s(b),_=n("./client/lib/analytics/index.js"),y=s(_),C=function(e){function t(){var e,n,s,o;(0,r.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=s=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),s.onChange=function(e){s.props.onChange(e),y.default.ga.recordEvent("Sharing","Clicked Button Style Radio Button",e)},s.getOptions=function(){return[{value:"icon-text",label:s.props.translate("Icon & Text",{context:"Sharing: Sharing button option label"})},{value:"icon",label:s.props.translate("Icon Only",{context:"Sharing: Sharing button option label"})},{value:"text",label:s.props.translate("Text Only",{context:"Sharing: Sharing button option label"})},{value:"official",label:s.props.translate("Official Buttons",{context:"Sharing: Sharing button option label"})}].map(function(e){return v.default.createElement("label",{key:e.value},v.default.createElement("input",{name:"sharing_button_style",type:"radio",checked:e.value===this.props.value,onChange:this.onChange.bind(null,e.value),disabled:this.props.disabled}),e.label)},s)},o=n,(0,d.default)(s,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return v.default.createElement("fieldset",{className:"sharing-buttons__fieldset"},v.default.createElement("legend",{className:"sharing-buttons__fieldset-heading"},this.props.translate("Button style",{context:"Sharing: Sharing button option heading"})),this.getOptions())}}]),t}(v.default.Component);C.displayName="SharingButtonsStyle",C.propTypes={onChange:m.default.func,value:m.default.string,disabled:m.default.bool},C.defaultProps={onChange:function(){},disabled:!1},t.default=(0,g.localize)(C),e.exports=t.default},"./client/my-sites/sharing/buttons/tray.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/keys.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),g=n("./node_modules/lodash/lodash.js"),b=n("./node_modules/i18n-calypso/index.js"),v=n("./node_modules/prop-types/index.js"),_=s(v),y=n("./node_modules/react/react.js"),C=s(y),j=n("./node_modules/classnames/index.js"),E=s(j),S=n("./client/components/forms/sortable-list/index.jsx"),x=s(S),k=n("./client/my-sites/sharing/buttons/preview-buttons.jsx"),w=s(k),I=n("./client/my-sites/sharing/buttons/preview-button.jsx"),N=s(I),T=function(e){function t(){var e,n,s,o;(0,u.default)(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=s=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),s.state={isReordering:!1},s.getHeadingText=function(){return"visible"===s.props.visibility?s.props.translate("Edit visible buttons",{context:"Sharing: Buttons editor heading"}):s.props.translate("Edit More buttons",{context:"Sharing: Buttons editor heading"})},s.getInstructionText=function(){var e={touch:s.props.translate("Tap the buttons you would like to add or remove.",{textOnly:!0,context:"Sharing: Buttons editor instructions"}),notouch:s.props.translate("Click the buttons you would like to add or remove.",{textOnly:!0,context:"Sharing: Buttons editor instructions"}),"touch-reorder":s.props.translate("Tap the button you would like to move. Then tap the desired arrow.",{textOnly:!0,context:"Sharing: Buttons editor instructions"}),"notouch-reorder":s.props.translate("Drag and drop to reorder the buttons.",{textOnly:!0,context:"Sharing: Buttons editor instructions"})};return(0,i.default)(e).map(function(t){var n=e[t];return"hidden"===this.props.visibility&&(n+=" "+this.props.translate("These will be shown in a dropdown under the More button.",{textOnly:!0,context:"Sharing: Buttons editor instructions"})),C.default.createElement("span",{key:t,className:"sharing-buttons-preview__panel-instruction-text is-"+t+"-context"},n)},s)},s.getButtonsOfCurrentVisibility=function(){return(0,g.filter)(s.props.buttons,{visibility:s.props.visibility})},s.onButtonsReordered=function(e){var t=[];s.getButtonsOfCurrentVisibility().forEach(function(n,s){t[e[s]]=n},s),t=t.concat(s.props.buttons.filter(function(e){return e.visibility!==this.props.visibility},s)),s.props.onButtonsChange(t)},s.onButtonClick=function(e){var t,n=s.props.buttons.slice(0),o=(0,g.find)(n,{ID:e.ID});t=e.visibility!==s.props.visibility||!e.enabled,(0,g.assign)(o,{enabled:t,visibility:s.props.visibility}),t||delete e.visibility,s.props.onButtonsChange(n)},s.toggleReorder=function(){s.setState({isReordering:!s.state.isReordering})},s.getLimitedButtonsNoticeElement=function(){if(s.props.limited)return C.default.createElement("em",{className:"sharing-buttons-preview__panel-notice"},s.props.translate("Sharing options are limited on private sites.",{context:"Sharing: Buttons"}))},s.getButtonElements=function(){if(s.state.isReordering){var e=s.getButtonsOfCurrentVisibility().map(function(e){return C.default.createElement(N.default,{key:e.ID,button:e,enabled:!0,style:this.props.style})},s);return C.default.createElement(x.default,{onChange:s.onButtonsReordered},e)}return C.default.createElement(w.default,{buttons:s.props.buttons,visibility:s.props.visibility,style:s.props.style,showMore:!1,onButtonClick:s.onButtonClick})},o=n,(0,f.default)(s,o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentWillUpdate",value:function(e){this.props.visibility!==e.visibility&&this.setState({isReordering:!1})}},{key:"render",value:function(){var e=(0,E.default)("sharing-buttons-preview__panel","is-bottom","sharing-buttons-tray","buttons-"+this.props.visibility,{"is-active":this.props.active,"is-reordering":this.state.isReordering});return C.default.createElement("div",{className:e},C.default.createElement("div",{className:"sharing-buttons-preview__panel-content"},C.default.createElement("h3",{className:"sharing-buttons-preview__panel-heading"},this.getHeadingText()),C.default.createElement("p",{className:"sharing-buttons-preview__panel-instructions"},this.getInstructionText()),C.default.createElement("div",{className:"sharing-buttons-tray__buttons"},this.getButtonElements()),this.getLimitedButtonsNoticeElement()),C.default.createElement("footer",{className:"sharing-buttons-preview__panel-actions"},C.default.createElement("button",{type:"button",className:"button sharing-buttons-preview__panel-action is-left",onClick:this.toggleReorder,disabled:this.getButtonsOfCurrentVisibility().length<=1},this.state.isReordering?this.props.translate("Add / Remove"):this.props.translate("Reorder")),C.default.createElement("button",{type:"button",className:"button sharing-buttons-preview__panel-action",onClick:this.props.onClose},this.props.translate("Close"))))}}]),t}(C.default.Component);T.displayName="SharingButtonsTray",T.propTypes={buttons:_.default.array,style:_.default.oneOf(["icon-text","icon","text","official"]),visibility:_.default.oneOf(["visible","hidden"]),onButtonsChange:_.default.func,onButtonChange:_.default.func,onClose:_.default.func,active:_.default.bool,limited:_.default.bool},T.defaultProps={buttons:[],style:"icon",visibility:"visible",onButtonsChange:function(){},onButtonChange:function(){},onClose:function(){},active:!1,limited:!1},t.default=(0,b.localize)(T),e.exports=t.default},"./client/my-sites/sharing/connections/account-dialog-account.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/prop-types/index.js"),i=s(o),a=n("./node_modules/react/react.js"),r=s(a),l=n("./node_modules/classnames/index.js"),u=s(l),c=n("./node_modules/gridicons/build/index.js"),d=s(c),p=function(e){var t=e.account,n=e.conflicting,s=e.onChange,o=e.selected,i=(0,u.default)("account-dialog-account",{"is-connected":t.isConnected,"is-conflict":n});return r.default.createElement("li",{className:i},r.default.createElement("label",{className:"account-dialog-account__label"},n&&r.default.createElement(d.default,{icon:"notice"}),!t.isConnected&&r.default.createElement("input",{type:"radio",onChange:s,checked:o,className:"account-dialog-account__input"}),t.picture&&r.default.createElement("img",{src:t.picture,alt:t.name,className:"account-dialog-account__picture"}),r.default.createElement("span",{className:"account-dialog-account__name"},t.name)))};p.propTypes={account:i.default.shape({ID:i.default.oneOfType([i.default.number,i.default.string]),name:i.default.string,picture:i.default.string,keyringConnectionId:i.default.number,isConnected:i.default.bool,isExternal:i.default.bool}).isRequired,selected:i.default.bool,conflicting:i.default.bool,onChange:i.default.func},p.defaultProps={conflicting:!1,connected:!1,onChange:function(){},selected:!1},t.default=p,e.exports=t.default},"./client/my-sites/sharing/connections/account-dialog.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0
});var o=n("./node_modules/babel-runtime/core-js/object/freeze.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),g=n("./node_modules/prop-types/index.js"),b=s(g),v=n("./node_modules/react/react.js"),_=s(v),y=n("./node_modules/classnames/index.js"),C=s(y),j=n("./node_modules/react-redux/es/index.js"),E=n("./node_modules/lodash/lodash.js"),S=n("./node_modules/i18n-calypso/index.js"),x=n("./client/components/notice/index.jsx"),k=s(x),w=n("./client/my-sites/sharing/connections/account-dialog-account.jsx"),I=s(w),N=n("./client/components/dialog/index.jsx"),T=s(N),P=n("./client/state/notices/actions.js"),O=function(e){function t(e){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onClose=function(e){var t=n.getAccountToConnect();"connect"===e&&t?n.props.onAccountSelected(n.props.service,t.keyringConnectionId,t.ID):n.props.onAccountSelected()},n.onSelectedAccountChanged=function(e){return n.setState({selectedAccount:e})},n.state={selectedAccount:null},n}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.visible||this.setState({selectedAccount:null})}},{key:"getSelectedAccount",value:function(){return this.state.selectedAccount?this.state.selectedAccount:(0,E.find)(this.props.accounts,{isConnected:!1})}},{key:"getAccountsByConnectedStatus",value:function(e){return(0,E.filter)(this.props.accounts,{isConnected:e})}},{key:"getAccountToConnect",value:function(){var e=this.getSelectedAccount();if(e&&!e.isConnected)return e}},{key:"areAccountsConflicting",value:function(e,t){return e.keyringConnectionId===t.keyringConnectionId&&e.ID!==t.ID}},{key:"isSelectedAccountConflicting",value:function(){var e=this,t=this.getSelectedAccount();return t&&this.props.accounts.some(function(n){return n.isConnected&&e.areAccountsConflicting(n,t)})}},{key:"getAccountElements",value:function(e){var t=this,n=this.getSelectedAccount();return e.map(function(e){return _.default.createElement(I.default,{key:[e.keyringConnectionId,e.ID].join(),account:e,selected:(0,E.isEqual)(n,e),conflicting:e.isConnected&&n&&t.areAccountsConflicting(e,n),onChange:t.onSelectedAccountChanged.bind(null,e)})})}},{key:"getConnectedAccountsContent",value:function(){var e=this.getAccountsByConnectedStatus(!0);if(e.length){var t=this.isSelectedAccountConflicting();return _.default.createElement("div",{className:"account-dialog__connected-accounts"},_.default.createElement("h3",{className:"account-dialog__connected-accounts-heading"},this.props.translate("Connected")),_.default.createElement("ul",{className:"account-dialog__accounts"},this.getAccountElements(e)),t&&_.default.createElement(k.default,{status:"is-warning",icon:"notice",text:this.props.translate("The marked connection will be replaced with your selection."),isCompact:!0}))}}},{key:"getDisclaimerText",value:function(){return 1===this.props.accounts.length?this.props.translate("Confirm this is the account you would like to authorize. Note that your posts will be automatically shared to this account.",{context:"Sharing: Publicize connection confirmation"}):this.props.translate("Select the account you wish to authorize. Note that your posts will be shared to the selected account automatically.",{context:"Sharing: Publicize connection confirmation"})}},{key:"render",value:function(){var e=(0,C.default)("account-dialog",{"single-account":1===this.props.accounts.length}),t=[{action:"cancel",label:this.props.translate("Cancel")},{action:"connect",label:this.props.translate("Connect"),isPrimary:!0}];return _.default.createElement(T.default,{isVisible:this.props.isVisible,buttons:t,additionalClassNames:e,onClose:this.onClose},_.default.createElement("h2",{className:"account-dialog__authorizing-service"},this.props.translate("Connecting %(service)s",{args:{service:this.props.service?this.props.service.label:""},context:"Sharing: Publicize connection confirmation"})),_.default.createElement("p",{className:"account-dialog__authorizing-disclaimer"},this.getDisclaimerText()),_.default.createElement("ul",{className:"account-dialog__accounts"},this.getAccountElements(this.getAccountsByConnectedStatus(!1))),this.getConnectedAccountsContent())}}]),t}(v.Component);O.propTypes={accounts:b.default.arrayOf(b.default.object),isVisible:b.default.bool,onAccountSelected:b.default.func,service:b.default.object,translate:b.default.func,warningNotice:b.default.func},O.defaultProps={accounts:(0,i.default)([]),isVisible:!0,onAccountSelected:function(){},service:(0,i.default)({}),translate:E.identity,warningNotice:function(){}},t.default=(0,j.connect)(null,{warningNotice:P.warningNotice})((0,S.localize)(O)),e.exports=t.default},"./client/my-sites/sharing/connections/connection.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/prop-types/index.js"),m=s(h),g=n("./node_modules/react/react.js"),b=s(g),v=n("./node_modules/react-redux/es/index.js"),_=n("./node_modules/classnames/index.js"),y=s(_),C=n("./node_modules/lodash/lodash.js"),j=n("./node_modules/i18n-calypso/index.js"),E=n("./client/state/current-user/selectors.js"),S=n("./client/state/selectors/can-current-user.js"),x=s(S),k=n("./client/state/ui/selectors.js"),w=n("./client/state/analytics/actions.js"),I=n("./client/lib/users/store.js"),N=s(I),T=function(e){function t(e){(0,r.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.disconnect=function(){n.props.isDisconnecting||n.props.onDisconnect([n.props.connection])},n.refresh=function(){n.props.isRefreshing||n.props.onRefresh([n.props.connection])},n.toggleSitewideConnection=function(e){if(!n.state.isSavingSitewide){var t=e.target.checked;n.setState({isSavingSitewide:!0}),n.props.onToggleSitewideConnection(n.props.connection,t),n.props.recordGoogleEvent("Sharing","Clicked Connection Available to All Users Checkbox",n.props.service.ID,t?1:0)}},n.state={isSavingSitewide:!1},n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidUpdate",value:function(e){this.state.isSavingSitewide&&this.props.connection.shared!==e.connection.shared&&this.setState({isSavingSitewide:!1})}},{key:"getProfileImage",value:function(){return this.props.connection.external_profile_picture?b.default.createElement("img",{src:this.props.connection.external_profile_picture,alt:this.props.connection.label,className:"sharing-connection__account-avatar"}):b.default.createElement("span",{className:"sharing-connection__account-avatar is-fallback "+this.props.connection.service},b.default.createElement("span",{className:"screen-reader-text"},this.props.connection.label))}},{key:"getReconnectButton",value:function(){if("broken"===this.props.connection.status&&this.props.userId===this.props.connection.keyring_connection_user_ID)return b.default.createElement("a",{onClick:this.refresh,className:"sharing-connection__account-action reconnect"},this.props.translate("Reconnect"))}},{key:"getDisconnectButton",value:function(){var e=this.props.userHasCaps||this.props.connection.user_ID===this.props.userId;if(this.props.showDisconnect&&e)return b.default.createElement("a",{onClick:this.disconnect,className:"sharing-connection__account-action disconnect"},this.props.translate("Disconnect"))}},{key:"isConnectionShared",value:function(){return this.state.isSavingSitewide?!this.props.connection.shared:this.props.connection.shared}},{key:"getConnectionKeyringUserLabel",value:function(){var e=this.props,t=e.translate,n=e.keyringUser,s=e.userId;if(n&&s!==n.ID)return b.default.createElement("aside",{className:"sharing-connection__keyring-user"},t("Connected by %(username)s",{args:{username:n.nice_name},context:"Sharing: connections"}))}},{key:"getConnectionSitewideElement",value:function(){if("publicize"===this.props.service.type){var e=[];return this.props.userHasCaps&&e.push(b.default.createElement("input",{key:"checkbox",type:"checkbox",checked:this.isConnectionShared(),onChange:this.toggleSitewideConnection,readOnly:this.state.isSavingSitewide})),(this.props.userHasCaps||this.props.connection.shared)&&e.push(b.default.createElement("span",{key:"label"},this.props.translate("Connection available to all administrators, editors, and authors",{context:"Sharing: Publicize"}))),e.length?b.default.createElement("label",{className:"sharing-connection__account-sitewide-connection"},e):void 0}}},{key:"render",value:function(){var e=this.getConnectionSitewideElement(),t=(0,y.default)("sharing-connection",{disabled:this.props.isDisconnecting||this.props.isRefreshing}),n=(0,y.default)("sharing-connection__account-status",{"is-shareable":void 0!==e});return b.default.createElement("li",{className:t},this.getProfileImage(),b.default.createElement("div",{className:n},b.default.createElement("span",{className:"sharing-connection__account-name"},this.props.connection.external_display),this.getConnectionKeyringUserLabel(),e),b.default.createElement("div",{className:"sharing-connection__account-actions"},this.getReconnectButton(),this.getDisconnectButton()))}}]),t}(g.Component);T.propTypes={connection:m.default.object.isRequired,isDisconnecting:m.default.bool,isRefreshing:m.default.bool,onDisconnect:m.default.func,onRefresh:m.default.func,onToggleSitewideConnection:m.default.func,recordGoogleEvent:m.default.func,service:m.default.object.isRequired,showDisconnect:m.default.bool,siteId:m.default.number,translate:m.default.func,userHasCaps:m.default.bool,userId:m.default.number},T.defaultProps={isDisconnecting:!1,isRefreshing:!1,onDisconnect:function(){},onRefresh:function(){},onToggleSitewideConnection:function(){},recordGoogleEvent:function(){},showDisconnect:!1,siteId:0,translate:C.identity,userHasCaps:!1,userId:0},t.default=(0,v.connect)(function(e,t){var n=(0,k.getSelectedSiteId)(e),s=t.connection.keyring_connection_user_ID,o=s?N.default.getUser(s):null;return{siteId:n,keyringUser:o,userHasCaps:(0,x.default)(e,n,"edit_others_posts"),userId:(0,E.getCurrentUserId)(e)}},{recordGoogleEvent:w.recordGoogleEvent})((0,j.localize)(T)),e.exports=t.default},"./client/my-sites/sharing/connections/connections.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/prop-types/index.js"),i=s(o),a=n("./node_modules/react/react.js"),r=s(a),l=n("./node_modules/lodash/lodash.js"),u=n("./node_modules/i18n-calypso/index.js"),c=n("./client/components/data/query-keyring-connections/index.jsx"),d=s(c),p=n("./client/components/data/query-keyring-services/index.jsx"),f=s(p),h=n("./client/components/data/query-publicize-connections/index.jsx"),m=s(h),g=n("./client/my-sites/sharing/connections/services-group.jsx"),b=s(g),v=function(e){var t=e.translate;return r.default.createElement("div",{className:"sharing-settings sharing-connections"},r.default.createElement(d.default,null),r.default.createElement(f.default,null),r.default.createElement(m.default,{selectedSite:!0}),r.default.createElement(b.default,{type:"publicize",title:t("Publicize Your Posts")}),r.default.createElement(b.default,{type:"other",title:t("Other Connections")}))};v.propTypes={translate:i.default.func},v.defaultProps={translate:l.identity},t.default=(0,u.localize)(v),e.exports=t.default},"./client/my-sites/sharing/connections/service-action.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/prop-types/index.js"),i=s(o),a=n("./node_modules/react/react.js"),r=s(a),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/lodash/lodash.js"),c=n("./node_modules/i18n-calypso/index.js"),d=n("./client/components/button/index.jsx"),p=s(d),f=n("./client/state/sharing/publicize/selectors.js"),h=function(e){var t=e.isConnecting,n=e.isDisconnecting,s=e.isRefreshing,o=e.onAction,i=e.removableConnections,a=e.status,l=e.translate,u=!1,c=!1,d=void 0,f="unknown"===a||n||s||t,h=function(e){e.stopPropagation(),o()};return"unknown"===a?d=l("Loading",{context:"Sharing: Publicize status pending button label"}):n?d=l("Disconnecting",{context:"Sharing: Publicize disconnect pending button label"}):s?(d=l("Reconnecting",{context:"Sharing: Publicize reconnect pending button label"}),c=!0):t?d=l("Connecting",{context:"Sharing: Publicize connect pending button label"}):"connected"===a?d=i.length>1?l("Disconnect All",{context:"Sharing: Publicize disconnect button label"}):l("Disconnect",{context:"Sharing: Publicize disconnect button label"}):"reconnect"===a?(d=l("Reconnect",{context:"Sharing: Publicize reconnect pending button label"}),c=!0):(d=l("Connect",{context:"Sharing: Publicize connect pending button label"}),u=!0),r.default.createElement(p.default,{primary:u,scary:c,compact:!0,onClick:h,disabled:f},d)};h.propTypes={isConnecting:i.default.bool,isDisconnecting:i.default.bool,isRefreshing:i.default.bool,onAction:i.default.func,removableConnections:i.default.arrayOf(i.default.object),service:i.default.object.isRequired,status:i.default.string,translate:i.default.func},h.defaultProps={isConnecting:!1,isDisconnecting:!1,isRefreshing:!1,onAction:function(){},removableConnections:[],status:"unknown",translate:u.identity},t.default=(0,l.connect)(function(e,t){var n=t.service;return{removableConnections:(0,f.getRemovableConnections)(e,n.ID)}})((0,c.localize)(h)),e.exports=t.default},"./client/my-sites/sharing/connections/service-connected-accounts.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/prop-types/index.js"),i=s(o),a=n("./node_modules/react/react.js"),r=s(a),l=n("./node_modules/lodash/lodash.js"),u=n("./node_modules/i18n-calypso/index.js"),c=n("./client/components/button/index.jsx"),d=s(c),p=function(e){var t=e.children,n=e.connect,s=e.service,o=e.translate;return r.default.createElement("div",{className:"sharing-service-accounts-detail"},r.default.createElement("ul",{className:"sharing-service-connected-accounts"},t),"publicize"===s.type&&r.default.createElement(d.default,{onClick:n},o("Connect a different account",{comment:"Sharing: Publicize connections"})))};p.propTypes={connect:i.default.func,service:i.default.object.isRequired,translate:i.default.func},p.defaultProps={connect:function(){},translate:l.identity},t.default=(0,u.localize)(p),e.exports=t.default},"./client/my-sites/sharing/connections/service-description.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/freeze.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),g=n("./node_modules/prop-types/index.js"),b=s(g),v=n("./node_modules/react/react.js"),_=s(v),y=n("./node_modules/lodash/lodash.js"),C=n("./node_modules/i18n-calypso/index.js"),j=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=void 0;return"reconnect"===this.props.status?e=this.props.translate("There is an issue connecting to %(service)s.",{args:{service:this.props.service.label},context:"Sharing: Publicize"}):"function"==typeof this.props.descriptions[this.props.service.ID]&&(e=this.props.descriptions[this.props.service.ID].call(this)),_.default.createElement("p",{className:"sharing-service__description"},e)}}]),t}(v.Component);j.propTypes={descriptions:b.default.object,numberOfConnections:b.default.number,translate:b.default.func},j.defaultProps={descriptions:(0,i.default)({facebook:function(){return this.props.numberOfConnections>0?this.props.translate("Sharing posts to your news feed.","Sharing posts to your news feeds.",{count:this.props.numberOfConnections,comment:"Description for Facebook Publicize when one or more accounts are connected"}):this.props.translate("Share posts to your news feed.",{comment:"Description for Facebook Publicize when no accounts are connected"})},twitter:function(){return this.props.numberOfConnections>0?this.props.translate("Sharing posts to your Twitter feed.","Sharing posts to your Twitter feeds.",{count:this.props.numberOfConnections,comment:"Description for Twitter Publicize when one or more accounts are connected"}):this.props.translate("Share posts to your Twitter feed.",{comment:"Description for Twitter Publicize when no accounts are connected"})},google_plus:function(){return this.props.numberOfConnections>0?this.props.translate("Commenting and sharing to your profile.","Commenting and sharing to your profiles.",{count:this.props.numberOfConnections,comment:"Description for Google+ Publicize when one or more accounts are connected"}):this.props.translate("Comment and share to your profile.",{comment:"Description for Google+ Publicize when no accounts are connected"})},linkedin:function(){return this.props.numberOfConnections>0?this.props.translate("Sharing posts to your connections.",{comment:"Description for LinkedIn Publicize when one or more accounts are connected"}):this.props.translate("Share posts to your connections.",{comment:"Description for LinkedIn Publicize when no accounts are connected"})},tumblr:function(){return this.props.numberOfConnections>0?this.props.translate("Sharing posts to your Tumblr blog.","Sharing posts to your Tumblr blogs.",{count:this.props.numberOfConnections,comment:"Description for Tumblr Publicize when one or more accounts are connected"}):this.props.translate("Share posts to your Tumblr blog.",{comment:"Description for Tumblr Publicize when no accounts are connected"})},path:function(){return this.props.numberOfConnections>0?this.props.translate("Sharing posts to your Path timeline.","Sharing posts to your Path timelines.",{count:this.props.numberOfConnections,comment:"Description for Path Publicize when one or more accounts are connected"}):this.props.translate("Share posts to your Path timeline.",{comment:"Description for Path Publicize when no accounts are connected"})},eventbrite:function(){return this.props.numberOfConnections>0?this.props.translate("Connected to your Eventbrite account.",{comment:"Description for Eventbrite when one or more accounts are connected"}):this.props.translate("Connect to your Eventbrite account.",{comment:"Description for Eventbrite when no accounts are connected"})},instagram:function(){return this.props.numberOfConnections>0?this.props.translate("Connected to your Instagram account.",{comment:"Description for Instagram when one or more accounts are connected"}):this.props.translate("Connect to use the Instagram widget.",{comment:"Description for Instagram when no accounts are connected"})},google_photos:function(){return this.props.numberOfConnections>0?this.props.translate("Access photos stored in your connected Google account.",{comment:"Description for Google Photos when one or more accounts are connected"}):this.props.translate("Access photos stored in your Google account{{sup}}*{{/sup}}",{components:{sup:_.default.createElement("sup",null)},comment:"Description for Google Photos when no accounts are connected"})}}),numberOfConnections:0,translate:y.identity},t.default=(0,C.localize)(j),e.exports=t.default},"./client/my-sites/sharing/connections/service-example.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/prop-types/index.js"),i=s(o),a=n("./node_modules/react/react.js"),r=s(a),l=n("./node_modules/classnames/index.js"),u=s(l),c=function(e){var t=e.image,n=e.label,s=e.single;return r.default.createElement("div",{className:(0,u.default)("sharing-service-example",{"is-single":s})},r.default.createElement("div",{className:"sharing-service-example-screenshot"},r.default.createElement("img",{src:t.src,alt:t.alt})),r.default.createElement("div",{className:"sharing-service-example-screenshot-label"},n))};c.propTypes={image:i.default.shape({src:i.default.string,alt:i.default.string}),label:i.default.node,single:i.default.bool},c.defaultProps={single:!1},t.default=c,e.exports=t.default},"./client/my-sites/sharing/connections/service-examples.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/freeze.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),g=n("./node_modules/prop-types/index.js"),b=s(g),v=n("./node_modules/react/react.js"),_=s(v),y=n("./node_modules/react-redux/es/index.js"),C=n("./node_modules/lodash/lodash.js"),j=n("./node_modules/i18n-calypso/index.js"),E=n("./client/state/ui/selectors.js"),S=n("./client/my-sites/sharing/connections/service-example.jsx"),x=s(S),k=["bandpage","eventbrite","facebook","google_plus","instagram","linkedin","path","tumblr","twitter","google_photos"],w=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,d.default)(t,[{key:"getSharingButtonsLink",value:function(){return this.props.site?"/sharing/buttons/"+this.props.site.slug:"https://support.wordpress.com/sharing/"}},{key:"bandpage",value:function(){return[{image:{src:"/calypso/images/sharing/bandpage-widget.png",alt:this.props.translate("Add a BandPage widget",{textOnly:!0})},label:this.props.translate("Add a {{link}}BandPage widget{{/link}} to display your music, photos, videos bio, and event listings.",{components:{link:_.default.createElement("a",{href:"https://support.wordpress.com/widgets/bandpage-widget/"})}})}]}},{key:"eventbrite",value:function(){return[{image:{src:"/calypso/images/sharing/eventbrite-list.png",alt:this.props.translate("Connect Eventbrite to list your events",{textOnly:!0})},label:this.props.translate("{{strong}}Connect{{/strong}} Eventbrite to {{link}}list all your events{{/link}} on a page.",{components:{strong:_.default.createElement("strong",null),link:_.default.createElement("a",{href:"https://support.wordpress.com/eventbrite"})}})},{image:{src:"/calypso/images/sharing/eventbrite-widget.png",alt:this.props.translate("Add an Eventbrite widget to your page",{textOnly:!0})},label:this.props.translate("Add an {{link}}Eventbrite widget{{/link}} to display a list of your upcoming events.",{components:{link:_.default.createElement("a",{href:"https://support.wordpress.com/widgets/eventbrite-event-calendarlisting-widget/"})}})}]}},{key:"google_photos",value:function(){return[{image:{src:"/calypso/images/sharing/google-photos.png",alt:this.props.translate("Connect to use photos stored in your Google account directly inside the editor",{textOnly:!0})},label:this.props.translate("{{strong}}Connect{{/strong}} to use photos stored in your Google account directly inside the editor. {{sup}}*{{/sup}}Note that new photos may take a few minutes to appear",{components:{strong:_.default.createElement("strong",null),sup:_.default.createElement("sup",null)}})}]}},{key:"facebook",value:function(){return[{image:{src:"/calypso/images/sharing/facebook-profile.png",alt:this.props.translate("Share posts to your Facebook page or profile",{textOnly:!0})},label:this.props.translate("{{strong}}Connect{{/strong}} to automatically share posts on your Facebook page or profile.",{components:{strong:_.default.createElement("strong",null)}})},{image:{src:"/calypso/images/sharing/facebook-sharing.png",alt:this.props.translate("Add a sharing button",{textOnly:!0})},label:this.props.translate("Add a {{link}}sharing button{{/link}} to your posts so readers can share your story with their friends.",{components:{link:_.default.createElement("a",{href:this.getSharingButtonsLink()})}})}]}},{key:"google_plus",value:function(){return[{image:{src:"/calypso/images/sharing/google-publicize.png",alt:this.props.translate("Share posts to your Google+ page",{textOnly:!0})},label:this.props.translate("{{strong}}Connect{{/strong}} to automatically share posts to your Google+ page.",{components:{strong:_.default.createElement("strong",null)}})},{image:{src:"/calypso/images/sharing/google-sharing.png",alt:this.props.translate("Add a sharing button",{textOnly:!0})},label:this.props.translate("Add a {{link}}sharing button{{/link}} to your posts so readers can share your story with their circles.",{components:{link:_.default.createElement("a",{href:this.getSharingButtonsLink()})}})}]}},{key:"instagram",value:function(){return[{image:{src:"/calypso/images/sharing/instagram-widget.png",alt:this.props.translate("Add an Instagram widget",{textOnly:!0})},label:this.props.translate("Add an {{link}}Instagram widget{{/link}} to display your latest photos.",{components:{link:_.default.createElement("a",{href:"https://support.wordpress.com/instagram/instagram-widget/"})}})}]}},{key:"linkedin",value:function(){return[{image:{src:"/calypso/images/sharing/linkedin-publicize.png",alt:this.props.translate("Share posts with your LinkedIn connections",{textOnly:!0})},label:this.props.translate("{{strong}}Connect{{/strong}} to automatically share posts with your LinkedIn connections.",{components:{strong:_.default.createElement("strong",null)}})},{image:{src:"/calypso/images/sharing/linkedin-sharing.png",alt:this.props.translate("Add a sharing button",{textOnly:!0})},label:this.props.translate("Add a {{link}}sharing button{{/link}} to your posts so readers can share your story with their connections.",{components:{link:_.default.createElement("a",{href:this.getSharingButtonsLink()})}})}]}},{key:"path",value:function(){return[{image:{src:"/calypso/images/sharing/path-publicize.png",alt:this.props.translate("Share posts to your Path timeline",{textOnly:!0})},label:this.props.translate("{{strong}}Connect{{/strong}} to automatically share posts to your Path timeline.",{components:{strong:_.default.createElement("strong",null)}})}]}},{key:"tumblr",value:function(){return[{image:{src:"/calypso/images/sharing/tumblr-publicize.png",alt:this.props.translate("Share posts to your Tumblr blog",{textOnly:!0})},label:this.props.translate("{{strong}}Connect{{/strong}} to automatically share posts to your Tumblr blog.",{components:{strong:_.default.createElement("strong",null)}})},{image:{src:"/calypso/images/sharing/tumblr-sharing.png",alt:this.props.translate("Add a sharing button",{textOnly:!0})},label:this.props.translate("Add a {{link}}sharing button{{/link}} to your posts so readers can share your story with their followers.",{components:{link:_.default.createElement("a",{href:this.getSharingButtonsLink()})}})}]}},{key:"twitter",value:function(){return[{image:{src:"/calypso/images/sharing/twitter-publicize.png",alt:this.props.translate("Share posts to your Twitter followers",{textOnly:!0})},label:this.props.translate("{{strong}}Connect{{/strong}} to automatically share posts with your Twitter followers.",{components:{strong:_.default.createElement("strong",null)}})},{image:{src:"/calypso/images/sharing/twitter-timeline.png",alt:this.props.translate("Add a Twitter Timeline Widget",{textOnly:!0})},label:this.props.translate("Add a {{link}}Twitter Timeline Widget{{/link}} to display your latest tweets on your site.",{components:{link:_.default.createElement("a",{href:"https://support.wordpress.com/widgets/twitter-timeline-widget/"})}})}]}},{key:"render",value:function(){if(!(0,C.includes)(k,this.props.service.ID))return _.default.createElement("div",{className:"sharing-service-examples"});var e=this[this.props.service.ID]();return _.default.createElement("div",{className:"sharing-service-examples"},e.map(function(t,n){return _.default.createElement(x.default,{key:n,image:t.image,label:t.label,single:1===e.length})}))}}]),t}(v.Component);w.propTypes={service:b.default.object.isRequired,site:b.default.object,translate:b.default.func},w.defaultProps={site:(0,i.default)({}),translate:C.identity},t.default=(0,y.connect)(function(e){return{site:(0,E.getSelectedSite)(e)}})((0,j.localize)(w)),e.exports=t.default},"./client/my-sites/sharing/connections/service-placeholder.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/prop-types/index.js"),m=s(h),g=n("./node_modules/react/react.js"),b=s(g),v=n("./node_modules/lodash/lodash.js"),_=n("./node_modules/i18n-calypso/index.js"),y=n("./node_modules/gridicons/build/index.js"),C=s(y),j=n("./client/components/button/index.jsx"),E=s(j),S=n("./client/components/foldable-card/index.jsx"),x=s(S),k=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=b.default.createElement("div",null,b.default.createElement(C.default,{icon:"share",size:48,className:"sharing-service__logo"}),b.default.createElement("div",{className:"sharing-service__name"},b.default.createElement("h2",null),b.default.createElement("p",{className:"sharing-service__description"}))),t=b.default.createElement(E.default,{compact:!0,disabled:!0},this.props.translate("Loading"));return b.default.createElement("li",{className:"sharing-service is-placeholder"},b.default.createElement(x.default,{header:e,summary:t,className:"sharing-service",compact:!0},b.default.createElement("div",null)))}}]),t}(g.Component);k.propTypes={translate:m.default.func},k.defaultProps={translate:v.identity},t.default=(0,_.localize)(k),e.exports=t.default},"./client/my-sites/sharing/connections/service-tip.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/inherits.js"),f=s(p),h=n("./node_modules/prop-types/index.js"),m=s(h),g=n("./node_modules/react/react.js"),b=s(g),v=n("./node_modules/lodash/lodash.js"),_=n("./node_modules/i18n-calypso/index.js"),y=n("./node_modules/gridicons/build/index.js"),C=s(y),j=["facebook","twitter","instagram","google_plus","eventbrite"],E=function(e){
function t(){return(0,r.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"facebook",value:function(){return this.props.translate("You can also add a {{likeBoxLink}}Like Box{{/likeBoxLink}}, a {{shareButtonLink}}share button{{/shareButtonLink}}, or {{embedLink}}embed{{/embedLink}} your page or profile on your site.",{components:{likeBoxLink:b.default.createElement("a",{href:"https://support.wordpress.com/facebook-integration/#facebook-like-box"}),shareButtonLink:b.default.createElement("a",{href:"https://support.wordpress.com/sharing/"}),embedLink:b.default.createElement("a",{href:"https://support.wordpress.com/facebook-integration/facebook-embeds/"})},context:"Sharing: Tip in settings"})}},{key:"twitter",value:function(){return this.props.translate("You can also add a {{widgetLink}}Twitter Timeline Widget{{/widgetLink}} to display any public timeline on your site.",{components:{widgetLink:b.default.createElement("a",{href:"https://support.wordpress.com/widgets/twitter-timeline-widget/"})},context:"Sharing: Tip in settings"})}},{key:"instagram",value:function(){return this.props.translate("You can also add an {{widgetLink}}Instagram Widget{{/widgetLink}} to display your latest Instagram photos on your site.",{components:{widgetLink:b.default.createElement("a",{href:"https://support.wordpress.com/instagram/instagram-widget/"})},context:"Sharing: Tip in settings"})}},{key:"google_plus",value:function(){return this.props.translate("You can also {{embedLink}}embed a Google+ post{{/embedLink}} onto a post or page.",{components:{embedLink:b.default.createElement("a",{href:"https://support.wordpress.com/google-plus-embeds/"})},context:"Sharing: Tip in settings"})}},{key:"eventbrite",value:function(){return this.props.translate("You can also add the {{embedLink}}Eventbrite widget{{/embedLink}} to display events in a sidebar.",{components:{embedLink:b.default.createElement("a",{href:"https://support.wordpress.com/widgets/eventbrite-event-calendarlisting-widget/"})},context:"Sharing: Tip in settings"})}},{key:"render",value:function(){return(0,v.includes)(j,this.props.service.ID)?b.default.createElement("div",{className:"sharing-service-tip"},b.default.createElement(C.default,{icon:"info",size:18}),this[this.props.service.ID]()):b.default.createElement("div",{className:"sharing-service-tip"})}}]),t}(g.Component);E.propTypes={service:m.default.object.isRequired,translate:m.default.func},E.defaultProps={translate:v.identity},t.default=(0,_.localize)(E),e.exports=t.default},"./client/my-sites/sharing/connections/service.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,E.connect)(function(e,n){var s=n.service,o=(0,z.getSelectedSiteId)(e),i=(0,B.getCurrentUserId)(e),a={availableExternalAccounts:(0,A.getAvailableExternalAccounts)(e,s.ID),brokenConnections:(0,U.getBrokenSiteUserConnectionsForService)(e,o,i,s.ID),isFetching:(0,U.isFetchingConnections)(e,o),keyringConnections:(0,L.getKeyringConnectionsByName)(e,s.ID),removableConnections:(0,U.getRemovableConnections)(e,s.ID),siteId:o,siteUserConnections:(0,U.getSiteUserConnectionsForService)(e,o,i,s.ID)};return(0,S.isFunction)(t)?t(e,a):a},(0,a.default)({createSiteConnection:T.createSiteConnection,deleteSiteConnection:T.deleteSiteConnection,successNotice:P.successNotice,errorNotice:P.errorNotice,failCreateConnection:T.failCreateConnection,fetchConnection:T.fetchConnection,recordGoogleEvent:q.recordGoogleEvent,requestKeyringConnections:F.requestKeyringConnections,updateSiteConnection:T.updateSiteConnection,warningNotice:P.warningNotice},n))((0,x.localize)(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.SharingService=void 0;var i=n("./node_modules/babel-runtime/helpers/extends.js"),a=s(i),r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=s(r),u=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=s(u),d=n("./node_modules/babel-runtime/helpers/createClass.js"),p=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=s(f),m=n("./node_modules/babel-runtime/helpers/inherits.js"),g=s(m);t.connectFor=o;var b=n("./node_modules/prop-types/index.js"),v=s(b),_=n("./node_modules/react/react.js"),y=s(_),C=n("./node_modules/classnames/index.js"),j=s(C),E=n("./node_modules/react-redux/es/index.js"),S=n("./node_modules/lodash/lodash.js"),x=n("./node_modules/i18n-calypso/index.js"),k=n("./node_modules/social-logos/build/index.js"),w=s(k),I=n("./client/my-sites/sharing/connections/account-dialog.jsx"),N=s(I),T=n("./client/state/sharing/publicize/actions.js"),P=n("./client/state/notices/actions.js"),O=n("./client/my-sites/sharing/connections/connection.jsx"),M=s(O),R=n("./client/components/foldable-card/index.jsx"),D=s(R),A=n("./client/state/sharing/selectors.js"),B=n("./client/state/current-user/selectors.js"),L=n("./client/state/sharing/keyring/selectors.js"),U=n("./client/state/sharing/publicize/selectors.js"),z=n("./client/state/ui/selectors.js"),q=n("./client/state/analytics/actions.js"),F=n("./client/state/sharing/keyring/actions.js"),K=n("./client/my-sites/sharing/connections/service-action.jsx"),V=s(K),G=n("./client/my-sites/sharing/connections/service-connected-accounts.jsx"),W=s(G),H=n("./client/my-sites/sharing/connections/service-description.jsx"),J=s(H),Y=n("./client/my-sites/sharing/connections/service-examples.jsx"),Q=s(Y),Z=n("./client/my-sites/sharing/connections/service-tip.jsx"),X=s(Z),$=n("./client/lib/sharing/index.js"),ee=s($),te=t.SharingService=function(e){function t(){(0,c.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments));return e.performAction=function(){var t=e.getConnectionStatus(e.props.service.ID);"connected"===t&&e.canRemoveConnection()?(e.removeConnection(),e.props.recordGoogleEvent("Sharing","Clicked Disconnect Button",e.props.service.ID)):"reconnect"===t?(e.refresh(),e.props.recordGoogleEvent("Sharing","Clicked Reconnect Button",e.props.service.ID)):(e.addConnection(e.props.service),e.props.recordGoogleEvent("Sharing","Clicked Connect Button",e.props.service.ID))},e.addConnection=function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.setState({isConnecting:!0}),t?n?(e.createOrUpdateConnection(n,s),e.props.recordGoogleEvent("Sharing","Clicked Connect Button in Modal",e.props.service.ID)):(0,ee.default)(t.connect_URL,function(){e.props.requestKeyringConnections(),e.setState({isAwaitingConnections:!0})}):(e.props.warningNotice(e.props.translate("The connection could not be made because no account was selected.",{comment:"Warning notice when sharing connection dialog was closed without selection"}),{id:"publicize"}),e.setState({isConnecting:!1}),e.props.recordGoogleEvent("Sharing","Clicked Cancel Button in Modal",e.props.service.ID)),e.setState({isSelectingAccount:!1})},e.createOrUpdateConnection=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=(0,S.find)(e.props.siteUserConnections,{keyring_connection_ID:t});e.props.siteId&&s?e.props.updateSiteConnection(s,{external_user_ID:n}):e.props.createSiteConnection(e.props.siteId,t,n)},e.connectAnother=function(){e.props.recordGoogleEvent("Sharing","Clicked Connect Another Account Button",e.props.service.ID),e.addConnection(e.props.service)},e.toggleSitewideConnection=function(t,n){return e.props.updateSiteConnection(t,{shared:n})},e.refresh=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.brokenConnections;e.setState({isRefreshing:!0}),e.getConnections(t).map(function(t){var n=(0,S.find)(e.props.keyringConnections,{ID:t.keyring_connection_ID});n?(0,ee.default)(t.refresh_URL,function(){e.fetchConnection(t)}):e.props.errorNotice(e.props.translate("The %(service)s account was unable to be reconnected.",{args:{service:e.props.service.label},context:"Sharing: Publicize reconnection confirmation"}),{id:"publicize"})})},e.fetchConnection=function(t){e.props.fetchConnection(e.props.siteId,t.ID)},e.canRemoveConnection=function(){return e.props.removableConnections.length>0},e.removeConnection=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.removableConnections;e.setState({isDisconnecting:!0}),t.map(e.props.deleteSiteConnection)},e.state={isOpen:!1,isConnecting:!1,isDisconnecting:!1,isRefreshing:!1,isSelectingAccount:!1,isAwaitingConnections:!1},e}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentWillReceiveProps",value:function(e){(0,S.isEqual)(this.props.siteUserConnections,e.siteUserConnections)||this.setState({isConnecting:!1,isDisconnecting:!1,isSelectingAccount:!1}),(0,S.isEqual)(this.props.brokenConnections,e.brokenConnections)||this.setState({isRefreshing:!1}),this.state.isAwaitingConnections&&(this.setState({isAwaitingConnections:!1}),this.didKeyringConnectionSucceed(e.availableExternalAccounts)&&this.setState({isSelectingAccount:!0}))}},{key:"getConnections",value:function(e){return e||this.props.siteUserConnections}},{key:"getConnectionStatus",value:function(e){var t=void 0;return t=this.props.isFetching?"unknown":(0,S.some)(this.getConnections(),{service:e})?(0,S.some)(this.getConnections(),{status:"broken"})?"reconnect":"connected":"not-connected"}},{key:"didKeyringConnectionSucceed",value:function(e){var t=(0,S.some)(e,{isConnected:!1});return e.length?t||(this.props.failCreateConnection({message:this.props.translate("The %(service)s connection could not be made because all available accounts are already connected.",{args:{service:this.props.service.label},context:"Sharing: Publicize connection confirmation"})}),this.setState({isConnecting:!1})):(this.props.failCreateConnection({message:this.props.translate("The %(service)s connection could not be made because no account was selected.",{args:{service:this.props.service.label},context:"Sharing: Publicize connection confirmation"})}),this.setState({isConnecting:!1})),e.length&&t}},{key:"renderLogo",value:function(){return y.default.createElement(w.default,{icon:(0,S.replace)(this.props.service.ID,"_","-"),size:48,className:"sharing-service__logo"})}},{key:"render",value:function(){var e=this,t=this.getConnections(),n=this.getConnectionStatus(this.props.service.ID),s=(0,j.default)("sharing-service",this.props.service.ID,n,{"is-open":this.state.isOpen}),o=this.state.isSelectingAccount?this.props.availableExternalAccounts:[],i=y.default.createElement("div",null,this.renderLogo(),y.default.createElement("div",{className:"sharing-service__name"},y.default.createElement("h2",null,this.props.service.label),y.default.createElement(J.default,{service:this.props.service,status:n,numberOfConnections:this.getConnections().length}))),a=y.default.createElement(V.default,{status:n,service:this.props.service,onAction:this.performAction,isConnecting:this.state.isConnecting,isRefreshing:this.state.isRefreshing,isDisconnecting:this.state.isDisconnecting});return y.default.createElement("li",null,y.default.createElement(N.default,{isVisible:this.state.isSelectingAccount,service:this.props.service,accounts:o,onAccountSelected:this.addConnection}),y.default.createElement(D.default,{className:s,header:i,clickableHeader:!0,compact:!0,summary:a,expandedSummary:a},y.default.createElement("div",{className:(0,j.default)("sharing-service__content",{"is-placeholder":this.props.isFetching})},y.default.createElement(Q.default,{service:this.props.service}),y.default.createElement(W.default,{connect:this.connectAnother,service:this.props.service},t.map(function(n){return y.default.createElement(M.default,{key:n.keyring_connection_ID,connection:n,isDisconnecting:e.state.isDisconnecting,isRefreshing:e.state.isRefreshing,onDisconnect:e.removeConnection,onRefresh:e.refresh,onToggleSitewideConnection:e.toggleSitewideConnection,service:e.props.service,showDisconnect:t.length>1||"broken"===n.status})})),y.default.createElement(X.default,{service:this.props.service}))))}}]),t}(_.Component);te.propTypes={availableExternalAccounts:v.default.arrayOf(v.default.object),brokenConnections:v.default.arrayOf(v.default.object),createSiteConnection:v.default.func,deleteSiteConnection:v.default.func,errorNotice:v.default.func,failCreateConnection:v.default.func,fetchConnection:v.default.func,isFetching:v.default.bool,keyringConnections:v.default.arrayOf(v.default.object),recordGoogleEvent:v.default.func,removableConnections:v.default.arrayOf(v.default.object),service:v.default.object.isRequired,siteId:v.default.number,siteUserConnections:v.default.arrayOf(v.default.object),translate:v.default.func,updateSiteConnection:v.default.func,warningNotice:v.default.func},te.defaultProps={availableExternalAccounts:[],brokenConnections:[],createSiteConnection:function(){},deleteSiteConnection:function(){},errorNotice:function(){},failCreateConnection:function(){},fetchConnection:function(){},isFetching:!1,keyringConnections:[],recordGoogleEvent:function(){},requestKeyringConnections:function(){},removableConnections:[],siteId:0,siteUserConnections:[],translate:S.identity,updateSiteConnection:function(){},warningNotice:function(){}},t.default=o(te)},"./client/my-sites/sharing/connections/services-group.jsx":function(e,t,n){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/prop-types/index.js"),a=o(i),r=n("./node_modules/react/react.js"),l=o(r),u=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/lodash/lodash.js"),d=n("./client/state/sharing/services/selectors.js"),p=n("./client/state/ui/selectors.js"),f=n("./client/components/section-header/index.jsx"),h=o(f),m=n("./client/my-sites/sharing/connections/service.jsx"),g=o(m),b=n("./client/my-sites/sharing/connections/services/index.js"),v=s(b),_=n("./client/my-sites/sharing/connections/service-placeholder.jsx"),y=o(_),C=4,j=function(e){var t=e.isFetching,n=e.services,s=e.title;return n.length||t?l.default.createElement("div",{className:"sharing-services-group"},l.default.createElement(h.default,{label:s}),l.default.createElement("ul",{className:"sharing-services-group__services"},n.length?n.map(function(e){var t=v.hasOwnProperty(e.ID)?v[e.ID]:g.default;return l.default.createElement(t,{key:e.ID,service:e})}):(0,c.times)(C,function(e){return l.default.createElement(y.default,{key:"service-placeholder-"+e})}))):null};j.propTypes={isFetching:a.default.bool,services:a.default.array,title:a.default.string.isRequired,type:a.default.string.isRequired},j.defaultProps={isFetching:!1,services:[]},t.default=(0,u.connect)(function(e,t){var n=t.type;return{isFetching:(0,d.isKeyringServicesFetching)(e),services:(0,d.getEligibleKeyringServices)(e,(0,p.getSelectedSiteId)(e),n)}})(j),e.exports=t.default},"./client/my-sites/sharing/connections/services/eventbrite.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Eventbrite=void 0;var o=n("./node_modules/babel-runtime/helpers/extends.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),g=n("./node_modules/prop-types/index.js"),b=s(g),v=n("./node_modules/lodash/lodash.js"),_=n("./client/my-sites/sharing/connections/service.jsx"),y=n("./client/state/sharing/keyring/actions.js"),C=n("./client/state/site-settings/actions.js"),j=t.Eventbrite=function(e){function t(){var e,n,s,o;(0,u.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=s=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(a))),s.createOrUpdateConnection=function(){},s.removeConnection=function(){s.setState({isDisconnecting:!0}),s.props.saveSiteSettings(s.props.siteId,{eventbrite_api_token:null}),s.props.deleteKeyringConnection((0,v.last)(s.props.keyringConnections))},o=n,(0,f.default)(s,o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.availableExternalAccounts,n=e.saveRequests;if((0,v.isEqual)(this.props.availableExternalAccounts,t)||this.setState({isConnecting:!1,isDisconnecting:!1}),this.state.isAwaitingConnections&&(this.setState({isAwaitingConnections:!1,isRefreshing:!1}),this.didKeyringConnectionSucceed(t))){var s=n[this.props.siteId]&&n[this.props.siteId].saving;s||this.props.saveSiteSettings(this.props.siteId,{eventbrite_api_token:(0,v.last)(t).keyringConnectionId}),this.setState({isConnecting:!1}),this.props.successNotice(this.props.translate("The %(service)s account was successfully connected.",{args:{service:this.props.service.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})}}}]),t}(_.SharingService);j.propTypes=(0,i.default)({},_.SharingService.propTypes,{saveRequests:b.default.object,saveSiteSettings:b.default.func,deleteKeyringConnection:b.default.func}),j.defaultProps=(0,i.default)({},_.SharingService.defaultProps,{saveRequests:{},saveSiteSettings:function(){},deleteKeyringConnection:function(){}}),t.default=(0,_.connectFor)(j,function(e,t){return(0,i.default)({},t,{saveRequests:e.siteSettings.saveRequests,removableConnections:t.keyringConnections,fetchConnection:t.requestKeyringConnections,siteUserConnections:t.keyringConnections.map(function(e){return(0,i.default)({},e,{keyring_connection_ID:e.ID})})})},{saveSiteSettings:C.saveSiteSettings,deleteKeyringConnection:y.deleteKeyringConnection})},"./client/my-sites/sharing/connections/services/google-photos.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GooglePhotos=void 0;var o=n("./node_modules/babel-runtime/helpers/extends.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),g=n("./node_modules/react/react.js"),b=s(g),v=n("./node_modules/prop-types/index.js"),_=s(v),y=n("./node_modules/lodash/lodash.js"),C=n("./client/state/sharing/keyring/actions.js"),j=n("./client/my-sites/sharing/connections/service.jsx"),E=t.GooglePhotos=function(e){function t(){var e,n,s,o;(0,u.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=s=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(a))),s.createOrUpdateConnection=function(){},s.removeConnection=function(){s.setState({isDisconnecting:!0}),s.props.deleteStoredKeyringConnection((0,y.last)(s.props.keyringConnections))},o=n,(0,f.default)(s,o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.availableExternalAccounts;(0,y.isEqual)(this.props.availableExternalAccounts,t)||this.setState({isConnecting:!1,isDisconnecting:!1}),this.state.isAwaitingConnections&&(this.setState({isAwaitingConnections:!1,isRefreshing:!1}),this.didKeyringConnectionSucceed(t)&&(this.setState({isConnecting:!1}),this.props.successNotice(this.props.translate("The %(service)s account was successfully connected.",{args:{service:this.props.service.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})))}},{key:"renderLogo",value:function(){return b.default.createElement("img",{className:"sharing-service__logo",src:"/calypso/images/sharing/google-photos-logo.svg",width:"48",height:"48"})}}]),t}(j.SharingService);E.propTypes=(0,i.default)({},j.SharingService.propTypes,{deleteStoredKeyringConnection:_.default.func}),E.defaultProps=(0,i.default)({},j.SharingService.defaultProps,{deleteStoredKeyringConnection:function(){}}),t.default=(0,j.connectFor)(E,function(e,t){return(0,i.default)({},t,{removableConnections:t.keyringConnections,fetchConnection:t.requestKeyringConnections,siteUserConnections:t.keyringConnections.map(function(e){return(0,i.default)({},e,{keyring_connection_ID:e.ID})})})},{deleteStoredKeyringConnection:C.deleteStoredKeyringConnection})},"./client/my-sites/sharing/connections/services/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.hasOwnProperty=t.google_photos=t.instagram=t.eventbrite=void 0;var o=n("./node_modules/babel-runtime/core-js/set.js"),i=s(o),a=n("./client/my-sites/sharing/connections/services/eventbrite.js"),r=s(a),l=n("./client/my-sites/sharing/connections/services/instagram.js"),u=s(l),c=n("./client/my-sites/sharing/connections/services/google-photos.js"),d=s(c);t.eventbrite=r.default,t.instagram=u.default,t.google_photos=d.default;var p=new i.default(["eventbrite","instagram","google_photos"]);t.hasOwnProperty=function(e){return p.has(e)}},"./client/my-sites/sharing/connections/services/instagram.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Instagram=void 0;var o=n("./node_modules/babel-runtime/helpers/extends.js"),i=s(o),a=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=s(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/createClass.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),g=n("./node_modules/prop-types/index.js"),b=s(g),v=n("./node_modules/lodash/lodash.js"),_=n("./client/state/sharing/keyring/actions.js"),y=n("./client/my-sites/sharing/connections/service.jsx"),C=t.Instagram=function(e){function t(){var e,n,s,o;(0,u.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=s=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(a))),s.createOrUpdateConnection=function(){},s.removeConnection=function(){s.setState({isDisconnecting:!0}),s.props.deleteStoredKeyringConnection((0,v.last)(s.props.keyringConnections))},o=n,(0,f.default)(s,o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.availableExternalAccounts;(0,v.isEqual)(this.props.availableExternalAccounts,t)||this.setState({isConnecting:!1,isDisconnecting:!1}),this.state.isAwaitingConnections&&(this.setState({isAwaitingConnections:!1,isRefreshing:!1}),this.didKeyringConnectionSucceed(t)&&(this.setState({isConnecting:!1}),this.props.successNotice(this.props.translate("The %(service)s account was successfully connected.",{args:{service:this.props.service.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})))}}]),t}(y.SharingService);C.propTypes=(0,i.default)({},y.SharingService.propTypes,{deleteStoredKeyringConnection:b.default.func}),C.defaultProps=(0,i.default)({},y.SharingService.defaultProps,{deleteStoredKeyringConnection:function(){}}),t.default=(0,y.connectFor)(C,function(e,t){return(0,i.default)({},t,{removableConnections:t.keyringConnections,fetchConnection:t.requestKeyringConnections,siteUserConnections:t.keyringConnections.map(function(e){return(0,i.default)({},e,{keyring_connection_ID:e.ID})})})},{deleteStoredKeyringConnection:_.deleteStoredKeyringConnection})},"./client/my-sites/sharing/controller.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.buttons=t.connections=t.layout=void 0;var o=n("./node_modules/react/react.js"),i=n("./node_modules/page/index.js"),a=s(i),r=n("./node_modules/i18n-calypso/index.js"),l=n("./client/notices/index.js"),u=s(l),c=n("./client/lib/analytics/index.js"),d=n("./client/lib/react-helpers/index.js"),p=n("./client/lib/route/index.js"),f=n("./client/my-sites/sharing/main.jsx"),h=s(f),m=n("./client/my-sites/sharing/buttons/buttons.jsx"),g=s(m),b=n("./client/my-sites/sharing/connections/connections.jsx"),v=s(b),_=n("./client/lib/sites-list/index.js"),y=s(_),C=n("./client/lib/site/utils.js"),j=s(C),E="Sharing";t.layout=function(e){var t=(0,y.default)().getSelectedSite(),n=e.contentComponent,s=e.path,i=e.store;t&&!t.settings&&j.default.userCan("manage_options",t)&&t.fetchSettings(),(0,d.renderWithReduxStore)((0,o.createElement)(h.default,{contentComponent:n,path:s}),document.getElementById("primary"),i)},t.connections=function(e,t){var n=(0,y.default)().getSelectedSite(),s=(0,p.sectionify)(e.path),i=n?s+"/:site":s;n&&!j.default.userCan("publish_posts",n)&&u.default.error((0,r.translate)("You are not authorized to manage sharing settings for this site.")),n&&n.jetpack&&!n.isModuleActive("publicize")?a.default.redirect(n.isModuleActive("sharedaddy")?"/sharing/buttons/"+y.default.selected:"/stats"):(c.pageView.record(i,E+" > Connections"),e.contentComponent=(0,o.createElement)(v.default)),t()},t.buttons=function(e,t){var n=(0,y.default)().getSelectedSite(),s=(0,p.sectionify)(e.path),i=n?s+"/:site":s;c.pageView.record(i,E+" > Sharing Buttons"),n&&!j.default.userCan("manage_options",n)&&u.default.error((0,r.translate)("You are not authorized to manage sharing settings for this site.")),n&&n.jetpack&&(!n.isModuleActive("sharedaddy")||n.versionCompare("3.4-dev","<"))&&u.default.error((0,r.translate)("This page is only available to Jetpack sites running version 3.4 or higher with the Sharing module activated.")),e.contentComponent=(0,o.createElement)(g.default),t()}},"./client/my-sites/sharing/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,i.default)(/^\/sharing(\/buttons)?$/,a.siteSelection,a.sites),(0,i.default)("/sharing/:domain",a.siteSelection,a.navigation,(0,a.jetpackModuleActive)("publicize",!1),r.connections,r.layout),(0,i.default)("/sharing/buttons/:domain",a.siteSelection,a.navigation,(0,a.jetpackModuleActive)("sharedaddy"),r.buttons,r.layout)};var o=n("./node_modules/page/index.js"),i=s(o),a=n("./client/my-sites/controller.js"),r=n("./client/my-sites/sharing/controller.js");e.exports=t.default},"./client/my-sites/sharing/main.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Sharing=void 0;var o=n("./node_modules/prop-types/index.js"),i=s(o),a=n("./node_modules/react/react.js"),r=s(a),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/lodash/lodash.js"),c=n("./node_modules/i18n-calypso/index.js"),d=n("./client/state/selectors/can-current-user.js"),p=s(d),f=n("./client/state/selectors/is-jetpack-module-active.js"),h=s(f),m=n("./client/components/data/document-head/index.jsx"),g=s(m),b=n("./client/state/sites/selectors.js"),v=n("./client/state/ui/selectors.js"),_=n("./client/components/main/index.jsx"),y=s(_),C=n("./client/components/section-nav/item.jsx"),j=s(C),E=n("./client/components/section-nav/tabs.jsx"),S=s(E),x=n("./client/components/data/query-jetpack-modules/index.jsx"),k=s(x),w=n("./client/components/section-nav/index.jsx"),I=s(w),N=n("./client/my-sites/sidebar-navigation/sidebar-navigation.jsx"),T=s(N),P=n("./client/my-sites/upgrade-nudge/index.jsx"),O=s(P),M=t.Sharing=function(e){var t=e.contentComponent,n=e.path,s=e.showButtons,o=e.showConnections,i=e.siteId,a=e.siteSlug,l=e.translate,c=a?"/"+a:"",d=[];o&&d.push({id:"sharing-connections",route:"/sharing"+c,title:l("Connections")}),s&&d.push({id:"sharing-buttons",route:"/sharing/buttons"+c,title:l("Sharing Buttons")});var p=(0,u.find)(d,{route:n});return r.default.createElement(y.default,{className:"sharing"},r.default.createElement(g.default,{title:l("Sharing")}),i&&r.default.createElement(k.default,{siteId:i}),r.default.createElement(T.default,null),d.length>0&&r.default.createElement(I.default,{selectedText:(0,u.get)(p,"title","")},r.default.createElement(S.default,null,d.map(function(e){var t=e.id,s=e.route,o=e.title;return r.default.createElement(j.default,{key:t,path:s,selected:n===s},o)}))),r.default.createElement(O.default,{event:"sharing_no_ads",feature:"no-adverts",message:l("Prevent ads from showing on your site."),title:l("No Ads with WordPress.com Premium")}),t)};M.propTypes={canManageOptions:i.default.bool,contentComponent:i.default.node,path:i.default.string,showButtons:i.default.bool,showConnections:i.default.bool,siteId:i.default.number,siteSlug:i.default.string,translate:i.default.func},t.default=(0,l.connect)(function(e){var t=(0,v.getSelectedSiteId)(e),n=(0,b.isJetpackSite)(e,t),s=(0,p.default)(e,t,"manage_options"),o=(0,h.default)(e,t,"sharedaddy")&&(0,b.isJetpackMinimumVersion)(e,t,"3.4-dev");return{showButtons:t&&s&&(!n||o),showConnections:!t||!n||(0,h.default)(e,t,"publicize"),siteId:t,siteSlug:(0,b.getSiteSlug)(e,t)}})((0,c.localize)(M))},"./client/my-sites/sidebar-navigation/sidebar-navigation.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/react/react.js"),i=s(o),a=n("./node_modules/react-redux/es/index.js"),r=n("./node_modules/i18n-calypso/index.js"),l=n("./client/components/sidebar-navigation/index.jsx"),u=s(l),c=n("./client/blocks/site-icon/index.jsx"),d=s(c),p=n("./client/state/ui/selectors.js"),f=function(e){var t=e.site,n=e.translate,s=n("All Sites"),o="all-sites";return t&&(s=t.title,o=null),i.default.createElement(u.default,{linkClassName:o,sectionName:"site",sectionTitle:s},t&&i.default.createElement(d.default,{site:t}))};t.default=(0,a.connect)(function(e){return{site:(0,p.getSelectedSite)(e)}})((0,r.localize)(f)),e.exports=t.default},"./client/my-sites/upgrade-nudge/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),i=s(o),a=n("./node_modules/babel-runtime/helpers/typeof.js"),r=s(a),l=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=s(l),c=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),d=s(c),p=n("./node_modules/babel-runtime/helpers/createClass.js"),f=s(p),h=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=s(h),g=n("./node_modules/babel-runtime/helpers/inherits.js"),b=s(g),v=n("./node_modules/react/react.js"),_=s(v),y=n("./node_modules/prop-types/index.js"),C=s(y),j=n("./node_modules/react-redux/es/index.js"),E=n("./node_modules/classnames/index.js"),S=s(E),x=n("./node_modules/lodash/lodash.js"),k=n("./node_modules/i18n-calypso/index.js"),w=n("./node_modules/gridicons/build/index.js"),I=s(w),N=n("./client/components/button/index.jsx"),T=s(N),P=n("./client/components/card/index.jsx"),O=s(P),M=n("./client/state/sites/plans/selectors.js"),R=n("./client/lib/plans/index.js"),D=n("./client/lib/products-values/index.js"),A=n("./client/lib/analytics/track-component-view/index.jsx"),B=s(A),L=n("./client/state/analytics/actions.js"),U=n("./client/state/ui/selectors.js"),z=function(e){function t(){var e,n,s,o;(0,d.default)(this,t);for(var i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=s=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),s.handleClick=function(){var e=s.props,t=e.event,n=e.feature,o=e.onClick,i=e.recordTracksEvent;(t||n)&&i("calypso_upgrade_nudge_cta_click",{cta_name:t,cta_feature:n,cta_size:"regular"}),o()},o=n,(0,m.default)(s,o)}return(0,b.default)(t,e),(0,f.default)(t,[{key:"shouldDisplay",value:function e(){var t=this.props,n=t.feature,s=t.jetpack,o=t.planHasFeature,e=t.shouldDisplay,i=t.site;
return e?e():!(!i||"object"!==("undefined"==typeof i?"undefined":(0,r.default)(i))||"boolean"!=typeof i.jetpack)&&((!n||!o)&&(!(!n&&!(0,D.isFreePlan)(i.plan))&&(("no-adverts"!==n||!i.options.wordads)&&!(!s&&i.jetpack||s&&!i.jetpack))))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.compact,s=e.event,o=e.feature,i=e.icon,a=e.message,r=e.site,l=e.title,u=e.translate,c=(0,S.default)(t,"upgrade-nudge"),d=this.props.href;return this.shouldDisplay()?(!d&&r&&(d=o?"/plans/"+r.slug+"?feature="+o:"/plans/"+r.slug),n?_.default.createElement(T.default,{className:c,onClick:this.handleClick,href:d},_.default.createElement(I.default,{className:"upgrade-nudge__icon",icon:i}),_.default.createElement("div",{className:"upgrade-nudge__info"},_.default.createElement("span",{className:"upgrade-nudge__title"},l||u("Upgrade to Premium")),_.default.createElement("span",{className:"upgrade-nudge__message"},a))):_.default.createElement(O.default,{compact:!0,className:c,onClick:this.handleClick,href:d},_.default.createElement(I.default,{className:"upgrade-nudge__icon",icon:i,size:18}),_.default.createElement("div",{className:"upgrade-nudge__info"},_.default.createElement("span",{className:"upgrade-nudge__title"},l||u("Upgrade to Premium")),_.default.createElement("span",{className:"upgrade-nudge__message"},a)),(s||o)&&_.default.createElement(B.default,{eventName:"calypso_upgrade_nudge_impression",eventProperties:{cta_name:s,cta_feature:o,cta_size:"regular"}}))):null}}]),t}(_.default.Component);z.propTypes={onClick:C.default.func,className:C.default.string,message:C.default.string,icon:C.default.string,event:C.default.string,href:C.default.string,jetpack:C.default.bool,compact:C.default.bool,feature:C.default.oneOf([!1].concat((0,i.default)((0,R.getValidFeatureKeys)()))),shouldDisplay:C.default.func,site:C.default.object,translate:C.default.func},z.defaultProps={onClick:x.noop,message:"And get your own domain address.",icon:"star",event:null,jetpack:!1,feature:!1,compact:!1,shouldDisplay:null,site:null,translate:x.identity},t.default=(0,j.connect)(function(e,t){var n=(0,U.getSelectedSiteId)(e);return{site:(0,U.getSelectedSite)(e),planHasFeature:(0,M.hasFeature)(e,n,t.feature)}},{recordTracksEvent:L.recordTracksEvent})((0,k.localize)(z)),e.exports=t.default},"./client/state/jetpack/modules/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return{type:l.JETPACK_MODULES_RECEIVE,siteId:e,modules:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchModuleList=t.deactivateModule=t.activateModule=void 0;var i=n("./node_modules/babel-runtime/helpers/extends.js"),a=s(i);t.receiveJetpackModules=o;var r=n("./node_modules/lodash/lodash.js"),l=n("./client/state/action-types.js"),u=n("./client/lib/wp/browser.js"),c=s(u);t.activateModule=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(s){return s({type:l.JETPACK_MODULE_ACTIVATE,siteId:e,moduleSlug:t,silent:n}),c.default.undocumented().jetpackModuleActivate(e,t).then(function(){s({type:l.JETPACK_MODULE_ACTIVATE_SUCCESS,siteId:e,moduleSlug:t,silent:n})}).catch(function(o){s({type:l.JETPACK_MODULE_ACTIVATE_FAILURE,siteId:e,moduleSlug:t,silent:n,error:o.message})})}},t.deactivateModule=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(s){return s({type:l.JETPACK_MODULE_DEACTIVATE,siteId:e,moduleSlug:t,silent:n}),c.default.undocumented().jetpackModuleDeactivate(e,t).then(function(){s({type:l.JETPACK_MODULE_DEACTIVATE_SUCCESS,siteId:e,moduleSlug:t,silent:n})}).catch(function(o){s({type:l.JETPACK_MODULE_DEACTIVATE_FAILURE,siteId:e,moduleSlug:t,silent:n,error:o.message})})}},t.fetchModuleList=function(e){return function(t){return t({type:l.JETPACK_MODULES_REQUEST,siteId:e}),c.default.undocumented().getJetpackModules(e).then(function(n){var s=n.data,i=(0,r.mapValues)(s,function(e){return(0,a.default)({active:e.activated},(0,r.omit)(e,"activated"))});t(o(e,i)),t({type:l.JETPACK_MODULES_REQUEST_SUCCESS,siteId:e})}).catch(function(n){t({type:l.JETPACK_MODULES_REQUEST_FAILURE,siteId:e,error:n.message})})}}},"./client/state/sharing/keyring/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(){return function(e){return e({type:d.KEYRING_CONNECTIONS_REQUEST}),c.default.undocumented().mekeyringConnections().then(function(t){var n=t.connections;e({type:d.KEYRING_CONNECTIONS_RECEIVE,connections:n}),e({type:d.KEYRING_CONNECTIONS_REQUEST_SUCCESS})}).catch(function(t){return e({type:d.KEYRING_CONNECTIONS_REQUEST_FAILURE,error:t})})}}function i(e){return{type:d.KEYRING_CONNECTION_DELETE,connection:e}}function a(e){return function(t){return c.default.undocumented().deletekeyringConnection(e.ID).then(function(){return t(i(e))}).catch(function(n){n&&404===n.statusCode&&t(i(e)),t({type:d.KEYRING_CONNECTION_DELETE_FAILURE,error:(0,l.default)({},n,{label:e.label})})})}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),l=s(r);t.requestKeyringConnections=o,t.deleteKeyringConnection=i,t.deleteStoredKeyringConnection=a;var u=n("./client/lib/wp/browser.js"),c=s(u),d=n("./client/state/action-types.js")},"./client/state/sharing/keyring/selectors.js":function(e,t,n){"use strict";function s(e){return(0,l.values)(e.sharing.keyring.items)}function o(e,t){return e.sharing.keyring.items[t]||null}function i(e,t){return(0,l.filter)(s(e),{service:t})}function a(e,t){return(0,l.filter)(e.sharing.keyring.items,function(e){return e.shared||e.keyring_connection_user_ID===t})}function r(e){return e.sharing.keyring.isFetching}Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyringConnections=s,t.getKeyringConnectionById=o,t.getKeyringConnectionsByName=i,t.getUserConnections=a,t.isKeyringConnectionsFetching=r;var l=n("./node_modules/lodash/lodash.js")},"./client/state/sharing/publicize/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return{type:y.PUBLICIZE_SHARE_DISMISS,siteId:e,postId:t}}function i(e,t,n,s){return function(o){return o({type:y.PUBLICIZE_SHARE,siteId:e,postId:t,skippedConnections:n,message:s}),new b.default(function(i){_.default.undocumented().publicizePost(e,t,s,n,function(n,s){o(n||!s.results?{type:y.PUBLICIZE_SHARE_FAILURE,siteId:e,postId:t,error:n}:{type:y.PUBLICIZE_SHARE_SUCCESS,siteId:e,postId:t}),i()})})}}function a(e){return function(t){return t({type:y.PUBLICIZE_CONNECTIONS_REQUEST,siteId:e}),_.default.undocumented().siteConnections(e).then(function(n){t(f(e,n)),t({type:y.PUBLICIZE_CONNECTIONS_REQUEST_SUCCESS,siteId:e})}).catch(function(n){return t({type:y.PUBLICIZE_CONNECTIONS_REQUEST_FAILURE,siteId:e,error:n})})}}function r(e,t){return function(n){return n({type:y.PUBLICIZE_CONNECTION_REQUEST,connectionId:t,siteId:e}),_.default.undocumented().site(e).getConnection(t).then(function(s){n({type:y.PUBLICIZE_CONNECTION_RECEIVE,connection:s,siteId:e}),n({type:y.PUBLICIZE_CONNECTION_REQUEST_SUCCESS,connectionId:t,siteId:e})}).catch(function(s){return n({type:y.PUBLICIZE_CONNECTION_REQUEST_FAILURE,connectionId:t,error:s,siteId:e})})}}function l(e,t,n){return function(s){return _.default.undocumented().createConnection(t,e,n,{shared:!1}).then(function(e){return s({type:y.PUBLICIZE_CONNECTION_CREATE,connection:e})}).catch(function(e){return s(d(e))})}}function u(e,t){return function(n){return _.default.undocumented().updateConnection(e.site_ID,e.ID,t).then(function(e){return n({type:y.PUBLICIZE_CONNECTION_UPDATE,connection:e})}).catch(function(t){return n({type:y.PUBLICIZE_CONNECTION_UPDATE_FAILURE,error:(0,m.default)({},t,{label:e.label})})})}}function c(e){return function(t){return _.default.undocumented().deleteSiteConnection(e.site_ID,e.ID).then(function(){return t(p(e))}).catch(function(n){n&&404===n.statusCode&&t(p(e)),t({type:y.PUBLICIZE_CONNECTION_DELETE_FAILURE,error:(0,m.default)({},n,{label:e.label})})})}}function d(e){return{type:y.PUBLICIZE_CONNECTION_CREATE_FAILURE,error:e}}function p(e){return{type:y.PUBLICIZE_CONNECTION_DELETE,connection:e}}function f(e,t){return{type:y.PUBLICIZE_CONNECTIONS_RECEIVE,siteId:e,data:t}}Object.defineProperty(t,"__esModule",{value:!0});var h=n("./node_modules/babel-runtime/helpers/extends.js"),m=s(h),g=n("./node_modules/babel-runtime/core-js/promise.js"),b=s(g);t.dismissShareConfirmation=o,t.sharePost=i,t.fetchConnections=a,t.fetchConnection=r,t.createSiteConnection=l,t.updateSiteConnection=u,t.deleteSiteConnection=c,t.failCreateConnection=d,t.deleteConnection=p,t.receiveConnections=f;var v=n("./client/lib/wp/browser.js"),_=s(v),y=n("./client/state/action-types.js")},"./client/state/sharing/selectors.js":function(e,t,n){"use strict";function s(e,t){var n=function(n,s){var r=(0,l.getSiteUserConnectionsForService)(e,(0,a.getSelectedSiteId)(e),(0,i.getCurrentUserId)(e),t);return(0,o.some)(r,{keyring_connection_ID:n,external_ID:s})};return(0,r.getKeyringConnectionsByName)(e,t).reduce(function(e,t){return e.concat([{name:t.external_display||t.external_name,picture:t.external_profile_picture,keyringConnectionId:t.ID,isConnected:n(t.ID,t.external_ID)}]).concat(t.additional_external_users.map(function(e){return{ID:e.external_ID,name:e.external_name,picture:e.external_profile_picture,keyringConnectionId:t.ID,isConnected:n(t.ID,e.external_ID),isExternal:!0}}))},[])}Object.defineProperty(t,"__esModule",{value:!0}),t.getAvailableExternalAccounts=s;var o=n("./node_modules/lodash/lodash.js"),i=n("./client/state/current-user/selectors.js"),a=n("./client/state/ui/selectors.js"),r=n("./client/state/sharing/keyring/selectors.js"),l=n("./client/state/sharing/publicize/selectors.js")},"./client/state/sharing/services/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(){return function(e){return e({type:r.KEYRING_SERVICES_REQUEST}),a.default.undocumented().metaKeyring().then(function(t){e({type:r.KEYRING_SERVICES_RECEIVE,services:t.services}),e({type:r.KEYRING_SERVICES_REQUEST_SUCCESS})}).catch(function(t){return e({type:r.KEYRING_SERVICES_REQUEST_FAILURE,error:t})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.requestKeyringServices=o;var i=n("./client/lib/wp/browser.js"),a=s(i),r=n("./client/state/action-types.js")},"./client/state/sharing/services/selectors.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.sharing.services.items}function i(e,t){return(0,u.filter)(o(e),{type:t})}function a(e,t){var n=o(e);return!!n[t]&&n[t]}function r(e,t,n){var s=i(e,n);return t?s.filter(function(n){return!((0,p.isJetpackSite)(e,t)&&!n.jetpack_support)&&(!((0,p.isJetpackSite)(e,t)&&n.jetpack_module_required&&!(0,p.isJetpackModuleActive)(e,t,n.jetpack_module_required))&&(!("eventbrite"===n.ID&&!(0,d.default)(e,t,"manage_options"))&&!("publicize"===n.type&&!(0,d.default)(e,t,"publish_posts"))))}):s}function l(e){return e.sharing.services.isFetching}Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyringServices=o,t.getKeyringServicesByType=i,t.getKeyringServiceByName=a,t.getEligibleKeyringServices=r,t.isKeyringServicesFetching=l;var u=n("./node_modules/lodash/lodash.js"),c=n("./client/state/selectors/can-current-user.js"),d=s(c),p=n("./client/state/sites/selectors.js")},"./client/state/site-settings/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return{type:p.SITE_SETTINGS_RECEIVE,siteId:e,settings:t}}function i(e,t){return{type:p.SITE_SETTINGS_UPDATE,siteId:e,settings:t}}function a(e){return function(t){return t({type:p.SITE_SETTINGS_REQUEST,siteId:e}),d.default.undocumented().settings(e).then(function(n){var s=n.name,i=n.description,a=n.settings,r=(0,u.default)({},(0,f.normalizeSettings)(a),{blogname:s,blogdescription:i});t(o(e,r)),t({type:p.SITE_SETTINGS_REQUEST_SUCCESS,siteId:e})}).catch(function(n){t({type:p.SITE_SETTINGS_REQUEST_FAILURE,siteId:e,error:n})})}}function r(e,t){return function(n){return n({type:p.SITE_SETTINGS_SAVE,siteId:e}),d.default.undocumented().settings(e,"post",t).then(function(t){var s=t.updated;n(i(e,(0,f.normalizeSettings)(s))),n({type:p.SITE_SETTINGS_SAVE_SUCCESS,siteId:e})}).catch(function(t){n({type:p.SITE_SETTINGS_SAVE_FAILURE,siteId:e,error:t})})}}Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/babel-runtime/helpers/extends.js"),u=s(l);t.receiveSiteSettings=o,t.updateSiteSettings=i,t.requestSiteSettings=a,t.saveSiteSettings=r;var c=n("./client/lib/wp/browser.js"),d=s(c),p=n("./client/state/action-types.js"),f=n("./client/state/site-settings/utils.js")},"./client/state/site-settings/utils.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(e).reduce(function(t,n){switch(n){case"default_category":t[n]=parseInt(e[n]);break;default:t[n]=e[n]}return t},{})}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/babel-runtime/core-js/object/keys.js"),a=s(i);t.normalizeSettings=o},"./client/state/sites/sharing-buttons/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return{type:c.SHARING_BUTTONS_RECEIVE,siteId:e,settings:t}}function i(e,t){return{type:c.SHARING_BUTTONS_UPDATE,siteId:e,settings:t}}function a(e){return function(t){return t({type:c.SHARING_BUTTONS_REQUEST,siteId:e}),u.default.undocumented().sharingButtons(e).then(function(n){var s=n.sharing_buttons;t(o(e,s)),t({type:c.SHARING_BUTTONS_REQUEST_SUCCESS,siteId:e})}).catch(function(n){t({type:c.SHARING_BUTTONS_REQUEST_FAILURE,siteId:e,error:n})})}}function r(e,t){return function(n){return n({type:c.SHARING_BUTTONS_SAVE,siteId:e}),n(i(e,t)),u.default.undocumented().saveSharingButtons(e,t).then(function(t){var s=t.updated;n(i(e,s)),n({type:c.SHARING_BUTTONS_SAVE_SUCCESS,siteId:e})}).catch(function(t){n({type:c.SHARING_BUTTONS_SAVE_FAILURE,siteId:e,error:t})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveSharingButtons=o,t.updateSharingButtons=i,t.requestSharingButtons=a,t.saveSharingButtons=r;var l=n("./client/lib/wp/browser.js"),u=s(l),c=n("./client/state/action-types.js")}});