webpackJsonp(["posts-custom"],{"./client/blocks/calendar-button/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/assign.js"),r=n(l),i=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/createClass.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=n(m),_=s("./node_modules/babel-runtime/helpers/inherits.js"),b=n(_),v=s("./node_modules/prop-types/index.js"),g=n(v),y=s("./node_modules/react/react.js"),j=n(y),E=s("./node_modules/gridicons/build/index.js"),x=n(E),P=s("./node_modules/classnames/index.js"),C=n(P),S=s("./node_modules/lodash/lodash.js"),I=s("./client/components/button/index.jsx"),k=n(I),w=s("./client/components/async-load/index.jsx"),N=n(w),T=function(e){s.e("async-load-blocks-calendar-popover").then(function(t){e(s("./client/blocks/calendar-popover/index.jsx").__esModule?s("./client/blocks/calendar-popover/index.jsx").default:s("./client/blocks/calendar-popover/index.jsx"))}.bind(null,s)).catch(s.oe)},D=function(e){function t(){var e,s,n,o;(0,c.default)(this,t);for(var a=arguments.length,l=Array(a),r=0;r<a;r++)l[r]=arguments[r];return s=n=(0,h.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.state={showPopover:!1},n.setDate=function(e){n.setState({date:e}),n.props.onDateChange(e)},n.closePopover=function(){n.setState({showPopover:!1}),n.props.onClose()},n.togglePopover=function(){return n.props.disabled?null:n.setState({showPopover:!n.state.showPopover})},n.setPopoverReference=function(e){return n.reference=e},o=s,(0,h.default)(n,o)}return(0,b.default)(t,e),(0,f.default)(t,[{key:"renderCalendarPopover",value:function(){var e=this.state.showPopover;if(!e)return null;var t=(0,r.default)({},(0,S.pick)(this.props,["autoPosition","closeOnEsc","disabledDays","events","enableOutsideDays","ignoreContext","isVisible","modifiers","rootClassName","selectedDay","showDelay","siteId","onDateChange","onMonthChange","onDayMouseEnter","onDayMouseLeave","onShow","onClose"]));return j.default.createElement(N.default,(0,a.default)({},t,{require:T,context:this.reference,isVisible:e,position:this.props.popoverPosition,onClose:this.closePopover}))}},{key:"renderCalendarContent",value:function(){return this.props.children?this.props.children:j.default.createElement(x.default,{icon:this.props.icon})}},{key:"render",value:function(){var e=(0,r.default)({},(0,S.pick)(this.props,["compact","disabled","primary","scary","busy","href","borderless","target","rel"]));return j.default.createElement(k.default,(0,a.default)({},e,{className:(0,C.default)("calendar-button",this.props.className),ref:this.setPopoverReference,onClick:this.togglePopover}),this.renderCalendarContent(),this.renderCalendarPopover())}}]),t}(y.Component);D.propTypes={icon:g.default.string,popoverPosition:g.default.string,type:g.default.string,autoPosition:g.default.bool,closeOnEsc:g.default.bool,disabledDays:g.default.array,events:g.default.array,ignoreContext:g.default.shape({getDOMNode:g.default.function}),isVisible:g.default.bool,rootClassName:g.default.string,selectedDay:g.default.object,showDelay:g.default.number,siteId:g.default.number,onClose:g.default.func,onDateChange:g.default.func,onDayMouseEnter:g.default.func,onDayMouseLeave:g.default.func,onMonthChange:g.default.func,onShow:g.default.func},D.defaultProps={icon:"calendar",type:"button",popoverPosition:"bottom",onDateChange:S.noop,onDayMouseEnter:S.noop,onDayMouseLeave:S.noop,onClose:S.noop},t.default=D,e.exports=t.default},"./client/blocks/post-item/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/classnames/index.js"),g=n(v),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/i18n-calypso/index.js"),E=s("./client/lib/abtest/index.js"),x=s("./client/config/index.js"),P=s("./client/state/ui/editor/selectors.js"),C=s("./client/state/ui/selectors.js"),S=s("./client/state/posts/selectors.js"),I=s("./client/state/sites/selectors.js"),k=s("./client/state/selectors/are-all-sites-single-user.js"),w=n(k),N=s("./client/state/selectors/can-current-user-edit-post.js"),T=n(N),D=s("./client/state/ui/post-type-list/selectors.js"),M=s("./client/state/ui/post-type-list/actions.js"),O=s("./client/components/external-link/index.jsx"),A=n(O),R=s("./client/components/forms/form-checkbox/index.jsx"),U=n(R),L=s("./client/blocks/post-time/index.jsx"),q=n(L),z=s("./client/blocks/post-status/index.jsx"),F=n(z),V=s("./client/blocks/post-share/index.jsx"),B=n(V),H=s("./client/my-sites/post-type-list/post-thumbnail.jsx"),W=n(H),G=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/index.jsx"),Z=n(G),K=s("./client/my-sites/post-type-list/post-type-site-info/index.jsx"),Q=n(K),Y=s("./client/my-sites/post-type-list/post-type-post-author/index.jsx"),J=n(Y),X=function(e){function t(){var e,s,n,o;(0,r.default)(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),n.hideCurrentSharePanel=function(){n.props.hideSharePanel(n.props.globalId)},n.toggleCurrentPostSelection=function(e){n.props.togglePostSelection(n.props.globalId),e.stopPropagation()},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"inAllSitesModeWithMultipleUsers",value:function(){return this.props.isAllSitesModeSelected&&!this.props.allSitesSingleUser&&!this.props.singleUserQuery}},{key:"inSingleSiteModeWithMultipleUsers",value:function(){return!this.props.isAllSitesModeSelected&&!this.props.singleUserSite&&!this.props.singleUserQuery}},{key:"hasMultipleUsers",value:function(){return this.inAllSitesModeWithMultipleUsers()||this.inSingleSiteModeWithMultipleUsers()}},{key:"renderSelectionCheckbox",value:function(){var e=this.props,t=e.multiSelectEnabled,s=e.isCurrentPostSelected;return t&&h.default.createElement("div",{className:"post-item__select",onClick:this.toggleCurrentPostSelection},h.default.createElement(U.default,{checked:s,onClick:this.toggleCurrentPostSelection}))}},{key:"renderExpandedContent",value:function(){var e=this.props,t=e.post,s=e.isCurrentSharePanelOpen;return t&&s?h.default.createElement(B.default,{post:t,siteId:t.site_ID,showClose:!0,onClose:this.hideCurrentSharePanel}):null}},{key:"render",value:function(){var e=this.props,t=e.className,s=e.post,n=e.externalPostLink,o=e.postUrl,a=e.globalId,l=e.isAllSitesModeSelected,r=e.translate,i=s?s.title:null,u=!a,d=(0,g.default)("post-item__panel",t,{"is-untitled":!i,"is-placeholder":u}),c=(0,x.isEnabled)("posts/post-type-list")&&"condensedPosts"===(0,E.abtest)("condensedPostList"),p=c&&l,f=c&&this.hasMultipleUsers()&&s&&s.author,m=this.renderExpandedContent(),_=(0,g.default)("post-item",{"is-expanded":!!m});return h.default.createElement("div",{className:_,ref:this.setDomNode},h.default.createElement("div",{className:d},this.renderSelectionCheckbox(),h.default.createElement("div",{className:"post-item__detail"},h.default.createElement("div",{className:"post-item__info"},p&&h.default.createElement(Q.default,{globalId:a}),f&&h.default.createElement(J.default,{globalId:a})),h.default.createElement("h1",{className:"post-item__title"},!n&&h.default.createElement("a",{href:u?null:o,className:"post-item__title-link"},i||r("Untitled")),!u&&n&&h.default.createElement(A.default,{icon:!0,href:o,target:"_blank",className:"post-item__title-link"},i||r("Untitled"))),h.default.createElement("div",{className:"post-item__meta"},h.default.createElement(q.default,{globalId:a}),h.default.createElement(F.default,{globalId:a}))),h.default.createElement(W.default,{globalId:a}),h.default.createElement(Z.default,{globalId:a})),m)}}]),t}(h.default.Component);X.propTypes={translate:b.default.func,globalId:b.default.string,post:b.default.object,canEdit:b.default.bool,postUrl:b.default.string,isAllSitesModeSelected:b.default.bool,allSitesSingleUser:b.default.bool,singleUserSite:b.default.bool,singleUserQuery:b.default.bool,className:b.default.string,compact:b.default.bool,isCurrentSharePanelOpen:b.default.bool,hideSharePanel:b.default.func},t.default=(0,y.connect)(function(e,t){var s=t.globalId,n=(0,S.getNormalizedPost)(e,s);if(!n)return{};var o=n.site_ID,a=!1===(0,T.default)(e,s),l=a?n.URL:(0,P.getEditorPath)(e,o,n.ID);return{post:n,externalPostLink:a,postUrl:l,isAllSitesModeSelected:null===(0,C.getSelectedSiteId)(e),allSitesSingleUser:(0,w.default)(e),singleUserSite:(0,I.isSingleUserSite)(e,o),isCurrentSharePanelOpen:(0,D.isSharePanelOpen)(e,s),isCurrentPostSelected:(0,D.isPostSelected)(e,s),multiSelectEnabled:(0,D.isMultiSelectEnabled)(e)}},{hideSharePanel:M.hideSharePanel,togglePostSelection:M.togglePostSelection})((0,j.localize)(X)),e.exports=t.default},"./client/blocks/post-share/connection.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/defineProperty.js"),a=n(o),l=s("./node_modules/react/react.js"),r=n(l),i=s("./client/lib/css-safe-url/index.js"),u=n(i),d=s("./client/components/forms/form-toggle/compact.jsx"),c=n(d),p=s("./node_modules/classnames/index.js"),f=n(p),m=s("./node_modules/social-logos/build/index.js"),h=n(m),_=function(e){var t,s=e.connection,n=e.isActive,o=e.onToggle,l=s.external_display,i=s.external_profile_picture,d=s.keyring_connection_ID,p=s.service,m=function(){return o(d)},_=(0,f.default)((t={"post-share__service":!0},(0,a.default)(t,p,!0),(0,a.default)(t,"is-active",n),(0,a.default)(t,"is-broken","broken"===status),t)),b={};return i?b.backgroundImage="url( "+(0,u.default)(i)+" )":b.backgroundColor="rgb( 168, 190, 206 )",r.default.createElement("div",{onClick:m,className:_},r.default.createElement("div",{className:"post-share__service-account-image",style:b}," "),r.default.createElement("div",{className:"post-share__service-account-social-logo"},r.default.createElement(h.default,{icon:"google_plus"===p?"google-plus":p})),r.default.createElement("div",{className:"post-share__service-account-name"},r.default.createElement("span",null,l)),r.default.createElement(c.default,{checked:n}))};t.default=_,e.exports=t.default},"./client/blocks/post-share/connections-list.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NoConnectionsNotice=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),_=s("./node_modules/react/react.js"),b=n(_),v=s("./node_modules/i18n-calypso/index.js"),g=s("./client/blocks/post-share/connection.jsx"),y=n(g),j=s("./client/components/notice/index.jsx"),E=n(j),x=s("./client/components/notice/notice-action.jsx"),P=n(x),C=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"renderEmptyPlaceholder",value:function(){return b.default.createElement("div",{className:"post-share__main"},b.default.createElement("div",{className:"post-share__form is-placeholder"}),b.default.createElement("div",{className:"post-share__services is-placeholder"}))}},{key:"render",value:function(){var e=this.props,t=e.connections,s=e.onToggle,n=e.siteId;return n&&t.length?this.props.hasFetchedConnections?b.default.createElement("div",{className:"post-share__connections"},t.map(function(e){return b.default.createElement(y.default,{connection:e,onToggle:s,isActive:e.isActive,key:e.keyring_connection_ID})})):this.renderEmptyPlaceholder():null}}]),t}(_.PureComponent);C.propTypes={connections:h.default.array,onToggle:h.default.func,siteId:h.default.number,siteSlug:h.default.string,moment:h.default.func,numberFormat:h.default.func,translater:h.default.func},C.defaultProps={connections:[]};t.NoConnectionsNotice=function(e){var t=e.siteSlug,s=e.translate;return b.default.createElement(E.default,{status:"is-warning",showDismiss:!1,text:s("Connect an account to get started.")},b.default.createElement(P.default,{href:"/sharing/"+t},s("Settings")))};t.default=(0,v.localize)(C)},"./client/blocks/post-share/constants.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SCHEDULED="scheduled",t.PUBLISHED="published"},"./client/blocks/post-share/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/react/react.js"),g=n(v),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/classnames/index.js"),E=n(j),x=s("./node_modules/lodash/lodash.js"),P=s("./node_modules/i18n-calypso/index.js"),C=s("./client/config/index.js"),S=s("./node_modules/gridicons/build/index.js"),I=n(S),k=s("./node_modules/page/index.js"),w=s("./client/components/data/query-post-types/index.jsx"),N=n(w),T=s("./client/components/data/query-posts/index.jsx"),D=n(T),M=s("./client/components/data/query-publicize-connections/index.jsx"),O=n(M),A=s("./client/components/data/query-site-plans/index.jsx"),R=n(A),U=s("./client/components/button/index.jsx"),L=n(U),q=s("./client/components/button-group/index.jsx"),z=n(q),F=s("./client/components/notice/notice-action.jsx"),V=n(F),B=s("./client/state/selectors/get-post-share-scheduled-actions.js"),H=n(B),W=s("./client/state/selectors/get-post-share-published-actions.js"),G=n(W),Z=s("./client/state/selectors/is-publicize-enabled.js"),K=n(Z),Q=s("./client/state/selectors/is-scheduling-publicize-share-action.js"),Y=n(Q),J=s("./client/state/selectors/get-scheduled-publicize-share-action-time.js"),X=n(J),$=s("./client/state/selectors/is-scheduling-publicize-share-action-error.js"),ee=n($),te=s("./client/state/sites/selectors.js"),se=s("./client/state/current-user/selectors.js"),ne=s("./client/state/sharing/publicize/selectors.js"),oe=s("./client/state/sharing/publicize/actions.js"),ae=s("./client/state/sharing/publicize/publicize-actions/actions.js"),le=s("./client/lib/post-metadata/index.js"),re=n(le),ie=s("./client/post-editor/editor-sharing/publicize-message.jsx"),ue=n(ie),de=s("./client/components/notice/index.jsx"),ce=n(de),pe=s("./client/state/sites/plans/selectors.js"),fe=s("./client/lib/plans/constants.js"),me=s("./client/blocks/post-share/nudges.jsx"),he=s("./client/blocks/post-share/sharing-preview-modal.jsx"),_e=n(he),be=s("./client/blocks/post-share/connections-list.jsx"),ve=n(be),ge=s("./client/blocks/post-share/publicize-actions-list.jsx"),ye=n(ge),je=s("./client/blocks/calendar-button/index.jsx"),Ee=n(je),xe=s("./client/components/date-picker/events-tooltip.jsx"),Pe=n(xe),Ce=s("./client/components/section-header/index.jsx"),Se=n(Ce),Ie=s("./client/components/tooltip/index.jsx"),ke=n(Ie),we=s("./client/lib/analytics/index.js"),Ne=n(we),Te=s("./client/lib/analytics/track-component-view/index.jsx"),De=n(Te),Me=s("./client/lib/route/path.js"),Oe=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var l=arguments.length,i=Array(l),d=0;d<l;d++)i[d]=arguments[d];return s=n=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.state={message:re.default.publicizeMessage(n.props.post)||"",skipped:re.default.publicizeSkipped(n.props.post)||[],showSharingPreview:!1,showAccountTooltip:!1,scheduledDate:null,showTooltip:!1,tooltipContext:null,eventsByDay:[]},n.toggleConnection=function(e){var t=n.state.skipped.slice(),s=t.indexOf(e);s!==-1?t.splice(s,1):t.push(e),n.setState({skipped:t})},n.scheduleDate=function(e){e.isBefore(Date.now())&&(e=null),n.setState({scheduledDate:e})},n.isConnectionActive=function(e){return"broken"!==e.status&&n.skipConnection(e)},n.toggleSharingPreview=function(){var e=!n.state.showSharingPreview;e?document.documentElement.classList.add("no-scroll","is-previewing"):document.documentElement.classList.remove("no-scroll","is-previewing"),Ne.default.tracks.recordEvent("calypso_publicize_share_preview_toggle",{show:e}),n.setState({showSharingPreview:e})},n.setMessage=function(e){return n.setState({message:e})},n.dismiss=function(){n.props.dismissShareConfirmation(n.props.siteId,n.props.postId)},n.sharePost=function(){var e=n.props,t=e.postId,s=e.siteId,o=e.connections,l=o.filter(function(e){return n.state.skipped.indexOf(e.keyring_connection_ID)===-1}),r=l.reduce(function(e,t){return e.service_all=e.service_all+1,e["service_"+t.service]||(e["service_"+t.service]=0),e["service_"+t.service]=e["service_"+t.service]+1,e},{service_all:0}),i={context_path:(0,Me.sectionify)(k.current)},u=(0,a.default)({},r,i);n.state.scheduledDate?(Ne.default.tracks.recordEvent("calypso_publicize_share_schedule",u),n.props.schedulePostShareAction(s,t,n.state.message,n.state.scheduledDate.format("X"),l.map(function(e){return e.ID}))):(Ne.default.tracks.recordEvent("calypso_publicize_share_instantly",u),n.props.sharePost(s,t,n.state.skipped,n.state.message))},n.previewSharingPost=function(){},n.showCalendarTooltip=function(e,t,s,o){n.setState({eventsByDay:o,context:s.target,showTooltip:!0})},n.hideEventsTooltip=function(){n.setState({eventsByDay:[],context:null,showTooltip:!1})},n.showAddTooltip=function(){return n.setState({showAccountTooltip:!0})},n.hideAddTooltip=function(){return n.setState({showAccountTooltip:!1})},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"hasConnections",value:function(){return!!(0,x.get)(this.props,"connections.length")}},{key:"skipConnection",value:function(e){var t=e.keyring_connection_ID;return this.state.skipped.indexOf(t)===-1}},{key:"activeConnections",value:function(){return this.props.connections.filter(this.isConnectionActive)}},{key:"isDisabled",value:function(){if(this.props.disabled||this.props.requesting||this.activeConnections().length<1)return!0}},{key:"renderMessage",value:function(){if(this.hasConnections()){var e=this.hasConnections()?this.props.connections.filter(this.isConnectionActive):[],t=(0,x.includes)((0,x.map)(e,"service"),"twitter"),s=t?94:null;return g.default.createElement(ue.default,{disabled:this.isDisabled(),message:this.state.message,requireCount:t,onChange:this.setMessage,acceptableLength:s})}}},{key:"renderSharingButtons",value:function(){var e=this.props,t=e.siteId,s=e.translate,n=e.publishedActions,o=e.scheduledActions,a=g.default.createElement(L.default,{className:"post-share__share-button",busy:this.props.requesting,primary:!0,onClick:this.sharePost,disabled:this.isDisabled()},s(this.state.scheduledDate?"Schedule post":"Share post")),l=(0,C.isEnabled)("publicize-preview")&&g.default.createElement(L.default,{disabled:this.isDisabled(),className:"post-share__preview-button",onClick:this.toggleSharingPreview},s("Preview")),r=(0,x.map)((0,x.concat)(n,o),function(e){var t=e.ID,s=e.message,n=e.date,o=e.service;return{id:t,type:"published-action",title:s,date:n,socialIcon:"google_plus"===o?"google-plus":o}}),i=this.state.eventsByDay,u=this.props.translate("%d share","%d shares",{count:i.length,args:i.length}),d=8,c=i.length-d,p=this.props.translate("… and %d more share","… and %d more shares",{count:c,args:c});return g.default.createElement("div",{className:"post-share__button-actions"},l,g.default.createElement(z.default,{className:"post-share__share-combo",primary:!0,busy:this.props.requesting,disabled:this.isDisabled()},a,g.default.createElement(Ee.default,{primary:!0,events:r,className:"post-share__schedule-button",disabled:this.isDisabled(),disabledDays:[{before:new Date}],enableOutsideDays:!1,title:s("Set date and time"),selectedDay:this.state.scheduledDate,tabIndex:3,siteId:t,onDateChange:this.scheduleDate,onDayMouseEnter:this.showCalendarTooltip,onDayMouseLeave:this.hideEventsTooltip,onClose:this.hideEventsTooltip,popoverPosition:"bottom left"})),g.default.createElement(Pe.default,{events:i,context:this.state.context,isVisible:this.state.showTooltip,title:u,moreEventsLabel:p,maxEvents:d}))}},{key:"renderConnectionsWarning",value:function(){var e=this.props,t=e.connections,s=e.hasFetchedConnections,n=e.siteSlug,o=e.translate;if(!s||!t.length)return null;var a=t.filter(function(e){return"broken"===e.status});return a.length?g.default.createElement("div",null,a.map(function(e){return g.default.createElement(ce.default,{key:e.keyring_connection_ID,status:"is-warning",showDismiss:!1,text:o("There is an issue connecting to %s.",{args:e.label})},g.default.createElement(V.default,{href:"/sharing/"+n},o("Reconnect")))})):null}},{key:"renderRequestSharingNotice",value:function(){var e=this.props,t=e.failure,s=e.requesting,n=e.success,o=e.translate;return this.props.scheduling?g.default.createElement(ce.default,{status:"is-warning",showDismiss:!1},o("We are writing your shares to the calendar…")):this.props.scheduledAt?g.default.createElement(ce.default,{status:"is-success",onDismissClick:this.dismiss},o("We'll share your post on %s.",{args:this.props.scheduledAt.format("ddd, MMMM Do YYYY, h:mm:ss a")})):this.props.schedulingFailed?g.default.createElement(ce.default,{status:"is-error",onDismissClick:this.dismiss},o("Scheduling share failed. Please don't be mad.")):s?g.default.createElement(ce.default,{status:"is-warning",showDismiss:!1},o("Sharing…")):n?g.default.createElement(ce.default,{status:"is-success",onDismissClick:this.dismiss},o("Post shared. Please check your social media accounts.")):t?g.default.createElement(ce.default,{status:"is-error",onDismissClick:this.dismiss},o("Something went wrong. Please don't be mad.")):void 0}},{key:"renderConnectionsSection",value:function(){var e=this,t=this.props,s=t.hasFetchedConnections,n=t.siteId,o=t.siteSlug,l=t.translate,r=(0,x.map)(this.props.connections,function(t){return(0,a.default)({},t,{isActive:e.isConnectionActive(t)})});return g.default.createElement("div",{className:"post-share__services"},g.default.createElement(Se.default,{className:"post-share__services-header",label:l("Connected accounts")},g.default.createElement(L.default,{compact:!0,href:"/sharing/"+n,className:"post-share__add-button",onMouseEnter:this.showAddTooltip,onMouseLeave:this.hideAddTooltip,ref:"addAccountButton","aria-label":l("Add account")},g.default.createElement(I.default,{icon:"plus-small",size:18}),g.default.createElement(I.default,{icon:"user",size:18}),g.default.createElement(ke.default,{isVisible:this.state.showAccountTooltip,context:this.refs&&this.refs.addAccountButton,position:"bottom"},l("Add account")))),g.default.createElement(ve.default,(0,a.default)({connections:r,hasFetchedConnections:s,siteId:n,siteSlug:o},{onToggle:this.toggleConnection})))}},{key:"renderPrimarySection",value:function(){var e=this.props,t=e.hasFetchedConnections,s=e.hasRepublicizeFeature,n=e.siteSlug,o=e.translate;return t?this.hasConnections()?s?g.default.createElement("div",null,g.default.createElement("div",{className:"post-share__main"},g.default.createElement("div",{className:"post-share__form"},this.renderMessage(),this.renderSharingButtons()),this.renderConnectionsSection()),g.default.createElement(ye.default,this.props)):g.default.createElement("div",null,g.default.createElement(me.UpgradeToPremiumNudge,this.props),g.default.createElement(ye.default,this.props)):g.default.createElement(be.NoConnectionsNotice,{siteSlug:n,translate:o}):null}},{key:"render",value:function(){if(!this.props.isPublicizeEnabled)return null;var e=this.props,t=e.hasRepublicizeFeature,s=e.hasFetchedConnections,n=e.isRequestingSitePlans,o=e.postId,a=e.siteId,l=e.siteSlug,r=e.translate,i=e.showClose,u=e.onClose;if(!a||!o)return null;var d=(0,E.default)("post-share__wrapper",{"is-placeholder":!s||n,"has-connections":this.hasConnections(),"has-republicize-scheduling-feature":t});return g.default.createElement("div",{className:"post-share"},g.default.createElement(De.default,{eventName:"calypso_publicize_post_share_view"}),g.default.createElement(N.default,{siteId:a}),g.default.createElement(O.default,{siteId:a}),g.default.createElement(R.default,{siteId:a}),g.default.createElement("div",{className:d},g.default.createElement("div",{className:"post-share__head"},g.default.createElement("h4",{className:"post-share__title"},g.default.createElement("span",null,r("Share this post")),i&&g.default.createElement(L.default,{borderless:!0,"aria-label":r("Close post sharing"),className:"post-share__close","data-tip-target":"post-share__close",onClick:u},g.default.createElement(I.default,{icon:"cross"}))),g.default.createElement("div",{className:"post-share__subtitle"},r("Share your post on all of your connected social media accounts using {{a}}Publicize{{/a}}.",{components:{a:g.default.createElement("a",{href:"/sharing/"+l})}}))),!s&&g.default.createElement("div",{className:"post-share__placeholder"}),this.renderRequestSharingNotice(),this.renderConnectionsWarning(),this.renderPrimarySection()),g.default.createElement(D.default,{siteId:a,postId:o}),g.default.createElement(_e.default,{siteId:a,postId:o,message:this.state.message,isVisible:this.state.showSharingPreview,onClose:this.toggleSharingPreview}))}}]),t}(v.Component);Oe.propTypes={post:b.default.object,siteId:b.default.number,disabled:b.default.bool,showClose:b.default.bool,onClose:b.default.func,connections:b.default.array,failed:b.default.bool,hasFetchedConnections:b.default.bool,hasRepublicizeFeature:b.default.bool,isPublicizeEnabled:b.default.bool,planSlug:b.default.string,postId:b.default.number,requestConnections:b.default.func,requesting:b.default.bool,siteSlug:b.default.string,success:b.default.bool,userCurrency:b.default.string},Oe.defaultProps={connections:[],disabled:!1,post:{}};var Ae=function(e,t,s){return(0,pe.getPlanDiscountedRawPrice)(e,t,s,{isMonthly:!0})||(0,pe.getSitePlanRawPrice)(e,t,s,{isMonthly:!0})};t.default=(0,y.connect)(function(e,t){var s=t.siteId,n=(0,x.get)(t,"post.ID"),o=(0,x.get)(t,"post.type"),a=(0,se.getCurrentUserId)(e),l=(0,te.getSitePlanSlug)(e,s);return{siteId:s,postId:n,planSlug:l,isJetpack:(0,te.isJetpackSite)(e,s),hasFetchedConnections:(0,ne.hasFetchedConnections)(e,s),isRequestingSitePlans:(0,pe.isRequestingSitePlans)(e,s),hasRepublicizeFeature:(0,pe.hasFeature)(e,s,fe.FEATURE_REPUBLICIZE),siteSlug:(0,te.getSiteSlug)(e,s),isPublicizeEnabled:(0,K.default)(e,s,o),scheduling:(0,Y.default)(e,s,n),connections:(0,ne.getSiteUserConnections)(e,s,a),requesting:(0,ne.isRequestingSharePost)(e,s,n),schedulingFailed:(0,ee.default)(e,s,n),failed:(0,ne.sharePostFailure)(e,s,n),success:(0,ne.sharePostSuccessMessage)(e,s,n),scheduledAt:(0,X.default)(e,s,n),premiumPrice:Ae(e,s,fe.PLAN_PREMIUM),jetpackPremiumPrice:Ae(e,s,fe.PLAN_JETPACK_PREMIUM),userCurrency:(0,se.getCurrentUserCurrencyCode)(e),scheduledActions:(0,H.default)(e,s,n),publishedActions:(0,G.default)(e,s,n)}},{requestConnections:oe.fetchConnections,sharePost:oe.sharePost,dismissShareConfirmation:oe.dismissShareConfirmation,schedulePostShareAction:ae.schedulePostShareAction})((0,P.localize)(Oe)),e.exports=t.default},"./client/blocks/post-share/nudges.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UpgradeToPremiumNudge=void 0;var o=s("./node_modules/react/react.js"),a=n(o),l=s("./client/components/banner/index.jsx"),r=n(l),i=s("./client/lib/plans/constants.js"),u=s("./client/lib/format-currency/index.js"),d=n(u);t.UpgradeToPremiumNudge=function(e){var t=e.premiumPrice,s=e.jetpackPremiumPrice,n=e.translate,o=e.userCurrency,l=e.isJetpack,u=void 0,c=void 0,p=void 0;return l?(u=s,c=[n("Schedule your social messages in advance."),n("Easy monetization options"),n("VideoPress support"),n("Daily Malware Scanning")],p=i.PLAN_JETPACK_PREMIUM):(u=t,c=[n("Schedule your social messages in advance."),n("Remove all advertising from your site."),n("Enjoy live chat support."),n("Easy monetization options"),n("Unlimited premium themes.")],p=i.PLAN_PREMIUM),a.default.createElement(r.default,{className:"post-share__actions-list-upgrade-nudge",callToAction:n("Upgrade for %s",{args:(0,d.default)(u,o),comment:"%s will be replaced by a formatted price, i.e $9.99"}),list:c,plan:p,title:n("Upgrade to a Premium Plan!")})}},"./client/blocks/post-share/publicize-actions-list.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),_=s("./node_modules/react/react.js"),b=n(_),v=s("./node_modules/react-redux/es/index.js"),g=s("./node_modules/i18n-calypso/index.js"),y=s("./node_modules/gridicons/build/index.js"),j=n(y),E=s("./client/state/selectors/get-post-share-scheduled-actions.js"),x=n(E),P=s("./client/state/selectors/get-post-share-published-actions.js"),C=n(P),S=s("./client/components/data/query-share-post-actions/index.jsx"),I=n(S),k=s("./node_modules/social-logos/build/index.js"),w=n(k),N=s("./client/components/ellipsis-menu/index.jsx"),T=n(N),D=s("./client/components/popover/menu-item.jsx"),M=n(D),O=s("./client/blocks/post-share/constants.js"),A=s("./client/components/section-nav/index.jsx"),R=n(A),U=s("./client/components/section-nav/tabs.jsx"),L=n(U),q=s("./client/components/section-nav/item.jsx"),z=n(q),F=s("./client/config/index.js"),V=s("./client/components/dialog/index.jsx"),B=n(V),H=s("./client/state/sharing/publicize/publicize-actions/actions.js"),W=s("./client/lib/analytics/index.js"),G=n(W),Z=s("./client/blocks/post-share/sharing-preview-modal.jsx"),K=n(Z),Q=s("./client/components/notice/index.jsx"),Y=n(Q),J=function(e){function t(){var e,s,n,o;(0,r.default)(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),n.state={selectedShareTab:O.PUBLISHED,showDeleteDialog:!1,selectedScheduledShareId:null,showPreviewModal:!1,previewMessage:"",previewService:""},n.setFooterSection=function(e){return function(){G.default.tracks.recordEvent("calypso_publicize_action_tab_click",{tab:e}),n.setState({selectedShareTab:e})}},n.togglePreviewModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){return n.state.showPreviewModal?n.setState({
showPreviewModal:!1}):void n.setState({showPreviewModal:!0,previewMessage:e,previewService:t})}},n.closeDeleteDialog=function(e){if("delete"===e){var t=n.props,s=t.siteId,o=t.postId;G.default.tracks.recordEvent("calypso_publicize_scheduled_delete"),n.props.deletePostShareAction(s,o,n.state.selectedScheduledShareId)}n.setState({showDeleteDialog:!1})},n.renderActionsList=function(){var e=n.props,t=e.publishedActions,s=e.scheduledActions,o=e.translate;return n.state.selectedShareTab===O.PUBLISHED?b.default.createElement("div",{className:"post-share__published-list"},t.map(function(e,t){return n.renderActionItem(e,t)})):0===s.length?b.default.createElement(Y.default,{status:"is-info",showDismiss:!1,text:o('Did you know you can decide exactly when Publicize shares your post? You can! Click the calendar icon next to "Share post" to schedule your social shares.')}):b.default.createElement("div",{className:"post-share__scheduled-list"},s.map(function(e,t){return n.renderActionItem(e,t)}))},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"renderActionItem",value:function(e,t){var s=e.service,n=e.connectionName,o=e.shareDate,a=e.message;return b.default.createElement("div",{className:"post-share__footer-items",key:t},b.default.createElement("div",{className:"post-share__footer-item"},b.default.createElement("div",{className:"post-share__handle"},b.default.createElement(w.default,{icon:"google_plus"===s?"google-plus":s}),b.default.createElement("span",{className:"post-share__handle-value"},n)),b.default.createElement("div",{className:"post-share__timestamp"},b.default.createElement(j.default,{icon:"time",size:18}),b.default.createElement("span",{className:"post-share__timestamp-value"},o)),b.default.createElement("div",{className:"post-share__message"},a)),this.renderFooterSectionItemActions(e))}},{key:"renderFooterSectionItemActions",value:function(e){var t=e.ID,s=e.message,n=e.service,o=e.url;return this.state.selectedShareTab===O.SCHEDULED?this.renderScheduledMenu(t,s,n):o&&b.default.createElement("a",{className:"post-share__external-url",href:o,target:"_blank",rel:"noopener noreferrer"},b.default.createElement(j.default,{icon:"external",size:24}))}},{key:"renderScheduledMenu",value:function(e,t,s){var n=[],o=this.props.translate;return(0,F.isEnabled)("publicize-preview")&&n.push(b.default.createElement(M.default,{onClick:this.togglePreviewModal(t,s),key:"1",icon:"visible"},o("Preview"))),n.push(b.default.createElement(M.default,{onClick:this.deleteScheduledAction(e),key:"2",icon:"trash"},o("Trash"))),0===n.length?b.default.createElement("div",null):b.default.createElement(T.default,null,n)}},{key:"deleteScheduledAction",value:function(e){var t=this;return function(){t.setState({showDeleteDialog:!0,selectedScheduledShareId:e})}}},{key:"renderDeleteDialog",value:function(){var e=this.props.translate,t=[{action:"cancel",label:e("Cancel")},{action:"delete",label:e("Delete scheduled share"),isPrimary:!0}];return b.default.createElement(B.default,{isVisible:this.state.showDeleteDialog,buttons:t,onClose:this.closeDeleteDialog},b.default.createElement("h1",null,e("Confirmation")),b.default.createElement("p",null,e("Do you want to delete the scheduled share?")))}},{key:"getShareTabLabel",value:function(e){var t=this.props.translate;return t(e===O.SCHEDULED?"Scheduled":"Published")}},{key:"getShareTabCount",value:function(e){return e===O.SCHEDULED?this.props.scheduledActions.length:this.props.publishedActions.length}},{key:"renderShareTab",value:function(e){return b.default.createElement(z.default,{key:e,selected:this.state.selectedShareTab===e,count:this.getShareTabCount(e),onClick:this.setFooterSection(e)},this.getShareTabLabel(e))}},{key:"render",value:function(){var e=this.props,t=e.hasRepublicizeFeature,s=e.postId,n=e.siteId,o=t?[O.SCHEDULED,O.PUBLISHED]:[O.PUBLISHED];return b.default.createElement("div",null,b.default.createElement(R.default,{className:"post-share__footer-nav",selectedText:this.getShareTabLabel(this.state.selectedShareTab),selectedCount:this.getShareTabCount(this.state.selectedShareTab)},b.default.createElement(L.default,null,o.map(this.renderShareTab,this))),b.default.createElement("div",{className:"post-share__actions-list"},b.default.createElement(I.default,{siteId:n,postId:s,status:O.SCHEDULED}),b.default.createElement(I.default,{siteId:n,postId:s,status:O.PUBLISHED}),this.renderActionsList()),this.renderDeleteDialog(),b.default.createElement(K.default,{siteId:n,postId:s,message:this.state.previewMessage,selectedService:this.state.previewService,isVisible:this.state.showPreviewModal,onClose:this.togglePreviewModal()}))}}]),t}(_.PureComponent);J.propTypes={siteId:h.default.number,postId:h.default.number,scheduledActions:h.default.array,publishedActions:h.default.array},t.default=(0,v.connect)(function(e,t){var s=t.postId,n=t.siteId;return{scheduledActions:(0,x.default)(e,n,s),publishedActions:(0,C.default)(e,n,s)}},{deletePostShareAction:H.deletePostShareAction})((0,g.localize)(J)),e.exports=t.default},"./client/blocks/post-share/sharing-preview-modal.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),a=n(o),l=s("./node_modules/prop-types/index.js"),r=n(l),i=s("./node_modules/react/react.js"),u=n(i),d=s("./node_modules/gridicons/build/index.js"),c=n(d),p=s("./client/components/dialog/index.jsx"),f=n(p),m=s("./client/blocks/sharing-preview-pane/index.jsx"),h=n(m),_=function(e){var t=e.isVisible,s=e.onClose,n=(0,a.default)(e,["isVisible","onClose"]);return u.default.createElement(f.default,{isVisible:t,additionalClassNames:"post-share__sharing-preview-modal"},u.default.createElement("header",{className:"post-share__sharing-preview-modal-header"},u.default.createElement("button",{onClick:s,className:"post-share__sharing-preview-modal-close"},u.default.createElement(c.default,{icon:"cross"}))),u.default.createElement(h.default,n))};_.propTypes={isVisible:r.default.bool.isRequired,onClose:r.default.func.isRequired,siteId:r.default.number,postId:r.default.number,message:r.default.string,selectedService:r.default.string},t.default=_,e.exports=t.default},"./client/blocks/post-status/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.translate,s=e.post,n=e.showAll,o=e.showIcon,a=void 0===o||o;if(!s)return null;var l=s.sticky,r=s.status,u=void 0,d=void 0,p=void 0;if(l?(u=t("Sticky"),d="is-sticky",p="bookmark-outline"):"pending"===r?(u=t("Pending Review"),d="is-pending",p="aside"):"future"===r?(u=t("Scheduled"),d="is-scheduled",p="calendar"):"trash"===r?(u=t("Trashed"),d="is-trash",p="trash"):n&&"draft"===r?(u=t("Draft"),d="is-draft",p="aside"):n&&"publish"===r&&(u=t("Published"),d="is-published",p="aside"),!u)return null;var f=(0,c.default)("post-status",d);return i.default.createElement("span",{className:f},a&&i.default.createElement(m.default,{icon:p,size:18,className:"post-status__icon"}),i.default.createElement("span",{className:"post-status__text"},u))}Object.defineProperty(t,"__esModule",{value:!0}),t.PostStatus=o;var a=s("./node_modules/prop-types/index.js"),l=n(a),r=s("./node_modules/react/react.js"),i=n(r),u=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/classnames/index.js"),c=n(d),p=s("./node_modules/i18n-calypso/index.js"),f=s("./node_modules/gridicons/build/index.js"),m=n(f),h=s("./client/state/posts/selectors.js");o.displayName="PostStatus",o.propTypes={globalId:l.default.string,translate:l.default.func,post:l.default.object,showAll:l.default.bool,showIcon:l.default.bool},t.default=(0,u.connect)(function(e,t){var s=t.globalId;return{post:(0,h.getNormalizedPost)(e,s)}})((0,p.localize)(o))},"./client/blocks/post-time/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!t)return e().fromNow();var s=t.status,n=t.modified,o=t.date,a=e((0,f.includes)(["draft","pending"],s)?n:o);return a.isBefore(e().subtract(7,"days"))?a.format("LLL"):a.fromNow()}function a(e){var t=e.moment,s=e.post,n=(0,c.default)("post-time",{"is-placeholder":!s});return r.default.createElement("span",{className:n},o(t,s))}Object.defineProperty(t,"__esModule",{value:!0}),t.PostTime=a;var l=s("./node_modules/react/react.js"),r=n(l),i=s("./node_modules/prop-types/index.js"),u=n(i),d=s("./node_modules/classnames/index.js"),c=n(d),p=s("./node_modules/react-redux/es/index.js"),f=s("./node_modules/lodash/lodash.js"),m=s("./node_modules/i18n-calypso/index.js"),h=s("./client/state/posts/selectors.js");a.propTypes={globalId:u.default.string,moment:u.default.func,post:u.default.object},t.default=(0,p.connect)(function(e,t){var s=t.globalId;return{post:(0,h.getNormalizedPost)(e,s)}})((0,m.localize)(a))},"./client/blocks/sharing-preview-pane/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/keys.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/extends.js"),r=n(l),i=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/createClass.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=n(m),_=s("./node_modules/babel-runtime/helpers/inherits.js"),b=n(_),v=s("./node_modules/prop-types/index.js"),g=n(v),y=s("./node_modules/react/react.js"),j=n(y),E=s("./node_modules/react-redux/es/index.js"),x=s("./node_modules/i18n-calypso/index.js"),P=s("./node_modules/lodash/lodash.js"),C=s("./client/blocks/sharing-preview-pane/utils.js"),S=s("./client/components/share/facebook-share-preview/index.jsx"),I=n(S),k=s("./client/components/share/google-plus-share-preview/index.js"),w=n(k),N=s("./client/components/share/linkedin-share-preview/index.jsx"),T=n(N),D=s("./client/components/share/twitter-share-preview/index.jsx"),M=n(D),O=s("./client/components/share/tumblr-share-preview/index.jsx"),A=n(O),R=s("./client/components/vertical-menu/index.jsx"),U=n(R),L=s("./client/components/vertical-menu/items/index.js"),q=s("./client/state/posts/selectors.js"),z=s("./client/state/sites/selectors.js"),F=s("./client/state/sharing/publicize/selectors.js"),V=s("./client/state/current-user/selectors.js"),B=s("./client/components/notice/index.jsx"),H=n(B),W=s("./client/components/notice/notice-action.jsx"),G=n(W),Z={facebook:"Facebook",twitter:"Twitter",google_plus:"Google Plus",linkedin:"LinkedIn",tumblr:"Tumblr"},K=function(e){function t(e){(0,c.default)(this,t);var s=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));Q.call(s);var n=(0,P.map)(e.connections,"service"),o=(0,P.find)(e.services,function(e){return(0,P.find)(n,function(t){return e===t})}),a=e.selectedService||o;return s.state={selectedService:a},s}return(0,b.default)(t,e),(0,f.default)(t,[{key:"renderPreview",value:function(){var e=this.props,t=e.post,s=e.site,n=e.message,o=e.connections,a=e.translate,l=e.siteSlug,i=this.state.selectedService,u=(0,P.find)(o,{service:i});if(!u)return j.default.createElement(H.default,{text:a("Connect to %s to see the preview",{args:Z[i]}),status:"is-info",showDismiss:!1},j.default.createElement(G.default,{href:"/sharing/"+l},a("Settings")));var d=(0,P.get)(t,"URL",""),c=(0,P.get)(t,"title",""),p=(0,C.getExcerptForPost)(t),f=(0,P.get)(s,"domain",""),m=(0,C.getPostImage)(t),h=u.external_name,_=u.external_profile_url,b=u.external_profile_picture,v=u.external_display,g={articleUrl:d,articleTitle:c,articleContent:p,externalDisplay:v,externalName:h,externalProfileURL:_,externalProfilePicture:b,message:n,imageUrl:m,siteDomain:f};switch(i){case"facebook":return j.default.createElement(I.default,g);case"google_plus":return j.default.createElement(w.default,g);case"tumblr":return j.default.createElement(A.default,g);case"linkedin":return j.default.createElement(T.default,g);case"twitter":return j.default.createElement(M.default,(0,r.default)({},g,{externalDisplay:v}));default:return null}}},{key:"render",value:function(){var e=this.props,t=e.translate,s=e.services,n=s.indexOf(this.state.selectedService);return j.default.createElement("div",{className:"sharing-preview-pane"},j.default.createElement("div",{className:"sharing-preview-pane__sidebar"},j.default.createElement("div",{className:"sharing-preview-pane__explanation"},j.default.createElement("h1",{className:"sharing-preview-pane__title"},t("Social Previews")),j.default.createElement("p",{className:"sharing-preview-pane__description"},t("This is how your post will appear when people view or share it on any of the networks below"))),j.default.createElement(U.default,{onClick:this.selectPreview,initialItemIndex:n},s.map(function(e){return j.default.createElement(L.SocialItem,{key:e,service:e})}))),j.default.createElement("div",{className:"sharing-preview-pane__preview-area"},j.default.createElement("div",{className:"sharing-preview-pane__preview"},this.renderPreview())))}}]),t}(y.PureComponent);K.propTypes={siteId:g.default.number,postId:g.default.number,services:g.default.array,message:g.default.string,site:g.default.object,post:g.default.object,seoTitle:g.default.string,selectedService:g.default.string},K.defaultProps={services:(0,a.default)(Z)};var Q=function(){var e=this;this.selectPreview=function(t){e.setState({selectedService:t})}},Y=function(e,t){var s=t.siteId,n=t.postId,o=(0,z.getSite)(e,s),a=(0,q.getSitePost)(e,s,n),l=(0,z.getSeoTitle)(e,"posts",{site:o,post:a}),r=(0,V.getCurrentUserId)(e),i=(0,F.getSiteUserConnections)(e,s,r),u=(0,z.getSiteSlug)(e,s);return{site:o,post:a,seoTitle:l,connections:i,siteSlug:u}};t.default=(0,E.connect)(Y)((0,x.localize)(K)),e.exports=t.default},"./client/blocks/sharing-preview-pane/utils.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getExcerptForPost=t.getPostImage=void 0;var o=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/striptags/striptags.js"),l=n(a),r=s("./client/lib/post-normalizer/rule-create-better-excerpt.js"),i=s("./client/lib/post-metadata/index.js"),u=n(i),d=s("./client/lib/formatting/index.js"),c=512;t.getPostImage=function(e){if(!e)return null;if(e.featured_image)return e.featured_image;var t=e.content;if(!t)return null;var s=(0,d.parseHtml)(t).querySelectorAll("img"),n=(0,o.get)((0,o.find)(s,function(e){var t=e.width;return t>=c}),"src",null);return n?n+"?s="+c:null},t.getExcerptForPost=function(e){return e?(0,o.trim)((0,l.default)((0,r.formatExcerpt)((0,o.find)([u.default.metaDescription(e),e.excerpt,e.content],o.identity)))):null}},"./client/components/button-group/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=s("./node_modules/classnames/index.js"),b=n(_),v=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=(0,b.default)("button-group",this.props.className,{"is-busy":this.props.busy,"is-primary":this.props.primary});return h.default.createElement("span",{className:e},this.props.children)}}]),t}(m.PureComponent);v.propTypes={children:function(e){var t=null;return h.default.Children.forEach(e.children,function(e){!e||e.props&&"button"===e.props.type||(t=new Error("All children elements should be a Button."))}),t}},t.default=v,e.exports=t.default},"./client/components/card/compact.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return i.default.createElement(p.default,(0,l.default)({},e,{className:(0,d.default)(e.className,"is-compact")}),e.children)}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/helpers/extends.js"),l=n(a);t.default=o;var r=s("./node_modules/react/react.js"),i=n(r),u=s("./node_modules/classnames/index.js"),d=n(u),c=s("./client/components/card/index.jsx"),p=n(c);e.exports=t.default},"./client/components/data/query-post-counts/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),_=s("./node_modules/react/react.js"),b=s("./node_modules/react-redux/es/index.js"),v=s("./client/state/posts/counts/actions.js"),g=s("./client/state/posts/counts/selectors.js"),y=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId===e.siteId&&this.props.type===e.type||this.request(e)}},{key:"request",value:function(e){e.requesting||e.requestPostCounts(e.siteId,e.type)}},{key:"render",value:function(){return null}}]),t}(_.Component);y.propTypes={siteId:h.default.number.isRequired,type:h.default.string.isRequired,requesting:h.default.bool,requestPostCounts:h.default.func},t.default=(0,b.connect)(function(e,t){var s=t.siteId,n=t.type;return{requesting:(0,g.isRequestingPostCounts)(e,s,n)}},{requestPostCounts:v.requestPostCounts})(y),e.exports=t.default},"./client/components/data/query-publicize-connections/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),_=s("./node_modules/react/react.js"),b=s("./node_modules/react-redux/es/index.js"),v=s("./client/state/sharing/publicize/selectors.js"),g=s("./client/state/sharing/publicize/actions.js"),y=s("./client/state/ui/selectors.js"),j=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){!this.props.requestingConnections&&this.props.siteId&&this.props.requestConnections(this.props.siteId)}},{key:"componentDidUpdate",value:function(e){var t=e.siteId;this.props.siteId&&t!==this.props.siteId&&!this.props.requestingConnections&&this.props.requestConnections(this.props.siteId)}},{key:"render",value:function(){return null}}]),t}(_.Component);j.propTypes={requestConnections:h.default.func,requestingConnections:h.default.bool,selectedSite:h.default.bool,siteId:h.default.number},j.defaultProps={requestConnections:function(){},requestingConnections:!1,selectedSite:!1,siteId:0},t.default=(0,b.connect)(function(e,t){var s=t.siteId,n=t.selectedSite;return s=s||n&&(0,y.getSelectedSiteId)(e),{requestingConnections:(0,v.isFetchingConnections)(e,s),siteId:s}},{requestConnections:g.fetchConnections})(j),e.exports=t.default},"./client/components/data/query-share-post-actions/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),_=s("./node_modules/react/react.js"),b=s("./node_modules/react-redux/es/index.js"),v=s("./client/state/selectors/is-fetching-publicize-share-actions-scheduled.js"),g=n(v),y=s("./client/state/selectors/is-fetching-publicize-share-actions-published.js"),j=n(y),E=s("./client/state/sharing/publicize/publicize-actions/actions.js"),x=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.request(this.props)}},{key:"shouldComponentUpdate",value:function(e){return this.props.siteId!==e.siteId||this.props.postId!==e.postId||this.props.status!==e.status}},{key:"componentDidUpdate",value:function(){this.request(this.props)}},{key:"request",value:function(e){"scheduled"!==e.status||e.isRequestingScheduled||e.fetchPostShareActionsScheduled(e.siteId,e.postId),"published"!==e.status||e.isRequestingPublished||e.fetchPostShareActionsPublished(e.siteId,e.postId)}},{key:"render",value:function(){return null}}]),t}(_.Component);x.propTypes={siteId:h.default.number,postId:h.default.number,status:h.default.string,isRequestingScheduled:h.default.bool.isRequired,isRequestingPublished:h.default.bool.isRequired,fetchPostShareActionsScheduled:h.default.func.isRequired,fetchPostShareActionsPublished:h.default.func.isRequired},t.default=(0,b.connect)(function(e,t){var s=t.siteId,n=t.postId;return{isRequestingScheduled:(0,g.default)(e,s,n),isRequestingPublished:(0,j.default)(e,s,n)}},{fetchPostShareActionsScheduled:E.fetchPostShareActionsScheduled,fetchPostShareActionsPublished:E.fetchPostShareActionsPublished})(x),e.exports=t.default},"./client/components/date-picker/event.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CalendarEvent=void 0;var o=s("./node_modules/react/react.js"),a=n(o),l=s("./node_modules/gridicons/build/index.js"),r=n(l),i=s("./node_modules/social-logos/build/index.js"),u=n(i),d=s("./node_modules/classnames/index.js"),c=n(d),p=function(e){return e&&a.default.createElement("span",{className:"date-picker__icon-wrapper date-picker__icon-wrapper-"+e},a.default.createElement(r.default,{icon:e,size:18}))},f=function(e,t){if(!e)return null;var s=(0,c.default)("date-picker__social-icon-wrapper","date-picker__social-icon-wrapper-"+e,{"date-picker__social-icon-wrapper-color":t});return a.default.createElement("span",{className:s},a.default.createElement(u.default,{icon:e,size:18}))};t.CalendarEvent=function(e){var t=e.icon,s=e.socialIcon,n=e.socialIconColor,o=void 0===n||n,l=e.title;return a.default.createElement("div",{className:"date-picker__calendar-event"},p(t),f(s,o),a.default.createElement("span",{className:"date-picker__event-title"},l))}},"./client/components/date-picker/events-tooltip.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/lodash/lodash.js"),g=s("./node_modules/i18n-calypso/index.js"),y=s("./client/components/tooltip/index.jsx"),j=n(y),E=s("./client/components/date-picker/event.jsx"),x=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props,s=t.events,n=t.isVisible,o=t.maxEvents,a=this.props.title;a||(a=this.props.translate("%d post","%d posts",{count:s.length,args:s.length}));var l=!!(s&&s.length&&n),r=s.length-o,i=this.props.moreEventsLabel;return i||(i=this.props.translate("… and %(moreEvents)d more post","… and %(moreEvents)d more posts",{count:r,args:{moreEvents:r}})),h.default.createElement(j.default,{className:"date-picker__events-tooltip",context:this.props.context,isVisible:l,onClose:v.noop},h.default.createElement("span",null,a),h.default.createElement("hr",{className:"date-picker__division"}),h.default.createElement("ul",null,(0,v.map)(s,function(t,s){return s<o&&h.default.createElement("li",{key:t.id},h.default.createElement(E.CalendarEvent,{icon:t.icon,socialIcon:t.socialIcon,socialIconColor:t.socialIconColor,title:""===t.title?e.props.translate("{{em}}(No title){{/em}}",{components:{em:h.default.createElement("em",null)}}):t.title}))}),r>0&&h.default.createElement("li",null,i)))}}]),t}(m.Component);x.propTypes={title:b.default.string,events:b.default.array,moment:b.default.func.isRequired,maxEvents:b.default.number,moreEvents:b.default.string},x.defaultProps={events:[],maxEvents:8},t.default=(0,g.localize)(x),e.exports=t.default},"./client/components/forms/counted-textarea/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CountedTextarea=void 0;var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),_=s("./node_modules/react/react.js"),b=n(_),v=s("./node_modules/prop-types/index.js"),g=n(v),y=s("./node_modules/i18n-calypso/index.js"),j=s("./node_modules/classnames/index.js"),E=n(j),x=s("./node_modules/lodash/lodash.js"),P=s("./client/components/forms/form-textarea/index.jsx"),C=n(P),S=t.CountedTextarea=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return s=n=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),n.renderCountPanel=function(){var e=n.props.value.length;!e&&n.props.countPlaceholderLength&&(e=n.props.placeholder.length);var t=void 0;return t=n.props.showRemainingCharacters&&n.props.acceptableLength?n.props.translate("%d character remaining","%d characters remaining",{context:"Input length",args:[n.props.acceptableLength-e],count:n.props.acceptableLength-e}):n.props.translate("%d character","%d characters",{context:"Input length",args:[e],count:e}),b.default.createElement("div",{className:"counted-textarea__count-panel"},t,n.props.children)},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=(0,E.default)("counted-textarea",this.props.className,{"is-exceeding-acceptable-length":this.props.acceptableLength&&this.props.value.length>this.props.acceptableLength});return b.default.createElement("div",{className:e},b.default.createElement(C.default,(0,a.default)({},(0,x.omit)(this.props,"className","acceptableLength","showRemainingCharacters","children","countPlaceholderLength","moment","numberFormat","translate"),{className:"counted-textarea__input"})),this.renderCountPanel())}}]),t}(b.default.Component);S.propTypes={value:g.default.string,placeholder:g.default.string,countPlaceholderLength:g.default.bool,onChange:g.default.func,acceptableLength:g.default.number,showRemainingCharacters:g.default.bool,translate:g.default.func},S.defaultProps={value:"",placeholder:"",countPlaceholderLength:!1,onChange:x.noop,showRemainingCharacters:!1,translate:y.translate},t.default=(0,y.localize)(S)},"./client/components/forms/form-checkbox/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),r=n(l),i=s("./node_modules/react/react.js"),u=n(i),d=s("./node_modules/classnames/index.js"),c=n(d),p=function(e){var t=e.className,s=(0,r.default)(e,["className"]);return u.default.createElement("input",(0,a.default)({},s,{type:"checkbox",className:(0,c.default)(t,"form-checkbox")}))};t.default=p,e.exports=t.default},"./client/components/forms/form-textarea/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),r=n(l),i=s("./node_modules/react/react.js"),u=n(i),d=s("./node_modules/classnames/index.js"),c=n(d),p=function(e){var t=e.className,s=e.isError,n=e.isValid,o=e.children,l=(0,r.default)(e,["className","isError","isValid","children"]);return u.default.createElement("textarea",(0,a.default)({},l,{className:(0,c.default)(t,"form-textarea",{"is-error":s,"is-valid":n})}),o)};t.default=p,e.exports=t.default},"./client/components/forms/form-toggle/compact.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),r=n(l),i=s("./node_modules/react/react.js"),u=n(i),d=s("./node_modules/classnames/index.js"),c=n(d),p=s("./client/components/forms/form-toggle/index.jsx"),f=n(p),m=function(e){var t=e.className,s=e.children,n=(0,r.default)(e,["className","children"]);return u.default.createElement(f.default,(0,a.default)({},n,{className:(0,c.default)(t,"is-compact")}),s)};t.default=m,e.exports=t.default},"./client/components/forms/form-toggle/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/classnames/index.js"),g=n(v),y=s("./node_modules/lodash/lodash.js"),j=function(e){function t(){var e,s,n,o;(0,r.default)(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),n.onKeyDown=function(e){n.props.disabled||("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n.props.onChange(!n.props.checked)),n.props.onKeyDown(e))},n.onClick=function(e){e&&e.stopPropagation&&e.stopPropagation(),n.props.disabled||n.props.onChange(!n.props.checked)},n.onLabelClick=function(e){if(!n.props.disabled){var t=e.target.nodeName.toLowerCase();"a"!==t&&"input"!==t&&"select"!==t&&(e.preventDefault(),n.props.onChange(!n.props.checked))}},o=s,(0,c.default)(n,o)}return(0,
f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.id=this.constructor.idNum++}},{key:"render",value:function(){var e=this.props.id||"toggle-"+this.id,t=(0,g.default)("form-toggle__wrapper",{"is-disabled":this.props.disabled}),s=(0,g.default)("form-toggle",this.props.className,{"is-toggling":this.props.toggling});return h.default.createElement("span",{className:t},h.default.createElement("input",{id:e,className:s,type:"checkbox",checked:this.props.checked,readOnly:!0,disabled:this.props.disabled}),h.default.createElement("label",{className:"form-toggle__label",htmlFor:e},h.default.createElement("span",{className:"form-toggle__switch",onClick:this.onClick,onKeyDown:this.onKeyDown,role:"checkbox","aria-checked":this.props.checked,"aria-label":this.props["aria-label"],tabIndex:this.props.disabled?-1:0}),h.default.createElement("span",{className:"form-toggle__label-content",onClick:this.onLabelClick},this.props.children)))}}]),t}(m.PureComponent);j.propTypes={onChange:b.default.func,onKeyDown:b.default.func,checked:b.default.bool,disabled:b.default.bool,id:b.default.string,className:b.default.string,toggling:b.default.bool,"aria-label":b.default.string},j.defaultProps={checked:!1,disabled:!1,onKeyDown:y.noop,onChange:y.noop},j.idNum=0,t.default=j,e.exports=t.default},"./client/components/info-popover/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/gridicons/build/index.js"),g=n(v),y=s("./node_modules/classnames/index.js"),j=n(y),E=s("./client/components/popover/index.jsx"),x=n(E),P=s("./client/lib/analytics/index.js"),C=n(P),S=function(e){function t(){var e,s,n,o;(0,r.default)(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),n.state={showPopover:!1},n.handleClick=function(e){e.preventDefault(),n.setState({showPopover:!n.state.showPopover},n.recordStats)},n.handleClose=function(){return n.setState({showPopover:!1},n.recordStats)},n.recordStats=function(){var e=n.props,t=e.gaEventCategory,s=e.popoverName;if(t&&s){var o=n.state.showPopover?" Opened":" Closed";C.default.ga.recordEvent(t,"InfoPopover: "+s+o)}},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return h.default.createElement("span",{onClick:this.handleClick,ref:"infoPopover",className:(0,j.default)("info-popover",{is_active:this.state.showPopover},this.props.className)},h.default.createElement(g.default,{icon:this.props.icon,size:this.props.iconSize}),h.default.createElement(x.default,{autoRtl:this.props.autoRtl,id:this.props.id,isVisible:this.state.showPopover,context:this.refs&&this.refs.infoPopover,ignoreContext:this.props.ignoreContext,position:this.props.position,onClose:this.handleClose,className:(0,j.default)("popover","info-popover__tooltip",this.props.className),rootClassName:this.props.rootClassName},this.props.children))}}]),t}(m.Component);S.propTypes={autoRtl:b.default.bool,className:b.default.string,gaEventCategory:b.default.string,icon:b.default.string,iconSize:b.default.number,id:b.default.string,ignoreContext:b.default.shape({getDOMNode:b.default.func}),popoverName:b.default.string,position:b.default.oneOf(["top","top right","right","bottom right","bottom","bottom left","left","top left"]),rootClassName:b.default.string},S.defaultProps={autoRtl:!0,icon:"info-outline",iconSize:18,position:"bottom"},t.default=S,e.exports=t.default},"./client/components/list-end/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=s("./node_modules/react/react.js"),l=n(a),r=l.default.createElement("div",{className:"list-end"});e.exports=t.default},"./client/components/section-header/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=s("./node_modules/classnames/index.js"),b=n(_),v=s("./client/components/card/compact.jsx"),g=n(v),y=s("./client/components/count/index.jsx"),j=n(y),E=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e="number"==typeof this.props.count,t=!(this.props.label||e||this.props.children),s=(0,b.default)(this.props.className,"section-header",{"is-empty":t});return h.default.createElement(g.default,{className:s,href:this.props.href},h.default.createElement("div",{className:"section-header__label"},h.default.createElement("span",{className:"section-header__label-text"},this.props.label),e&&h.default.createElement(j.default,{count:this.props.count})),h.default.createElement("div",{className:"section-header__actions"},this.props.children))}}]),t}(m.PureComponent);E.defaultProps={label:"",href:null},t.default=E,e.exports=t.default},"./client/components/section-nav/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/classnames/index.js"),g=n(v),y=s("./node_modules/lodash/lodash.js"),j=s("./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx"),E=n(j),x=s("./client/components/section-nav/tabs.jsx"),P=n(x),C=s("./client/components/section-nav/item.jsx"),S=n(C),I=s("./client/components/search/index.jsx"),k=n(I),w=function(e){function t(){var e,s,n,o;(0,r.default)(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),N.call(n),o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.checkForSiblingControls(this.props.children)}},{key:"componentWillReceiveProps",value:function(e){(0,y.isEqual)(this.props,e)||(this.checkForSiblingControls(e.children),this.hasSiblingControls||this.closeMobilePanel())}},{key:"render",value:function(){var e=this.getChildren(),t=void 0;return e?(t=(0,g.default)({"section-nav":!0,"is-open":this.state.mobileOpen,"has-pinned-items":this.hasPinnedSearch||this.props.hasPinnedItems},this.props.className),h.default.createElement("div",{className:t},this.renderDropdown(),h.default.createElement("div",{className:"section-nav__panel"},e))):(t=(0,g.default)({"section-nav":!0,"is-empty":!0},this.props.className),h.default.createElement("div",{className:t},h.default.createElement("div",{className:"section-nav__panel"},h.default.createElement(S.default,null))))}}]),t}(m.Component);w.propTypes={selectedText:b.default.node,selectedCount:b.default.number,hasPinnedItems:b.default.bool,onMobileNavPanelOpen:b.default.func,className:b.default.string,allowDropdown:b.default.bool},w.defaultProps={onMobileNavPanelOpen:function(){},allowDropdown:!0};var N=function(){var e=this;this.state={mobileOpen:!1},this.renderDropdown=function(){return e.props.allowDropdown?h.default.createElement("div",{className:"section-nav__mobile-header",onClick:e.toggleMobileOpenState},h.default.createElement("span",{className:"section-nav__mobile-header-text"},e.props.selectedText)):h.default.createElement("div",null)},this.getChildren=function(){return h.default.Children.map(e.props.children,function(e){var t={hasSiblingControls:this.hasSiblingControls,closeSectionNavMobilePanel:this.closeMobilePanel};return e?(e.type!==P.default||e.props.selectedText||"string"!=typeof this.props.selectedText||(t.selectedText=this.props.selectedText),e.type===P.default&&this.props.selectedCount&&(t.selectedCount=this.props.selectedCount),e.type===k.default&&(e.props.pinned&&(this.hasPinnedSearch=!0),t.onSearch=this.generateOnSearch(e.props.onSearch)),h.default.cloneElement(e,t)):null}.bind(e))},this.closeMobilePanel=function(){window.innerWidth<480&&e.state.mobileOpen&&e.setState({mobileOpen:!1})},this.toggleMobileOpenState=function(){var t=!e.state.mobileOpen;e.setState({mobileOpen:t}),t&&e.props.onMobileNavPanelOpen()},this.generateOnSearch=function(t){return function(){t.apply(void 0,arguments),e.closeMobilePanel()}},this.checkForSiblingControls=function(t){e.hasSiblingControls=!1;var s=[k.default,E.default];h.default.Children.forEach(t,function(e,t){t&&e&&!(0,y.includes)(s,e.type)&&(this.hasSiblingControls=!0)}.bind(e))}};t.default=w,e.exports=t.default},"./client/components/section-nav/item.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/classnames/index.js"),g=n(v),y=s("./client/components/count/index.jsx"),j=n(y),E=s("./client/sections-preload.js"),x=function(e){function t(){var e,s,n,o;(0,r.default)(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),n._preloaded=!1,n.preload=function(){!n._preloaded&&n.props.preloadSectionName&&(n._preloaded=!0,(0,E.preload)(n.props.preloadSectionName))},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.itemType?this.props.itemType:"tab",t={"is-selected":this.props.selected,"is-external":this.props.isExternalLink};t["section-nav-"+e]=!0;var s=(0,g.default)(this.props.className,t),n=void 0,o=void 0;return this.props.isExternalLink&&(n="_blank"),this.props.disabled||(o=this.props.onClick),h.default.createElement("li",{className:s},h.default.createElement("a",{href:this.props.path,target:n,className:"section-nav-"+e+"__link",onClick:o,onMouseEnter:this.preload,tabIndex:this.props.tabIndex||0,"aria-selected":this.props.selected,disabled:this.props.disabled,role:"menuitem",rel:this.props.isExternalLink?"external":null},h.default.createElement("span",{className:"section-nav-"+e+"__text"},this.props.children,"number"==typeof this.props.count&&h.default.createElement(j.default,{count:this.props.count}))))}}]),t}(m.PureComponent);x.propTypes={itemType:b.default.string,path:b.default.string,selected:b.default.bool,tabIndex:b.default.number,onClick:b.default.func,isExternalLink:b.default.bool,disabled:b.default.bool,count:b.default.oneOfType([b.default.number,b.default.bool]),className:b.default.string,preloadSectionName:b.default.string},t.default=x,e.exports=t.default},"./client/components/section-nav/segmented.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),_=s("./node_modules/react/react.js"),b=n(_),v=s("./node_modules/prop-types/index.js"),g=n(v),y=s("./node_modules/classnames/index.js"),j=n(y),E=s("./client/components/segmented-control/item.jsx"),x=n(E),P=s("./client/components/segmented-control/index.jsx"),C=n(P),S=1,I=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var l=arguments.length,i=Array(l),d=0;d<l;d++)i[d]=arguments[d];return s=n=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.getControlItems=function(){return b.default.Children.map(n.props.children,function(e,t){return b.default.createElement(x.default,(0,a.default)({},e.props,{key:"navSegmented-"+this.id+"-"+t}),e.props.children)},n)},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){this.id=S,S++}},{key:"render",value:function(){var e=(0,j.default)({"section-nav-group":!0,"section-nav__segmented":!0,"has-siblings":this.props.hasSiblingControls});return b.default.createElement("div",{className:e},this.props.label&&b.default.createElement("h6",{className:"section-nav-group__label"},this.props.label),b.default.createElement(C.default,null,this.getControlItems()))}}]),t}(_.Component);I.propTypes={label:g.default.string,hasSiblingControls:g.default.bool},I.defaultProps={hasSiblingControls:!1},t.default=I,e.exports=t.default},"./client/components/section-nav/tabs.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),_=s("./node_modules/react/react.js"),b=n(_),v=s("./node_modules/react-dom/index.js"),g=n(v),y=s("./node_modules/prop-types/index.js"),j=n(y),E=s("./node_modules/classnames/index.js"),x=n(E),P=s("./node_modules/lodash/lodash.js"),C=s("./client/components/select-dropdown/item.jsx"),S=n(C),I=s("./client/components/select-dropdown/index.jsx"),k=n(I),w=s("./client/lib/viewport/index.js"),N=n(w),T=480,D=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var l=arguments.length,i=Array(l),d=0;d<l;d++)i[d]=arguments[d];return s=n=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.state={isDropdown:!1},n.getTabWidths=function(){var e=0;b.default.Children.forEach(n.props.children,function(t,s){if(t){var n=g.default.findDOMNode(this.refs["tab-"+s]).offsetWidth;e+=n}}.bind(n)),n.tabsWidth=Math.max(e,n.tabsWidth||0)},n.getDropdown=function(){var e=b.default.Children.map(n.props.children,function(e,t){return e?b.default.createElement(S.default,(0,a.default)({},e.props,{key:"navTabsDropdown-"+t}),e.props.children):null});return b.default.createElement(k.default,{className:"section-nav-tabs__dropdown",selectedText:n.props.selectedText,selectedCount:n.props.selectedCount},e)},n.setDropdown=function(){var e=void 0;if(window.innerWidth>T){if(!n.refs.navGroup)return;e=n.refs.navGroup.offsetWidth,n.getTabWidths(),e<=n.tabsWidth&&!n.state.isDropdown?n.setState({isDropdown:!0}):e>n.tabsWidth&&n.state.isDropdown&&n.setState({isDropdown:!1})}else window.innerWidth<=T&&n.state.isDropdown&&n.setState({isDropdown:!1})},n.keyHandler=function(e){switch(e.keyCode){case 32:case 13:e.preventDefault(),document.activeElement.click()}},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.setDropdown(),this.debouncedAfterResize=(0,P.debounce)(this.setDropdown,300),window.addEventListener("resize",this.debouncedAfterResize)}},{key:"componentDidUpdate",value:function(){this.setDropdown()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debouncedAfterResize)}},{key:"render",value:function(){var e=b.default.Children.map(this.props.children,function(e,t){return e&&b.default.cloneElement(e,{ref:"tab-"+t})}),t=(0,x.default)({"section-nav-tabs":!0,"is-dropdown":this.state.isDropdown,"is-open":this.state.isDropdownOpen,"has-siblings":this.props.hasSiblingControls}),s=N.default.getWindowInnerWidth();return b.default.createElement("div",{className:"section-nav-group",ref:"navGroup"},b.default.createElement("div",{className:t},this.props.label&&b.default.createElement("h6",{className:"section-nav-group__label"},this.props.label),b.default.createElement("ul",{className:"section-nav-tabs__list",role:"menu",onKeyDown:this.keyHandler},e),this.state.isDropdown&&s>T&&this.getDropdown()))}}]),t}(_.Component);D.propTypes={selectedText:j.default.string,selectedCount:j.default.number,label:j.default.string,hasSiblingControls:j.default.bool},D.defaultProps={hasSiblingControls:!1},t.default=D,e.exports=t.default},"./client/components/segmented-control/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/lodash/lodash.js"),h=s("./node_modules/prop-types/index.js"),_=n(h),b=s("./node_modules/react-dom/index.js"),v=n(b),g=s("./node_modules/react/react.js"),y=n(g),j=s("./node_modules/classnames/index.js"),E=n(j),x=s("./client/components/segmented-control/item.jsx"),P=n(x),C=1,S=function(e){function t(e){(0,r.default)(this,t);var s=(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));s.getSegmentedItems=function(){var e=0;return s.props.children?y.default.Children.map(s.props.children,function(t,s){var n=y.default.cloneElement(t,{ref:t.type===P.default?"item-"+e:null,key:"item-"+s,onClick:function(e){this.setKeyboardNavigation(!1),"function"==typeof t.props.onClick&&t.props.onClick(e)}.bind(this)});return t.type===P.default&&e++,n},s):s.props.options.map(function(e,t){return y.default.createElement(P.default,{key:"segmented-control-"+this.id+"-"+e.value,ref:"item-"+t,selected:this.state.selected===e.value,onClick:this.selectItem.bind(this,e),path:e.path,index:t,value:e.value},e.label)},s)},s.selectItem=function(e){e&&(s.props.onSelect&&s.props.onSelect(e),s.setState({selected:e.value,keyboardNavigation:!1}))},s.setKeyboardNavigation=function(e){s.setState({keyboardNavigation:e})},s.navigateItem=function(e){switch(e.keyCode){case 9:s.navigateItemByTabKey(e);break;case 32:case 13:e.preventDefault(),document.activeElement.click();break;case 37:e.preventDefault(),s.focusSibling("previous");break;case 39:e.preventDefault(),s.focusSibling("next")}},s.navigateItemByTabKey=function(e){var t=e.shiftKey?"previous":"next",n=s.focusSibling(t);n!==!1&&e.preventDefault()},s.focusSibling=function(e){var t,n,o;return n=s.props.options?(0,m.filter)((0,m.map)(s.props.options,"value"),Boolean):(0,m.filter)(s.props.children,function(e){return e.type===P.default}),"number"!=typeof s.focused&&(s.focused=s.getCurrentFocusedIndex()),t="previous"===e?-1:1,o=s.focused+t,!(o>=n.length||o<0)&&(v.default.findDOMNode(s.refs["item-"+o].refs.itemLink).focus(),s.focused=o,o)},s.getCurrentFocusedIndex=function(){var e=document.activeElement.parentNode,t=Array.prototype.slice(e.parentNode.children),s=t.indexOf(e);return s>-1?s:0};var n;return e.options&&(n=e.initialSelected||e.options[0].value),s.state={selected:n,keyboardNavigation:!1},s}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.id=C,C++}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.navigateItem)}},{key:"render",value:function(){var e={"segmented-control":!0,"keyboard-navigation":this.state.keyboardNavigation,"is-compact":this.props.compact,"is-primary":this.props.primary};return this.props.className&&this.props.className.split(" ").forEach(function(t){e[t]=!0}),y.default.createElement("ul",{className:(0,E.default)(e),style:this.props.style,role:"radiogroup",onKeyDown:this.navigateItem,onKeyUp:this.setKeyboardNavigation.bind(this,!0)},this.getSegmentedItems())}}]),t}(y.default.Component);S.propTypes={initialSelected:_.default.string,compact:_.default.bool,className:_.default.string,style:_.default.object,onSelect:_.default.func,options:_.default.arrayOf(_.default.shape({value:_.default.string.isRequired,label:_.default.string.isRequired,path:_.default.string}))},S.defaultProps={compact:!1},t.default=S,e.exports=t.default},"./client/components/segmented-control/item.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/defineProperty.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/react/react.js"),g=n(v),y=s("./node_modules/classnames/index.js"),j=n(y),E=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=(0,j.default)({"segmented-control__item":!0,"is-selected":this.props.selected}),t=(0,j.default)("segmented-control__link",(0,a.default)({},"item-index-"+this.props.index,null!=this.props.index));return g.default.createElement("li",{className:e},g.default.createElement("a",{href:this.props.path,className:t,ref:"itemLink",onClick:this.props.onClick,title:this.props.title,"data-e2e-value":this.props.value,role:"radio",tabIndex:0,"aria-selected":this.props.selected},g.default.createElement("span",{className:"segmented-control__text"},this.props.children)))}}]),t}(g.default.Component);E.propTypes={children:b.default.node.isRequired,path:b.default.string,selected:b.default.bool,title:b.default.string,value:b.default.string,onClick:b.default.func},E.defaultProps={selected:!1},t.default=E,e.exports=t.default},"./client/components/share/facebook-share-preview/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FacebookSharePreview=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),_=s("./node_modules/react/react.js"),b=n(_),v=s("./node_modules/i18n-calypso/index.js"),g=t.FacebookSharePreview=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.articleUrl,s=e.externalProfilePicture,n=e.externalProfileUrl,o=e.externalDisplay,a=e.imageUrl,l=e.message,r=e.translate;return b.default.createElement("div",{className:"facebook-share-preview"},b.default.createElement("div",{className:"facebook-share-preview__content"},b.default.createElement("div",{className:"facebook-share-preview__header"},b.default.createElement("div",{className:"facebook-share-preview__profile-picture-part"},b.default.createElement("img",{className:"facebook-share-preview__profile-picture",src:s})),b.default.createElement("div",{className:"facebook-share-preview__profile-line-part"},b.default.createElement("div",{className:"facebook-share-preview__profile-line"},b.default.createElement("a",{className:"facebook-share-preview__profile-name",href:n},o),b.default.createElement("span",null,r("published an article on {{a}}WordPress{{/a}}",{components:{a:b.default.createElement("a",{href:"#"})}}))),b.default.createElement("div",{className:"facebook-share-preview__meta-line"},b.default.createElement("a",{href:"https://wordpress.com"},r("WordPress"))))),b.default.createElement("div",{className:"facebook-share-preview__body"},b.default.createElement("div",{className:"facebook-share-preview__message"},l),b.default.createElement("div",{className:"facebook-share-preview__article-url-line"},b.default.createElement("a",{className:"facebook-share-preview__article-url",href:t},t)),a&&b.default.createElement("div",{className:"facebook-share-preview__image-wrapper"},b.default.createElement("img",{className:"facebook-share-preview__image",src:a})))))}}]),t}(_.PureComponent);g.PropTypes={articleUrl:h.default.string,externalProfilePicture:h.default.string,externalProfileUrl:h.default.string,externalName:h.default.string,imageUrl:h.default.string,message:h.default.string},t.default=(0,v.localize)(g)},"./client/components/share/google-plus-share-preview/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GooglePlusSharePreview=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/i18n-calypso/index.js"),g=s("./client/components/share/helpers.js"),y=t.GooglePlusSharePreview=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.articleUrl,s=e.articleTitle,n=e.articleContent,o=e.externalProfilePicture,a=e.externalProfileUrl,l=e.externalName,r=e.imageUrl,i=e.message,u=(0,g.truncateArticleContent)(255,n);return h.default.createElement("div",{className:"google-plus-share-preview"},h.default.createElement("div",{className:"google-plus-share-preview__content"},h.default.createElement("div",{className:"google-plus-share-preview__header"},h.default.createElement("div",{className:"google-plus-share-preview__profile-picture-part"},h.default.createElement("img",{className:"google-plus-share-preview__profile-picture",src:o})),h.default.createElement("div",{className:"google-plus-share-preview__profile-line-part"},h.default.createElement("div",{className:"google-plus-share-preview__profile-line"},h.default.createElement("a",{className:"google-plus-share-preview__profile-name",href:a},l)))),h.default.createElement("div",{className:"google-plus-share-preview__body"},h.default.createElement("div",{className:"google-plus-share-preview__message"},i),h.default.createElement("div",{className:"google-plus-share-preview__article-summary"},u),h.default.createElement("div",{className:"google-plus-share-preview__article-title"},h.default.createElement("a",{className:"google-plus-share-preview__article-url",href:t},s)),r&&h.default.createElement("div",{className:"google-plus-share-preview__image-wrapper"},h.default.createElement("a",{href:t},h.default.createElement("img",{className:"google-plus-share-preview__image",src:r}))))))}}]),t}(m.PureComponent);y.propTypes={articleUrl:b.default.string,externalProfilePicture:b.default.string,externalProfileUrl:b.default.string,externalName:b.default.string,imageUrl:b.default.string,message:b.default.string},t.default=(0,v.localize)(y)},"./client/components/share/helpers.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.truncateArticleContent=t.firstValid=t.hardTruncation=t.truncatedAtSpace=t.shortEnough=void 0;var n=s("./node_modules/lodash/lodash.js");t.shortEnough=function(e){return function(t){return t.length<=e&&t}},t.truncatedAtSpace=function(e,t){return function(s){var n=s.slice(0,t),o=n.lastIndexOf(" ");return o>e&&o<t&&n.slice(0,o).concat("…")}},t.hardTruncation=function(e){return function(t){return t.slice(0,e).concat("…")}},t.firstValid=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(e){return(0,n.find)(t,function(t){return!1!==t(e)})(e)}},t.truncateArticleContent=function(e,t){if(t.length<=e)return t;var s=t.slice(0,e);if(" "===t[e+1])return t+"…";var n=s.lastIndexOf(" ");return s.slice(0,n).concat("…")}},"./client/components/share/linkedin-share-preview/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedinSharePreview=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),_=s("./node_modules/react/react.js"),b=n(_),v=s("./node_modules/i18n-calypso/index.js"),g=t.LinkedinSharePreview=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.articleUrl,s=e.externalDisplay,n=e.externalProfilePicture,o=e.externalProfileUrl,a=e.imageUrl,l=e.message,r=e.siteDomain;return b.default.createElement("div",{className:"linkedin-share-preview"},b.default.createElement("div",{className:"linkedin-share-preview__content"},b.default.createElement("div",{className:"linkedin-share-preview__header"},b.default.createElement("div",{className:"linkedin-share-preview__profile-picture-part"},b.default.createElement("img",{className:"linkedin-share-preview__profile-picture",src:n})),b.default.createElement("div",{className:"linkedin-share-preview__profile-line-part"},b.default.createElement("div",{className:"linkedin-share-preview__profile-line"},b.default.createElement("a",{className:"linkedin-share-preview__profile-name",href:o},s)))),b.default.createElement("div",{className:"linkedin-share-preview__body"},a&&b.default.createElement("div",{className:"linkedin-share-preview__image-wrapper"},b.default.createElement("a",{href:t},b.default.createElement("img",{className:"linkedin-share-preview__image",src:a}))),b.default.createElement("div",{className:"linkedin-share-preview__message-part"
},b.default.createElement("a",{className:"linkedin-share-preview__message-link",href:t},b.default.createElement("div",{className:"linkedin-share-preview__message"},l),b.default.createElement("div",{className:"linkedin-share-preview__site-url"},r))))))}}]),t}(_.PureComponent);g.PropTypes={articleUrl:h.default.string,externalProfilePicture:h.default.string,externalProfileUrl:h.default.string,imageUrl:h.default.string,message:h.default.string,name:h.default.string,siteDomain:h.default.string},t.default=(0,v.localize)(g)},"./client/components/share/tumblr-share-preview/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TumblrSharePreview=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=s("./node_modules/i18n-calypso/index.js"),b=s("./client/components/share/helpers.js"),v=t.TumblrSharePreview=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.externalProfilePicture,s=e.externalProfileUrl,n=e.externalName,o=e.message,a=e.articleUrl,l=e.articleTitle,r=e.articleContent,i=e.imageUrl,u=e.translate,d=(0,b.truncateArticleContent)(396,r);return h.default.createElement("div",{className:"tumblr-share-preview"},h.default.createElement("div",{className:"tumblr-share-preview__content"},h.default.createElement("div",{className:"tumblr-share-preview__profile-picture-part"},h.default.createElement("img",{className:"tumblr-share-preview__profile-picture",src:t})),h.default.createElement("div",{className:"tumblr-share-preview__content-part"},h.default.createElement("div",{className:"tumblr-share-preview__profile-line"},h.default.createElement("a",{className:"tumblr-share-preview__profile-name",href:s},n),h.default.createElement("span",{className:"tumblr-share-preview__profile-wp"},u("WordPress"))),h.default.createElement("div",{className:"tumblr-share-preview__post-title-part"},h.default.createElement("div",{className:"tumblr-share-preview__post-title"},l)),h.default.createElement("div",{className:"tumblr-share-preview__message"},h.default.createElement("a",{className:"tumblr-share-preview__message-link",href:a},o)),i&&h.default.createElement("div",{className:"tumblr-share-preview__image-wrapper"},h.default.createElement("img",{className:"tumblr-share-preview__image",src:i})),h.default.createElement("div",{className:"tumblr-share-preview__summery-part"},h.default.createElement("blockquote",{className:"tumblr-share-preview__summery"},d)),h.default.createElement("div",{className:"tumblr-share-preview__article-link-line"},h.default.createElement("a",{className:"tumblr-share-preview__article-link",href:a},u("View On WordPress"))))))}}]),t}(m.PureComponent);t.default=(0,_.localize)(v)},"./client/components/share/twitter-share-preview/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TwitterSharePreview=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=t.TwitterSharePreview=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.articleUrl,s=e.externalDisplay,n=e.externalName,o=e.externalProfileURL,a=e.externalProfilePicture,l=e.message,r=e.imageUrl;return h.default.createElement("div",{className:"twitter-share-preview"},h.default.createElement("div",{className:"twitter-share-preview__content"},h.default.createElement("div",{className:"twitter-share-preview__profile-picture-part"},h.default.createElement("img",{className:"twitter-share-preview__profile-picture",src:a})),h.default.createElement("div",{className:"twitter-share-preview__content-part"},h.default.createElement("div",{className:"twitter-share-preview__profile-line"},h.default.createElement("a",{className:"twitter-share-preview__profile-name",href:o},n),h.default.createElement("a",{className:"twitter-share-preview__profile-handle",href:o},s)),h.default.createElement("div",{className:"twitter-share-preview__message"},l),h.default.createElement("div",{className:"twitter-share-preview__article-url-line"},h.default.createElement("a",{className:"twitter-share-preview__article-url",href:t},t)),r&&h.default.createElement("div",{className:"twitter-share-preview__image-wrapper"},h.default.createElement("img",{className:"twitter-share-preview__image",src:r})))))}}]),t}(m.PureComponent);t.default=_},"./client/components/sidebar-navigation/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),_=s("./node_modules/react/react.js"),b=n(_),v=s("./node_modules/react-redux/es/index.js"),g=s("./node_modules/gridicons/build/index.js"),y=n(g),j=s("./client/state/document-head/selectors.js"),E=s("./client/state/ui/layout-focus/actions.js"),x=function(e){function t(e){(0,r.default)(this,t);var s=(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return s.toggleSidebar=s.toggleSidebar.bind(s),s}return(0,f.default)(t,e),(0,u.default)(t,[{key:"toggleSidebar",value:function(e){e.preventDefault(),this.props.setLayoutFocus("sidebar")}},{key:"render",value:function(){return b.default.createElement("header",{className:"current-section"},b.default.createElement("a",{onClick:this.toggleSidebar,className:this.props.linkClassName},b.default.createElement(y.default,{icon:"chevron-left"}),this.props.children,b.default.createElement("div",null,b.default.createElement("p",{className:"current-section__"+this.props.sectionName+"-title"},this.props.sectionTitle),b.default.createElement("h1",{className:"current-section__section-title"},this.props.title))))}}]),t}(b.default.Component);x.propTypes={title:h.default.string,linkClassName:h.default.string,sectionTitle:h.default.string,sectionName:h.default.string.isRequired,setLayoutFocus:h.default.func.isRequired},t.default=(0,v.connect)(function(e){return{title:(0,j.getDocumentHeadTitle)(e)}},{setLayoutFocus:E.setLayoutFocus})(x),e.exports=t.default},"./client/components/tooltip/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/classnames/index.js"),g=n(v),y=s("./client/components/popover/index.jsx"),j=n(y),E=s("./client/lib/viewport/index.js"),x=n(E),P=function(){},C=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){if(!this.props.showOnMobile&&x.default.isMobile())return null;var e=(0,g.default)("popover","tooltip","is-"+this.props.status,"is-"+this.props.position,this.props.className);return h.default.createElement(j.default,{autoPosition:this.props.autoPosition,className:e,rootClassName:this.props.rootClassName,context:this.props.context,id:this.props.id,isVisible:this.props.isVisible,onClose:P,position:this.props.position,showDelay:this.props.showDelay},this.props.children)}}]),t}(m.Component);C.propTypes={autoPosition:b.default.bool,className:b.default.string,id:b.default.string,isVisible:b.default.bool,position:b.default.string,rootClassName:b.default.string,status:b.default.string,showDelay:b.default.number,showOnMobile:b.default.bool},C.defaultProps={showDelay:100,position:"top",showOnMobile:!1},t.default=C,e.exports=t.default},"./client/components/track-input-changes/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/lodash/lodash.js"),g=function(e){function t(){var e,s,n,o;(0,r.default)(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),n.onInputChange=function(){n.inputEdited=!0},n.onInputBlur=function(e){n.inputEdited&&(n.props.onNewValue(e),n.inputEdited=!1)},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.inputEdited=!1}},{key:"render",value:function(){var e=this,t=h.default.Children.only(this.props.children),s=(0,v.assign)({},t.props,{onChange:function(s){"function"==typeof t.props.onChange&&t.props.onChange.call(t,s),e.onInputChange(s)},onBlur:function(s){"function"==typeof t.props.onBlur&&t.props.onBlur.call(t,s),e.onInputBlur(s)}});return h.default.cloneElement(t,s)}}]),t}(m.Component);g.displayName="TrackInputChanges",g.propTypes={onNewValue:b.default.func},g.defaultProps={onNewValue:v.noop},t.default=g,e.exports=t.default},"./client/lib/analytics/page-view-tracker/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PageViewTracker=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/debug/browser.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/react/react.js"),g=n(v),y=s("./node_modules/lodash/lodash.js"),j=s("./node_modules/react-redux/es/index.js"),E=s("./client/state/analytics/actions.js"),x=(0,h.default)("calypso:analytics:PageViewTracker"),P=t.PageViewTracker=function(e){function t(){var e,s,n,o;(0,r.default)(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),n.state={timer:null},n.queuePageView=function(){var e=n.props,t=e.delay,s=void 0===t?0:t,o=e.path,a=e.recorder,l=void 0===a?y.noop:a,r=e.title;if(x('Queuing Page View: "'+r+'" at "'+o+'" with '+s+"ms delay"),!n.state.timer)return s?void n.setState({timer:setTimeout(function(){return l(o,r)},s)}):l(o,r)},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){x("Component has mounted."),this.queuePageView()}},{key:"componentWillUnmount",value:function(){x("Component has unmounted."),clearTimeout(this.state.timer)}},{key:"render",value:function(){return null}}]),t}(g.default.Component);P.displayName="PageViewTracker",P.propTypes={delay:b.default.number,path:b.default.string.isRequired,recorder:b.default.func,title:b.default.string.isRequired};var C=function(e){return{recorder:(0,y.flowRight)(e,E.recordPageView)}};t.default=(0,j.connect)(null,C)(P)},"./client/lib/build-url/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var s=l.default.parse(e,!0);return t?s.query.s=t:delete s.query.s,s=(0,o.pick)(s,"pathname","hash","query"),l.default.format(s).replace(/\%20/g,"+")};var o=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/url/url.js"),l=n(a);e.exports=t.default},"./client/lib/mixins/url-search/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/debug/browser.js"),a=n(o),l=s("./node_modules/page/index.js"),r=n(l),i=s("./client/lib/build-url/index.js"),u=n(i),d=(0,a.default)("calypso:url-search");t.default={getInitialState:function(){return{searchOpen:!1}},componentWillReceiveProps:function(e){e.search||this.setState({searchOpen:!1})},doSearch:function(e){var t;return this.setState({searchOpen:!1!==e}),this.onSearch?void this.onSearch(e):(t=(0,u.default)(window.location.href,e),d("search posts for:",e),void(this.props.search&&e?(d("replacing URL: "+t),r.default.replace(t)):(d("setting URL: "+t),(0,r.default)(t))))},getSearchOpen:function(){return this.state.searchOpen!==!1||this.props.search}},e.exports=t.default},"./client/lib/posts/actions.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,s){var n,o=g.default.get();("string"==typeof e||Array.isArray(e))&&(e=(0,c.fromPairs)([].concat(e).map(function(e){return[e,t]}))),n=(o.metadata||[]).filter(function(t){return!e.hasOwnProperty(t.key)}),(0,i.default)(e).forEach(function(t){var o={key:t,operation:s};"delete"!==s&&(o.value=e[t]),n.push(o)}),T.default.handleViewAction({type:"EDIT_POST",post:{metadata:n}})}function a(e){return e=(0,c.clone)(e),e=(0,M.normalizeTermsForApi)(e),e.author&&(e.author=e.author.ID),e}Object.defineProperty(t,"__esModule",{value:!0});var l,r=s("./node_modules/babel-runtime/core-js/object/keys.js"),i=n(r),u=s("./node_modules/store/store.js"),d=n(u),c=s("./node_modules/lodash/lodash.js"),p=s("./node_modules/debug/browser.js"),f=n(p),m=s("./client/lib/wp/browser.js"),h=n(m),_=s("./client/lib/posts/posts-store.js"),b=n(_),v=s("./client/lib/posts/post-edit-store.js"),g=n(v),y=s("./client/lib/posts/post-list-store-factory.js"),j=n(y),E=s("./client/lib/preferences/store.js"),x=n(E),P=s("./client/lib/sites-list/index.js"),C=n(P),S=s("./client/lib/posts/utils.js"),I=n(S),k=s("./client/lib/version-compare/index.js"),w=n(k),N=s("./client/dispatcher/index.js"),T=n(N),D=s("./client/lib/posts/stats.js"),M=s("./client/state/posts/utils.js"),O=(0,C.default)(),A=(0,f.default)("calypso:posts");l={startEditingNew:function(e,t){var s;t=t||{},s={type:"DRAFT_NEW_POST",siteId:e,postType:t.type||"post",title:t.title,content:t.content},T.default.handleViewAction(s)},startEditingExisting:function(e,t){var s,n=g.default.get();e&&(n&&n.site_ID===e&&n.ID===t||(T.default.handleViewAction({type:"START_EDITING_POST",siteId:e,postId:t}),s=h.default.site(e).post(t),s.get({context:"edit",meta:"autosave"},function(e,t){T.default.handleServerAction({type:"RECEIVE_POST_TO_EDIT",error:e,post:t})})))},stopEditing:function(){T.default.handleViewAction({type:"STOP_EDITING_POST"})},autosave:function(e){var t,s=g.default.get(),n=g.default.getSavedPost(),o=h.default.undocumented().site(s.site_ID);if(e=e||function(){},!g.default.isDirty())return e(new Error("NOT_DIRTY"));if(d.default.set("wpcom-autosave:"+s.site_ID+":"+s.ID,s),I.default.isPublished(n)||I.default.isPublished(s)){if(t=O.getSite(s.site_ID),!s.ID||!t||t.jetpack&&(0,w.default)(t.options.jetpack_version,"3.7.0-dev","<"))return e(new Error("NO_AUTOSAVE"));T.default.handleViewAction({type:"POST_AUTOSAVE",post:s}),o.postAutosave(s.ID,{content:s.content,title:s.title,excerpt:s.excerpt},function(t,s){T.default.handleServerAction({type:"RECEIVE_POST_AUTOSAVE",error:t,autosave:s}),e(t,s)})}else l.saveEdited(null,null,e,{recordSaveEvent:!1,autosave:!0})},blockSave:function(e){T.default.handleViewAction({type:"BLOCK_EDIT_POST_SAVE",key:e})},unblockSave:function(e){T.default.handleViewAction({type:"UNBLOCK_EDIT_POST_SAVE",key:e})},edit:function(e){T.default.handleViewAction({type:"EDIT_POST",post:e})},editRawContent:function(e){T.default.handleViewAction({type:"EDIT_POST_RAW_CONTENT",content:e})},resetRawContent:function(){T.default.handleViewAction({type:"RESET_POST_RAW_CONTENT"})},updateMetadata:function(e,t){o(e,t,"update")},deleteMetadata:function(e){o(e,null,"delete")},saveEdited:function(e,t,s,n){var o,l,r,u,d,p,f;return T.default.handleViewAction({type:"EDIT_POST",post:e}),o=g.default.get(),g.default.hasContent()?g.default.isSaveBlocked()?void(0,c.defer)(s,new Error("SAVE_BLOCKED"),o):(u=g.default.getChangedAttributes(),(0,i.default)(u).length?(u=a(u),d=g.default.getRawContent(),p=x.default.get("editor-mode"),f=!o.ID,T.default.handleViewAction({type:"EDIT_POST_SAVE"}),l=h.default.site(o.site_ID).post(o.ID),r={context:"edit",apiVersion:"1.2"},n&&n.autosave&&(r.autosave=n.autosave),n&&n.recordSaveEvent===!1||(0,D.recordSaveEvent)(t),(u&&"future"===u.status&&I.default.isFutureDated(o)||u&&"publish"===u.status&&I.default.isBackDated(o))&&(u=(0,c.assign)({},u,{status:"publish",date:o.date})),void l[f?"add":"update"](r,u,function(e,t){var n,o;o=x.default.get("editor-mode"),e||(n=b.default.get(t.global_ID)),T.default.handleServerAction({type:"RECEIVE_POST_BEING_EDITED",error:e,rawContent:p===o?d:null,isNew:f,original:n,post:t}),s(e,t)})):void(0,c.defer)(s,new Error("NO_CHANGE"),o)):void(0,c.defer)(s,new Error("NO_CONTENT"),o)},update:function(e,t,s){var n=h.default.site(e.site_ID).post(e.ID);n.update(t,l.receiveUpdate.bind(null,s))},trash:function(e,t){var s=h.default.site(e.site_ID).post(e.ID);s.delete(l.receiveUpdate.bind(null,t))},restore:function(e,t){var s=h.default.site(e.site_ID).post(e.ID);s.restore(l.receiveUpdate.bind(null,t))},queryPosts:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";T.default.handleViewAction({type:"QUERY_POSTS",options:e,postListStoreId:t})},fetchNextPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=(0,j.default)(e);if(!t.isLastPage()&&!t.isFetchingNextPage()){T.default.handleViewAction({type:"FETCH_NEXT_POSTS_PAGE",postListStoreId:e});var s=t.getID(),n=t.getNextPageParams(),o=t.getSiteId();o?h.default.site(o).postsList(n,l.receivePage.bind(null,s,e)):h.default.me().postsList(n,l.receivePage.bind(null,s,e))}},receivePage:function(e,t,s,n){T.default.handleServerAction({type:"RECEIVE_POSTS_PAGE",id:e,postListStoreId:t,error:s,data:n})},fetchUpdated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=(0,j.default)(e);if(!t.isFetchingNextPage()){T.default.handleViewAction({type:"FETCH_UPDATED_POSTS",postListStoreId:e});var s=t.getID(),n=t.getUpdatesParams(),o=t.getSiteId();o?(A("Fetching posts that have been updated for %s since %s %o",o,n.modified_after,n),h.default.site(o).postsList(n,l.receiveUpdated.bind(null,s,e))):(A("Fetching posts that have been updated since %s %o",n.modified_after,n),h.default.me().postsList(n,l.receiveUpdated.bind(null,s,e)))}},receiveUpdated:function(e,t,s,n){T.default.handleServerAction({type:"RECEIVE_UPDATED_POSTS",id:e,postListStoreId:t,error:s,data:n})},receiveUpdate:function(e,t,s){var n;t||(n=b.default.get(s.global_ID)),T.default.handleServerAction({type:"RECEIVE_UPDATED_POST",error:t,original:n,post:s}),e(t,s)},fetchCounts:function(e,t){T.default.handleViewAction({type:"FETCH_POST_COUNTS",siteId:e}),h.default.undocumented().site(e).postCounts(t,function(t,s){T.default.handleServerAction({type:"RECEIVE_POST_COUNTS",error:t,data:s,siteId:e})})}},t.default=l,e.exports=t.default},"./client/lib/posts/post-list-cache-store.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(new Date).getTime(),s=e.timeSaved;return t-s>w}function a(e){return i(e)?I[e].list:void(I[e]&&I[e].dirty&&(D("delete cached list %o",e),delete I[e],delete k[e]))}function l(e){var t=u(e.query);I[t]&&I[t].dirty||(I[t]={timeStored:(new Date).getTime(),dirty:!1,list:e,listKey:t})}function r(e,t){var s=N.getSite(e.site_ID),n=[s.slug,s.ID,!1],o=[e.status,t],a=void 0,l=void 0,r=void 0,i=void 0;for(l in I)I.hasOwnProperty(l)&&(r=I[l],i=r.list,i.query.type===e.type&&-1!==n.indexOf(i.query.siteId)&&(a=i.query.status.split(","),0!==(0,g.intersection)(a,o).length&&(r.dirty=!0)));S.cacheIndex.clearRecordsByParamFilter(function(e){var t=n.slice(0,-1),s=["/me/posts"].concat((0,v.default)(t.map(function(e){return"/sites/"+e+"/posts"}))),a=e.query&&e.query.status?e.query.status.split(","):[],l=(0,g.intersection)(a,o);return s.indexOf(e.path)!==-1&&!!l.length})}function i(e){return I[e]&&!o(I[e])&&!I[e].dirty}function u(e){var t=[],s=(0,_.default)(e).sort();return s.forEach(function(s){t.push(s+"-"+e[s])}),t.join(":")}function d(e,t,s){D("setCanonicalList %o %o (%o)",e,t,s),k[e]=k[e]||{},k[e][t]=s}function c(e,t){D("getCanonicalList %o %o",e,t);var s=k[e];if(!s||"object"!==("undefined"==typeof s?"undefined":(0,m.default)(s)))return!1;var n=(0,_.default)(s);return n[0]!==t?(delete I[e],delete k[e],!1):s[t]}function p(e,t){D("deleteCanonicalList %o %o",e,t);var s=k[e];s&&s[t]&&delete s[t]}Object.defineProperty(t,"__esModule",{value:!0});var f=s("./node_modules/babel-runtime/helpers/typeof.js"),m=n(f),h=s("./node_modules/babel-runtime/core-js/object/keys.js"),_=n(h),b=s("./node_modules/babel-runtime/helpers/toConsumableArray.js"),v=n(b);t.getCacheKey=u,t.setCanonicalList=d,t.getCanonicalList=c,t.deleteCanonicalList=p;var g=s("./node_modules/lodash/lodash.js"),y=s("./node_modules/debug/browser.js"),j=n(y),E=s("./client/lib/sites-list/index.js"),x=n(E),P=s("./client/dispatcher/index.js"),C=n(P),S=s("./client/lib/wp/sync-handler/cache-index.js"),I={},k={},w=3e5,N=(0,x.default)(),T={get:a,_reset:function(){I={}}},D=(0,j.default)("calypso:posts-list:cache");T.dispatchToken=C.default.register(function(e){var t=e.action,n=s("./client/lib/posts/post-list-store-factory.js")();switch(C.default.waitFor([n.dispatchToken]),t.type){case"FETCH_NEXT_POSTS_PAGE":l(n.get());break;case"RECEIVE_POSTS_PAGE":l(n.get());break;case"RECEIVE_UPDATED_POSTS":l(n.get());break;case"RECEIVE_UPDATED_POST":case"RECEIVE_POST_BEING_EDITED":t.post&&(r(t.post,t.original?t.original.status:null),l(n.get()))}}),t.default=T},"./client/lib/posts/post-list-store-factory.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e||"default";return r[t]||(r[t]=new l.default(t)),r[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=s("./client/lib/posts/post-list-store.js"),l=n(a),r={};o._reset=function(){r={}},e.exports=t.default},"./client/lib/posts/post-list-store.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(e.length<3||t.length<2)return[];var s=e.indexOf(t[0]);if(s===-1)return o(e,t.slice(1));var n=e.indexOf(t.slice(-1)[0]);if(n===-1)return o(e,t.slice(0,-1));var a=e.slice(s,n+1);return(0,g.difference)(a,t)}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=n(a),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(r),u=s("./node_modules/babel-runtime/helpers/createClass.js"),d=n(u),c=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=n(c),f=s("./node_modules/babel-runtime/helpers/inherits.js"),m=n(f),h=s("./node_modules/babel-runtime/helpers/typeof.js"),_=n(h);t.getRemovedPosts=o,t.default=function(e){function t(e){var t=(0,g.assign)({},w,e);"draft,pending"===t.status&&(t.orderBy="modified");var s=(0,I.getCacheKey)(t),n=k.default.get(s);n?u=n:(u={id:T,postIds:[],errors:[],page:0,isLastPage:!1,isFetchingNextPage:!1,isFetchingUpdated:!1,query:t,listKey:s},T++)}function s(e){return(0,g.transform)(e,function(e,t,s){null!=t&&(e[s]=t)},{})}function n(){var e=u.query.orderBy;u.postIds.sort(function(t,s){var n=S.default.get(t),o=S.default.get(s),a=n[e],l=o[e];return a===l?n.title===o.title?0:n.title>o.title?1:-1:a>l?-1:1})}function a(e,t,s){if(t||!s||"object"!==("undefined"==typeof s?"undefined":(0,_.default)(s)))return t=t||{message:"Error fetching PostsList: empty data response"},N("Error fetching PostsList from api:",t),t.timestamp=Date.now(),void u.errors.push(t);var a=s.found,l=s.meta,r=s.posts,i=s.__sync,d=i||{},c=d.responseSource,p=d.requestKey;if(e===u.id){u.isFetchingNextPage=!1,u.nextPageHandle=l&&l.next_page,u.nextPageHandle&&a||(u.isLastPage=!0);var f=r.map(function(e){return e.global_ID}),m=u.postIds.slice(0);if("local"===c&&p)(0,I.setCanonicalList)(u.listKey,p,m);else{var h=(0,I.getCanonicalList)(u.listKey,p);h&&(N("canonicalList found (%o)",h),m=h,(0,I.deleteCanonicalList)(u.listKey,p))}var b=o(m,f);b.length&&(N("removePosts (%o)",b),m=(0,g.difference)(m,b));var v=(0,g.difference)(f,m);v.length&&(N("newPosts (%o)",v),m=m.concat(v),u.page++),u.postIds=m,n()}}function r(e,t,s){var o=void 0,a=void 0,l=void 0;return t?void N("An error occurred while fetching updated posts %o",t):void(e===u.id&&s.posts.length&&(o=s.posts,N("Fetched updated posts:",o),a=o.map(function(e){return e.global_ID}),l=(0,g.difference)(a,u.postIds),l.length&&(u.postIds=u.postIds.concat(l),n())))}if(!e)throw new Error("must supply a post-list-store id");var u={postIds:[],errors:[],query:(0,g.clone)(w),page:0,nextPageHandle:!1,isLastPage:!1,isFetchingNextPage:!1,isFetchingUpdated:!1};return new(function(n){function o(){(0,i.default)(this,o);var t=(0,p.default)(this,(o.__proto__||(0,l.default)(o)).call(this));return t.id=e,t.dispatchToken=E.default.register(t.handlePayload.bind(t)),t}return(0,m.default)(o,n),(0,d.default)(o,[{key:"get",value:function(){return u}},{key:"getID",value:function(){return u.id}},{key:"getSiteId",value:function(){return u.query.siteId}},{key:"getAll",value:function(){return u.postIds.map(function(e){return S.default.get(e)})}},{key:"getTree",value:function(){var e=[];return u.postIds.forEach(function(t){var s=(0,g.clone)(S.default.get(t));s.parent=s.parent?s.parent.ID:0,e.push(s)}),(0,P.default)("ID").treeify(e)}},{key:"getPost",value:function(e){if(u.postIds.indexOf(e)>-1)return S.default.get(e)}},{key:"getPage",value:function(){return u.page}},{key:"off",value:function(e,t){this.removeListener(e,t)}},{key:"isLastPage",value:function(){return u.isLastPage}},{key:"isFetchingNextPage",value:function(){return u.isFetchingNextPage}},{key:"hasRecentError",value:function(){var e=30,t=Date.now();return(0,g.some)(u.errors,function(s){return t-s.timestamp<1e3*e})}},{key:"getNextPageParams",value:function(){var e={},t=u.query;return e.status=t.status,e.order_by=t.orderBy,e.order=t.order,e.author=t.author,e.number=t.perPage,e.type=t.type,e.page_handle=u.nextPageHandle,e.exclude_tree=t.exclude_tree,e.number=t.number,e.before=t.before,e.after=t.after,t.search&&(e.search=t.search),t.category&&(e.category=t.category),t.tag&&(e.tag=t.tag),e.siteId||(e.site_visibility="visible"),t.meta&&(e.meta=t.meta),s(e)}},{key:"getUpdatesParams",value:function(){var e={},t=u.query;return e.status=t.status,e.author=t.author,e.type=t.type,t.search&&(e.search=t.search),t.category&&(e.category=t.category),t.tag&&(e.tag=t.tag),e.siteId||(e.site_visibility="visible"),t.meta&&(e.meta=t.meta),u.postIds.length&&(e.modified_after=(0,g.maxBy)(this.getAll(),function(e){return new Date(e.modified).getTime()}).modified,"modified"===t.orderBy||u.isLastPage||(e.after=this.getPost((0,g.last)(u.postIds)).date)),s(e)}},{key:"handlePayload",value:function(e){var s=e.action;if(!s.postListStoreId||s.postListStoreId===this.id||"RECEIVE_UPDATED_POST"===s.type)switch(E.default.waitFor([S.default.dispatchToken]),s.type){case"QUERY_POSTS":N("QUERY_POSTS",s),t(s.options),this.emit("change");break;case"FETCH_NEXT_POSTS_PAGE":N("FETCH_NEXT_POSTS_PAGE",s),u.isFetchingNextPage=!0,this.emit("change");break;case"RECEIVE_POSTS_PAGE":N("receivePage",s),a(s.id,s.error,s.data),this.emit("change");break;case"RECEIVE_UPDATED_POSTS":r(s.id,s.error,s.data),this.emit("change");break;case"RECEIVE_UPDATED_POST":s.post&&u.postIds.indexOf(s.post.global_ID)>-1&&this.emit("change")}}}]),o}(y.EventEmitter))};var b=s("./node_modules/debug/browser.js"),v=n(b),g=s("./node_modules/lodash/lodash.js"),y=s("./node_modules/events/events.js"),j=s("./client/dispatcher/index.js"),E=n(j),x=s("./client/lib/tree-convert/index.js"),P=n(x),C=s("./client/lib/posts/posts-store.js"),S=n(C),I=s("./client/lib/posts/post-list-cache-store.js"),k=n(I),w={siteId:!1,type:"post",status:"publish",orderBy:"date",order:"DESC",author:!1,search:!1,category:!1,tag:!1,perPage:20},N=(0,v.default)("calypso:posts-list"),T=0},"./client/lib/posts/posts-store.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=r.get(e.global_ID);t&&(0,i.isEqual)(e,t)||(_[e.global_ID]=e)}function a(e,t){var s=t||{},n=s.global_ID;if(!n)return void h("global_ID is required for a post",t);var a=r.get(n);return a&&"local"===e?void h("existing record (%o), do not overwrite with local response",a):void p.default.normalizeSync(t,function(e,t){o(t)})}function l(e,t){var s=a.bind(null,t);e.forEach(s)}Object.defineProperty(t,"__esModule",{value:!0});var r,i=s("./node_modules/lodash/lodash.js"),u=s("./node_modules/debug/browser.js"),d=n(u),c=s("./client/lib/posts/utils.js"),p=n(c),f=s("./client/dispatcher/index.js"),m=n(f),h=(0,d.default)("calypso:posts"),_={};r={get:function(e){return _[e]}},r.dispatchToken=m.default.register(function(e){var t=e.action;switch(t.type){case"RECEIVE_POSTS_PAGE":case"RECEIVE_UPDATED_POSTS":if(!t.error&&t.data.posts){var s=t.data.__sync&&t.data.__sync.responseSource;l(t.data.posts,s)}break;case"RECEIVE_UPDATED_POST":t.error||a("server",t.post)}}),t.default=r,e.exports=t.default},"./client/lib/posts/stats.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var s=void 0,n=P.getSelectedSite();_.default.mc.bumpStat("editor_usage",e),n&&(s=n.jetpack?"jetpack":"wpcom",_.default.mc.bumpStat("editor_usage_"+s,e),t&&_.default.mc.bumpStat("editor_cpt_usage_"+s,t+"_"+e))}function a(e){_.default.mc.bumpStat("editor_actions",e)}function l(e,t,s){_.default.ga.recordEvent("Editor",e,t,s)}function r(e){var t=v.default.get(),s=v.default.getSavedPost();if(t&&s){var n=s.status,r=t.status,i="calypso_editor_"+t.type+"_",u=!1,d=!1,c=!1,p=null;t.ID||y.default.isPublished(t)?"draft"===r?i+="savedraft":n===r?(c="edit",i+="update"):"publish"===r||"private"===r?(i+="publish",c="new",e&&e.isConfirmationSidebarEnabled&&(p="confirmation_sidebar")):"pending"===r?i+="pending":"future"===r&&(i+="schedule",u="status-schedule",d="Scheduled Post",e&&e.isConfirmationSidebarEnabled&&(p="confirmation_sidebar")):i+="savedraft",c&&o(c,t.type),u&&a(u),d&&l(d),x("recordSaveEvent %s currentStatus=%s nextStatus=%s",i,n,r),_.default.tracks.recordEvent(i,{post_id:t.ID,post_type:t.type,visibility:y.default.getVisibility(t),current_status:n,next_status:r,context:p
})}}function i(e){S("editor-button","calypso_"+e),_.default.ga.recordEvent("Editor","Clicked TinyMCE Button",e),x("TinyMCE button click",e,"mc=",C)}function u(e){S("html-editor-button","calypso_"+e),_.default.ga.recordEvent("Editor","Clicked TinyMCE HTML Button",e),x("TinyMCE HTML button click",e,"mc=",C)}Object.defineProperty(t,"__esModule",{value:!0}),t.recordStat=a,t.recordEvent=l,t.recordSaveEvent=r,t.recordTinyMCEButtonClick=i,t.recordTinyMCEHTMLButtonClick=u;var d=s("./node_modules/debug/browser.js"),c=n(d),p=s("./node_modules/lodash/lodash.js"),f=s("./client/config/index.js"),m=n(f),h=s("./client/lib/analytics/index.js"),_=n(h),b=s("./client/lib/posts/post-edit-store.js"),v=n(b),g=s("./client/lib/posts/utils.js"),y=n(g),j=s("./client/lib/sites-list/index.js"),E=n(j),x=(0,c.default)("calypso:posts:stats"),P=new E.default,C=Math.random()<=.01||"development"===(0,m.default)("env"),S=C?_.default.mc.bumpStat:p.noop},"./client/lib/tree-convert/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return this instanceof o?void(this.key=e||"id"):new o(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./client/lib/tree-convert/tree-traverser.js"),l=n(a);o.prototype.treeify=function(e){var t=[],s={};return e.forEach(function(t,n){s[e[n][this.key]]=t},this),e.forEach(function(e){var n;e.parent>0&&s[e.parent]?(n=s[e.parent],n.items=n.items||[],n.items.push(e)):(e.parent=0,t.push(e))}),this.sortItems(t),this.removeOrderProperty(t),t},o.prototype.untreeify=function(e,t){return t=t||[],e.forEach(function(e,s){e.items&&o.prototype.untreeify(e.items,t),e.order=s+1,t.push(e)}),t},o.prototype.sortItems=function(e){var t={};t.items=e,l.default.traverse(t,[function(e){return e.items&&e.items.sort(function(e,t){return e.order-t.order}),e}])},o.prototype.removeOrderProperty=function(e){var t={};t.items=e,l.default.traverse(t,[function(e){return e.items&&e.items.forEach(function(e){delete e.order}),e}])},t.default=o,e.exports=t.default},"./client/lib/tree-convert/tree-traverser.js":function(e,t,s){"use strict";function n(e,t){return a(t,function(t){return(0,d.some)(t.items,{id:e.id})})||t}function o(e,t,s){return t.forEach(function(t){e=t(e,s)},this),e.items&&(e.items=e.items.map(function(e){return o(e,t,s)})),e}function a(e,t){return t(e)?e:e.items?r(e.items,function(e){return a(e,t)}):void 0}function l(e,t,s){var n;if(e.items)for(n=0;n<e.items.length;n++){if(s(e.items[n]))return void(e.items[n]=t);l(e.items[n],t,s)}}function r(e,t){var s,n,o=e.length;for(s=0;s<o;s++)if(n=t(e[s]))return n}function i(e,t){return function(s){return s.id===t&&(s.items=s.items||[],s.items.push(e)),s}}function u(e,t,s){return function(n){var o,a="before"===s?0:1;return~(o=(0,d.findIndex)(n.items,{id:t}))&&n.items.splice(o+a,0,e),n}}Object.defineProperty(t,"__esModule",{value:!0});var d=s("./node_modules/lodash/lodash.js");t.default={traverse:function(e,t){return o(e,t,e)},parent:n,find:a,replaceItem:l,remover:function(e){return function(t){var s;return~(s=(0,d.findIndex)(t.items,{id:e}))&&t.items.splice(s,1),t}},inserter:function(e,t,s){var n="child"===s?i:u;return n(e,t,s)}},e.exports=t.default},"./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentNavigationTab=void 0;var o=s("./node_modules/react/react.js"),a=n(o),l=s("./node_modules/classnames/index.js"),r=n(l),i=t.CommentNavigationTab=function(e){var t=e.children,s=e.className,n=e.onClick;return a.default.createElement("div",{className:(0,r.default)("comment-navigation__tab",s),onClick:n},t)};t.default=i},"./client/my-sites/post-type-filter/author-segmented.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/react/react.js"),a=n(o),l=s("./node_modules/prop-types/index.js"),r=n(l),i=s("./node_modules/react-redux/es/index.js"),u=s("./node_modules/lodash/lodash.js"),d=s("./node_modules/i18n-calypso/index.js"),c=s("./client/components/gravatar/index.jsx"),p=n(c),f=s("./client/components/section-nav/item.jsx"),m=n(f),h=s("./client/components/section-nav/segmented.jsx"),_=n(h),b=s("./client/state/current-user/selectors.js"),v=s("./client/state/sites/selectors.js"),g=function(e){var t=e.author,s=e.siteSlug,n=e.statusSlug,o=e.translate,l=e.user,r={me:o("Me",{context:"Filter label for posts list"}),everyone:o("Everyone",{context:"Filter label for posts list"})};return a.default.createElement(_.default,{label:o("Author",{context:"Filter group label for segmented"})},(0,u.map)(r,function(e,o){var r="me"===o,i=(0,u.compact)([r?"/posts/my":"/posts",n,s]).join("/");return a.default.createElement(m.default,{key:o,path:i,selected:r===!!t},e,r&&a.default.createElement(p.default,{size:16,user:l}))}))};g.propTypes={author:r.default.number,siteId:r.default.number,statusSlug:r.default.string,siteSlug:r.default.string,translate:r.default.func.isRequired,user:r.default.object},t.default=(0,i.connect)(function(e,t){var s=t.siteId;return{siteSlug:(0,v.getSiteSlug)(e,s),user:(0,b.getCurrentUser)(e)}})((0,d.localize)(g)),e.exports=t.default},"./client/my-sites/post-type-filter/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/react/react.js"),r=n(l),i=s("./node_modules/create-react-class/index.js"),u=n(i),d=s("./node_modules/prop-types/index.js"),c=n(d),p=s("./node_modules/classnames/index.js"),f=n(p),m=s("./node_modules/i18n-calypso/index.js"),h=s("./node_modules/react-redux/es/index.js"),_=s("./node_modules/lodash/lodash.js"),b=s("./client/state/selectors/are-all-sites-single-user.js"),v=n(b),g=s("./client/state/ui/selectors.js"),y=s("./client/state/sites/selectors.js"),j=s("./client/state/posts/counts/selectors.js"),E=s("./client/state/ui/post-type-list/selectors.js"),x=s("./client/state/ui/post-type-list/actions.js"),P=s("./client/lib/route/path.js"),C=s("./client/config/index.js"),S=s("./client/lib/mixins/url-search/index.js"),I=n(S),k=s("./client/components/data/query-post-counts/index.jsx"),w=n(k),N=s("./client/components/section-nav/index.jsx"),T=n(N),D=s("./client/components/section-nav/tabs.jsx"),M=n(D),O=s("./client/components/section-nav/item.jsx"),A=n(O),R=s("./client/components/search/index.jsx"),U=n(R),L=s("./client/my-sites/post-type-filter/author-segmented.jsx"),q=n(L),z=s("./client/components/button/index.jsx"),F=n(z),V=s("./node_modules/gridicons/build/index.js"),B=n(V),H=(0,u.default)({displayName:"PostTypeFilter",mixins:[I.default],propTypes:{authorToggleHidden:c.default.bool,siteId:c.default.number,query:c.default.shape({author:c.default.number,status:c.default.string,type:c.default.string.isRequired}),jetpack:c.default.bool,siteSlug:c.default.string,counts:c.default.object},getNavItems:function(){var e=this,t=this.props,s=t.query,n=t.siteId,o=t.siteSlug,a=t.jetpack,l=t.counts;return(0,_.reduce)(l,function(t,l,r){if(n&&(!a||"post"===s.type)&&!l&&!(0,_.includes)(["publish","draft"],r))return t;var i=void 0,u=void 0;switch(r){case"publish":i=e.props.translate("Published",{context:"Filter label for posts list"});break;case"draft":i=e.props.translate("Drafts",{context:"Filter label for posts list"}),u="drafts";break;case"future":i=e.props.translate("Scheduled",{context:"Filter label for posts list"}),u="scheduled";break;case"trash":i=e.props.translate("Trashed",{context:"Filter label for posts list"}),u="trashed"}return t.concat({key:"filter-"+r,count:!n||a&&"post"!==s.type?null:l,path:(0,_.compact)(["post"===s.type?"/posts":"/types/"+s.type,"post"===s.type&&s.author&&"my",u,o]).join("/"),selected:(0,P.mapPostStatus)(u)===s.status,children:i})},[])},renderMultiSelectButton:function(){if(!(0,C.isEnabled)("posts/post-type-list/bulk-edit"))return null;var e=this.props,t=e.translate,s=e.isMultiSelectEnabled,n=e.toggleMultiSelect,o=(0,f.default)("post-type-filter__multi-select-button",{"is-enabled":s});return r.default.createElement(F.default,{className:o,borderless:!0,onClick:n},r.default.createElement(B.default,{icon:"list-checkmark"}),r.default.createElement("span",{className:"post-type-filter__multi-select-button-text"},t("Select")))},render:function(){var e=this.props,t=e.authorToggleHidden,s=e.jetpack,n=e.query,o=e.siteId,a=e.statusSlug;if(!n)return null;var l=this.getNavItems(),i=(0,_.find)(l,"selected")||{},u={me:this.props.translate("Me",{context:"Filter label for posts list"}),everyone:this.props.translate("Everyone",{context:"Filter label for posts list"})};return r.default.createElement("div",{className:"post-type-filter"},o&&!1===s&&r.default.createElement(w.default,{siteId:o,type:n.type}),r.default.createElement(T.default,{selectedText:r.default.createElement("span",null,r.default.createElement("span",null,i.children),!t&&r.default.createElement("small",null,n.author?u.me:u.everyone)),selectedCount:i.count},r.default.createElement(M.default,{label:this.props.translate("Status",{context:"Filter group label for tabs"}),selectedText:i.children,selectedCount:i.count},l.map(function(e){return r.default.createElement(A.default,e)})),!t&&r.default.createElement(q.default,{author:n.author,siteId:o,statusSlug:a}),r.default.createElement(U.default,{pinned:!0,fitsContainer:!0,onSearch:this.doSearch,placeholder:this.props.translate("Search…"),delaySearch:!0}),this.renderMultiSelectButton()))}});t.default=(0,h.connect)(function(e,t){var s=t.query,n=(0,g.getSelectedSiteId)(e),o=!1;o=!s||"post"!==s.type||(n?(0,y.isSingleUserSite)(e,n)||(0,y.isJetpackSite)(e,n):(0,v.default)(e));var l={siteId:n,authorToggleHidden:o,jetpack:(0,y.isJetpackSite)(e,n),siteSlug:(0,y.getSiteSlug)(e,n),isMultiSelectEnabled:(0,E.isMultiSelectEnabled)(e)};return s?(0,a.default)({},l,{counts:s.author?(0,j.getNormalizedMyPostCounts)(e,n,s.type):(0,j.getNormalizedPostCounts)(e,n,s.type)}):l},{toggleMultiSelect:x.toggleMultiSelect})((0,m.localize)(H)),e.exports=t.default},"./client/my-sites/post-type-list/empty-content.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.siteId,s=e.translate,n=e.status,o=e.typeObject,a=e.editPath,l=void 0,r=void 0;return"draft"===n?l=s("You don't have any drafts."):o&&(l=o.labels.not_found),o&&(r=o.labels.add_new_item),i.default.createElement("div",null,t&&i.default.createElement(h.default,{siteId:t}),i.default.createElement(b.default,{title:l,action:r,actionURL:a,illustration:"/calypso/images/pages/illustration-pages.svg",illustrationWidth:150}))}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/prop-types/index.js"),l=n(a),r=s("./node_modules/react/react.js"),i=n(r),u=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/i18n-calypso/index.js"),c=s("./client/state/post-types/selectors.js"),p=s("./client/state/ui/selectors.js"),f=s("./client/state/ui/editor/selectors.js"),m=s("./client/components/data/query-post-types/index.jsx"),h=n(m),_=s("./client/components/empty-content/index.jsx"),b=n(_);o.propTypes={siteId:l.default.number,translate:l.default.func,type:l.default.string,status:l.default.string,typeObject:l.default.object,editPath:l.default.string},t.default=(0,u.connect)(function(e,t){var s=(0,p.getSelectedSiteId)(e);return{siteId:s,typeObject:(0,c.getPostType)(e,s,t.type),editPath:(0,f.getEditorPath)(e,s,null,t.type)}})((0,d.localize)(o)),e.exports=t.default},"./client/my-sites/post-type-list/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/react/react.js"),g=n(v),y=s("./node_modules/classnames/index.js"),j=n(y),E=s("./node_modules/react-redux/es/index.js"),x=s("./node_modules/lodash/lodash.js"),P=s("./client/components/data/query-posts/index.jsx"),C=n(P),S=s("./client/lib/query-manager/post/constants.js"),I=s("./client/state/ui/selectors.js"),k=s("./client/state/posts/selectors.js"),w=s("./client/components/list-end/index.js"),N=n(w),T=s("./client/blocks/post-item/index.jsx"),D=n(T),M=s("./client/my-sites/post-type-list/empty-content.jsx"),O=n(M),A=s("./client/my-sites/post-type-list/max-pages-notice.jsx"),R=n(A),U=400,L=10,q=function(e){function t(){(0,u.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments));e.renderPost=e.renderPost.bind(e),e.renderPlaceholder=e.renderPlaceholder.bind(e),e.maybeLoadNextPage=e.maybeLoadNextPage.bind(e),e.scrollListener=(0,x.throttle)(e.maybeLoadNextPage,100),window.addEventListener("scroll",e.scrollListener);var s=e.estimatePageCountFromPosts(e.props.posts);return e.state={maxRequestedPage:s},e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(!(0,x.isEqual)(this.props.query,e.query)||!(0,x.isEqual)(this.props.siteId,e.siteId)){var t=this.estimatePageCountFromPosts(e.posts);this.setState({maxRequestedPage:t})}}},{key:"componentDidUpdate",value:function(e){e.isRequestingPosts&&!this.props.isRequestingPosts&&this.maybeLoadNextPage()}},{key:"componentDidMount",value:function(){this.maybeLoadNextPage()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollListener),this.scrollListener.cancel()}},{key:"estimatePageCountFromPosts",value:function(e){if(!e||!e.length)return 1;var t=this.getPostsPerPageCount(),s=Math.ceil(e.length/t);return Math.min(s,5)}},{key:"getPostsPerPageCount",value:function(){var e=this.props.query||{};return e.number||S.DEFAULT_POST_QUERY.number}},{key:"getScrollTop",value:function(){var e=this.props.scrollContainer;return e?e===document.body?"scrollY"in window?window.scrollY:document.documentElement.scrollTop:e.scrollTop:null}},{key:"hasListFullyLoaded",value:function(){var e=this.props,t=e.lastPageToRequest,s=e.isRequestingPosts,n=this.state.maxRequestedPage;return!s&&n>=t}},{key:"maybeLoadNextPage",value:function(){var e=this.props,t=e.scrollContainer,s=e.lastPageToRequest,n=e.isRequestingPosts,o=this.state.maxRequestedPage;if(!(!t||n||o>=s)){var a=this.getScrollTop(),l=t.scrollHeight,r=t.clientHeight,i=l-a-r;"number"!=typeof a||"number"!=typeof l||"number"!=typeof r||i>U||this.setState({maxRequestedPage:o+1})}}},{key:"renderListEnd",value:function(){return g.default.createElement(N.default,null)}},{key:"renderMaxPagesNotice",value:function(){var e=this.props,t=e.siteId,s=e.totalPageCount,n=e.totalPostCount,o=null===t&&this.hasListFullyLoaded()&&s>L;if(!o)return null;var a=this.getPostsPerPageCount()*L;return g.default.createElement(R.default,{displayedPosts:a,totalPosts:n})}},{key:"renderPlaceholder",value:function(){return g.default.createElement(D.default,{key:"placeholder"})}},{key:"renderPost",value:function(e){var t=e.global_ID,s=this.props.query;return g.default.createElement(D.default,{key:t,globalId:t,singleUserQuery:s&&!!s.author})}},{key:"render",value:function(){var e=this.props,t=e.query,s=e.siteId,n=e.posts,o=e.isRequestingPosts,l=this.state.maxRequestedPage,r=t&&n&&!n.length&&!o,i=(0,j.default)("post-type-list",{"is-empty":r});return g.default.createElement("div",{className:i},t&&(0,x.range)(1,l+1).map(function(e){return g.default.createElement(C.default,{key:"query-"+e,siteId:s,query:(0,a.default)({},t,{page:e})})}),n&&n.map(this.renderPost),r&&g.default.createElement(O.default,{type:t.type,status:t.status}),this.renderMaxPagesNotice(),this.hasListFullyLoaded()?this.renderListEnd():this.renderPlaceholder())}}]),t}(v.Component);q.propTypes={query:b.default.object,scrollContainer:b.default.object,siteId:b.default.number,posts:b.default.array,isRequestingPosts:b.default.bool,totalPostCount:b.default.number,totalPageCount:b.default.number,lastPageToRequest:b.default.number},t.default=(0,E.connect)(function(e,t){var s=(0,I.getSelectedSiteId)(e),n=(0,k.getSitePostsLastPageForQuery)(e,s,t.query),o=null===s?Math.min(L,n):n;return{siteId:s,posts:(0,k.getSitePostsForQueryIgnoringPage)(e,s,t.query),isRequestingPosts:(0,k.isRequestingSitePostsForQueryIgnoringPage)(e,s,t.query),totalPostCount:(0,k.getSitePostsFoundForQuery)(e,s,t.query),totalPageCount:n,lastPageToRequest:o}})(q),e.exports=t.default},"./client/my-sites/post-type-list/max-pages-notice.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),_=s("./node_modules/react/react.js"),b=n(_),v=s("./node_modules/react-redux/es/index.js"),g=s("./node_modules/i18n-calypso/index.js"),y=s("./client/state/ui/layout-focus/actions.js"),j=s("./client/state/analytics/actions.js"),E=function(e){function t(){var e,s,n,o;(0,r.default)(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),n.focusSiteSelector=function(e){e.preventDefault(),n.props.setLayoutFocus("sites")},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.props.recordTracksEvent("calypso_post_type_list_max_pages_view")}},{key:"render",value:function(){var e=this.props,t=e.displayedPosts,s=e.totalPosts,n=e.translate;return b.default.createElement("div",{className:"post-type-list__max-pages-notice"},n("Showing %(displayedPosts)d post of %(totalPosts)d.","Showing %(displayedPosts)d posts of %(totalPosts)d.",{args:{displayedPosts:t,totalPosts:s}}),b.default.createElement("br",null),n("To view more posts, {{a}}switch to a specific site{{/a}}.",{components:{a:b.default.createElement("a",{className:"post-type-list__max-pages-notice-link",onClick:this.focusSiteSelector})}}))}}]),t}(_.Component);E.propTypes={displayedPosts:h.default.number,totalPosts:h.default.number},t.default=(0,v.connect)(null,{recordTracksEvent:j.recordTracksEvent,setLayoutFocus:y.setLayoutFocus})((0,g.localize)(E)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/duplicate.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.translate,s=e.canEdit,n=e.status,o=e.type,a=e.duplicateUrl,l=e.onDuplicateClick,r=(0,f.includes)(["draft","future","pending","private","publish"],n);return(0,y.isEnabled)("posts/post-type-list")&&"condensedPosts"===(0,x.abtest)("condensedPostList")&&s&&r&&"post"===o?i.default.createElement(h.default,{href:a,onClick:l,icon:"pages"},t("Duplicate",{context:"verb"})):null}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/assign.js"),l=n(a),r=s("./node_modules/react/react.js"),i=n(r),u=s("./node_modules/prop-types/index.js"),d=n(u),c=s("./node_modules/react-redux/es/index.js"),p=s("./node_modules/i18n-calypso/index.js"),f=s("./node_modules/lodash/lodash.js"),m=s("./client/components/popover/menu-item.jsx"),h=n(m),_=s("./client/state/posts/selectors.js"),b=s("./client/state/selectors/can-current-user-edit-post.js"),v=n(b),g=s("./client/state/ui/editor/selectors.js"),y=s("./client/config/index.js"),j=s("./client/state/analytics/actions.js"),E=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),x=s("./client/lib/abtest/index.js");o.propTypes={globalId:d.default.string,translate:d.default.func.isRequired,canEdit:d.default.bool,status:d.default.string,type:d.default.string,duplicateUrl:d.default.string,onDuplicateClick:d.default.func};var P=function(e,t){var s=t.globalId,n=(0,_.getPost)(e,s);return n?{canEdit:(0,v.default)(e,s),status:n.status,type:n.type,duplicateUrl:(0,g.getEditorDuplicatePostPath)(e,n.site_ID,n.ID)}:{}},C={bumpStat:j.bumpStat,recordTracksEvent:j.recordTracksEvent},S=function(e,t,s){var n=(0,E.bumpStatGenerator)(e.type,"duplicate",t.bumpStat),o=function(){n(),t.recordTracksEvent("calypso_post_type_list_duplicate",{post_type:e.type})};return(0,l.default)({},s,e,t,{onDuplicateClick:o})};t.default=(0,c.connect)(P,C,S)((0,p.localize)(o)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/edit.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.translate,s=e.canEdit,n=e.status,o=e.editUrl,a=e.bumpStat;return"trash"!==n&&s?d.default.createElement(m.default,{href:o,onClick:a,icon:"pencil"},t("Edit",{context:"verb"})):null}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/assign.js"),l=n(a),r=s("./node_modules/prop-types/index.js"),i=n(r),u=s("./node_modules/react/react.js"),d=n(u),c=s("./node_modules/react-redux/es/index.js"),p=s("./node_modules/i18n-calypso/index.js"),f=s("./client/components/popover/menu-item.jsx"),m=n(f),h=s("./client/state/analytics/actions.js"),_=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),b=s("./client/state/posts/selectors.js"),v=s("./client/state/selectors/can-current-user-edit-post.js"),g=n(v),y=s("./client/state/ui/editor/selectors.js");o.propTypes={globalId:i.default.string,translate:i.default.func.isRequired,canEdit:i.default.bool,status:i.default.string,editUrl:i.default.string,bumpStat:i.default.func};var j=function(e,t){var s=t.globalId,n=(0,b.getPost)(e,s);return n?{canEdit:(0,g.default)(e,s),status:n.status,type:n.type,editUrl:(0,y.getEditorPath)(e,n.site_ID,n.ID)}:{}},E={bumpAnalyticsStat:h.bumpStat},x=function(e,t,s){var n=(0,_.bumpStatGenerator)(e.type,"edit",t.bumpAnalyticsStat);return(0,l.default)({},s,e,t,{bumpStat:n})};t.default=(0,c.connect)(j,E,x)((0,p.localize)(o)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.globalId,s=e.includeDefaultActions,n=e.children,o=[];return s&&o.push(i.default.createElement(m.default,{key:"edit"}),i.default.createElement(P.default,{key:"view"}),i.default.createElement(_.default,{key:"stats"}),i.default.createElement(v.default,{key:"publish"}),i.default.createElement(y.default,{key:"share"}),i.default.createElement(S.default,{key:"restore"}),i.default.createElement(k.default,{key:"duplicate"}),i.default.createElement(E.default,{key:"trash"})),n=r.Children.toArray(n),n.length&&(o.length&&o.push(i.default.createElement(p.default,{key:"separator"})),o=o.concat(n)),i.default.createElement("div",{className:"post-actions-ellipsis-menu"},i.default.createElement(d.default,{position:"bottom left",disabled:!t},o.map(function(e){return(0,r.cloneElement)(e,{globalId:t})})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=s("./node_modules/prop-types/index.js"),l=n(a),r=s("./node_modules/react/react.js"),i=n(r),u=s("./client/components/ellipsis-menu/index.jsx"),d=n(u),c=s("./client/components/popover/menu-separator.jsx"),p=n(c),f=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/edit.jsx"),m=n(f),h=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/stats.jsx"),_=n(h),b=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/publish.jsx"),v=n(b),g=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/share.jsx"),y=n(g),j=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/trash.jsx"),E=n(j),x=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/view.jsx"),P=n(x),C=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/restore.jsx"),S=n(C),I=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/duplicate.jsx"),k=n(I);o.propTypes={globalId:l.default.string,includeDefaultActions:l.default.bool},o.defaultProps={includeDefaultActions:!0},e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/publish.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/assign.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/react/react.js"),g=n(v),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/i18n-calypso/index.js"),E=s("./node_modules/lodash/lodash.js"),x=s("./client/components/popover/menu-item.jsx"),P=n(x),C=s("./client/state/analytics/actions.js"),S=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),I=s("./client/state/posts/selectors.js"),k=s("./client/state/posts/actions.js"),w=s("./client/state/selectors/can-current-user.js"),N=n(w),T=function(e){function t(){(0,u.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments));return e.publishPost=e.publishPost.bind(e),e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"publishPost",value:function(){var e=this.props,t=e.siteId,s=e.postId;t&&s&&(this.props.onPublishPost(),this.props.savePost(t,s,{status:"publish"}))}},{key:"render",value:function(){var e=this.props,t=e.translate,s=e.status,n=e.canPublish;return n&&(0,E.includes)(["pending","draft"],s)?g.default.createElement(P.default,{onClick:this.publishPost,icon:"reader"},t("Publish")):null}}]),t}(v.Component);T.propTypes={globalId:b.default.string,translate:b.default.func.isRequired,status:b.default.string,siteId:b.default.number,postId:b.default.number,canPublish:b.default.bool,savePost:b.default.func,onPublishPost:b.default.func};var D=function(e,t){var s=t.globalId,n=(0,I.getPost)(e,s);return n?{status:n.status,siteId:n.site_ID,postId:n.ID,type:n.type,canPublish:(0,N.default)(e,n.site_ID,"publish_posts")}:{}},M={savePost:k.savePost,bumpStat:C.bumpStat,recordTracksEvent:C.recordTracksEvent},O=function(e,t,s){var n=(0,S.bumpStatGenerator)(e.type,"publish",t.bumpStat),o=function(){n(),t.recordTracksEvent("calypso_post_type_list_publish",{post_type:e.type})};return(0,a.default)({},s,e,t,{onPublishPost:o})};t.default=(0,y.connect)(D,M,O)((0,j.localize)(T)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/restore.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/assign.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/react/react.js"),g=n(v),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/i18n-calypso/index.js"),E=s("./client/components/popover/menu-item.jsx"),x=n(E),P=s("./client/state/analytics/actions.js"),C=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),S=s("./client/state/selectors/can-current-user.js"),I=n(S),k=s("./client/state/posts/selectors.js"),w=s("./client/state/posts/actions.js"),N=s("./client/state/current-user/selectors.js"),T=function(e){function t(){(0,u.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments));return e.restorePost=e.restorePost.bind(e),e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"restorePost",value:function(){var e=this.props,t=e.siteId,s=e.postId;t&&s&&(this.props.bumpStat(),this.props.restorePost(t,s))}},{key:"render",value:function(){var e=this.props,t=e.translate,s=e.canRestore,n=e.status;return"trash"===n&&s?g.default.createElement(x.default,{onClick:this.restorePost,icon:"undo"},t("Restore")):null}}]),t}(v.Component);T.propTypes={globalId:b.default.string,translate:b.default.func.isRequired,siteId:b.default.number,postId:b.default.number,canRestore:b.default.bool,status:b.default.string,restorePost:b.default.func.isRequired,bumpStat:b.default.func};var D=function(e,t){var s=t.globalId,n=(0,k.getPost)(e,s);if(!n)return{};var o=(0,N.getCurrentUserId)(e),a=n.author&&n.author.ID===o;return{siteId:n.site_ID,postId:n.ID,status:n.status,type:n.type,canRestore:(0,I.default)(e,n.site_ID,a?"delete_posts":"delete_others_posts")}},M={restorePost:w.restorePost,bumpAnalyticsStat:P.bumpStat},O=function(e,t,s){var n=(0,C.bumpStatGenerator)(e.type,"restore",t.bumpAnalyticsStat);return(0,a.default)({},s,e,t,{bumpStat:n})};t.default=(0,y.connect)(D,M,O)((0,j.localize)(T)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/share.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/assign.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),_=s("./node_modules/react/react.js"),b=n(_),v=s("./node_modules/prop-types/index.js"),g=n(v),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/i18n-calypso/index.js"),E=s("./client/components/popover/menu-item.jsx"),x=n(E),P=s("./client/state/analytics/actions.js"),C=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),S=s("./client/state/posts/selectors.js"),I=s("./client/state/ui/post-type-list/actions.js"),k=s("./client/state/selectors/is-publicize-enabled.js"),w=n(k),N=s("./client/lib/abtest/index.js"),T=s("./client/config/index.js"),D=n(T),M=function(e){function t(){(0,u.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments));return e.sharePost=e.sharePost.bind(e),e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"sharePost",value:function(){this.props.bumpStat(),this.props.toggleSharePanel(this.props.globalId),this.props.onClick()}},{key:"render",value:function(){var e=this.props,t=e.translate,s=e.status,n=e.type,o=e.isPublicizeEnabled;return D.default.isEnabled("posts/post-type-list")&&"condensedPosts"===(0,N.abtest)("condensedPostList")&&"publish"===s&&o&&"post"===n?b.default.createElement(x.default,{onClick:this.sharePost,icon:"share"},t("Share")):null}}]),t}(_.Component);M.propTypes={globalId:g.default.string,translate:g.default.func.isRequired,status:g.default.string,type:g.default.string,isPublicizeEnabled:g.default.bool,onClick:g.default.func,bumpStat:g.default.func};var O=function(e,t){var s=t.globalId,n=(0,S.getPost)(e,s);return n?{status:n.status,type:n.type,isPublicizeEnabled:(0,w.default)(e,n.site_ID,n.type)}:{}},A={toggleSharePanel:I.toggleSharePanel,bumpAnalyticsStat:P.bumpStat},R=function(e,t,s){var n=(0,C.bumpStatGenerator)(e.type,"toggle_share_panel",t.bumpAnalyticsStat);
return(0,a.default)({},s,e,t,{bumpStat:n})};t.default=(0,y.connect)(O,A,R)((0,j.localize)(M)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/stats.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.translate,s=e.siteSlug,n=e.postId,o=e.status,a=e.isStatsActive,l=e.bumpStat;return a&&"publish"===o?d.default.createElement(m.default,{href:"/stats/post/"+n+"/"+s,onClick:l,icon:"stats-alt"},t("Stats")):null}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/assign.js"),l=n(a),r=s("./node_modules/prop-types/index.js"),i=n(r),u=s("./node_modules/react/react.js"),d=n(u),c=s("./node_modules/react-redux/es/index.js"),p=s("./node_modules/i18n-calypso/index.js"),f=s("./client/components/popover/menu-item.jsx"),m=n(f),h=s("./client/state/analytics/actions.js"),_=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),b=s("./client/state/sites/selectors.js"),v=s("./client/state/posts/selectors.js");o.propTypes={globalId:i.default.string,translate:i.default.func.isRequired,siteSlug:i.default.string,postId:i.default.number,status:i.default.string,isStatsActive:i.default.bool,bumpStat:i.default.func};var g=function(e,t){var s=t.globalId,n=(0,v.getPost)(e,s);return n?{siteSlug:(0,b.getSiteSlug)(e,n.site_ID),postId:n.ID,status:n.status,type:n.type,isStatsActive:!1!==(0,b.isJetpackModuleActive)(e,n.site_ID,"stats")}:{}},y={bumpAnalyticsStat:h.bumpStat},j=function(e,t,s){var n=(0,_.bumpStatGenerator)(e.type,"stats",t.bumpAnalyticsStat);return(0,l.default)({},s,e,t,{bumpStat:n})};t.default=(0,c.connect)(g,y,j)((0,p.localize)(o)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/trash.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/assign.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/react/react.js"),g=n(v),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/i18n-calypso/index.js"),E=s("./client/components/popover/menu-item.jsx"),x=n(E),P=s("./client/state/analytics/actions.js"),C=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),S=s("./client/state/posts/actions.js"),I=s("./client/state/selectors/can-current-user.js"),k=n(I),w=s("./client/state/posts/selectors.js"),N=s("./client/state/current-user/selectors.js"),T=function(e){function t(){(0,u.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments));return e.trashPost=e.trashPost.bind(e),e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"trashPost",value:function(){var e=this.props,t=e.translate,s=e.siteId,n=e.postId,o=e.status;n&&("trash"!==o?(this.props.onTrashClick(),this.props.trashPost(s,n)):confirm(t("Are you sure you want to permanently delete this post?"))&&(this.props.onDeleteClick(),this.props.deletePost(s,n)))}},{key:"render",value:function(){var e=this.props,t=e.translate,s=e.status,n=e.canDelete;return n?g.default.createElement(x.default,{onClick:this.trashPost,icon:"trash"},"trash"===s?t("Delete Permanently"):t("Trash",{context:"verb"})):null}}]),t}(v.Component);T.propTypes={globalId:b.default.string,translate:b.default.func.isRequired,postId:b.default.number,siteId:b.default.number,status:b.default.string,canDelete:b.default.bool,trashPost:b.default.func,deletePost:b.default.func,onTrashClick:b.default.func,onDeleteClick:b.default.func};var D=function(e,t){var s=t.globalId,n=(0,w.getPost)(e,s);if(!n)return{};var o=(0,N.getCurrentUserId)(e),a=n.author&&n.author.ID===o;return{postId:n.ID,siteId:n.site_ID,status:n.status,type:n.type,canDelete:(0,k.default)(e,n.site_ID,a?"delete_posts":"delete_others_posts")}},M={trashPost:S.trashPost,deletePost:S.deletePost,bumpStat:P.bumpStat,recordTracksEvent:P.recordTracksEvent},O=function(e,t,s){var n=(0,C.bumpStatGenerator)(e.type,"trash",t.bumpStat),o=function(){n(),t.recordTracksEvent("calypso_post_type_list_trash",{post_type:e.type})},l=(0,C.bumpStatGenerator)(e.type,"delete",t.bumpStat),r=function(){l(),t.recordTracksEvent("calypso_post_type_list_delete",{post_type:e.type})};return(0,a.default)({},s,e,t,{onTrashClick:o,onDeleteClick:r})};t.default=(0,y.connect)(D,M,O)((0,j.localize)(T)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js":function(e,t,s){"use strict";function n(e,t,s){return function(){var n=void 0;n=e?"page"!==e&&"post"!==e?"calypso_cpt_actions":"calypso_"+e+"_actions":"calypso_unknown_type_actions",s(n,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.bumpStatGenerator=n},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/view.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/assign.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n(l),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(i),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),_=s("./node_modules/prop-types/index.js"),b=n(_),v=s("./node_modules/react/react.js"),g=n(v),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/i18n-calypso/index.js"),E=s("./node_modules/lodash/lodash.js"),x=s("./client/components/popover/menu-item.jsx"),P=n(x),C=s("./client/state/analytics/actions.js"),S=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),I=s("./client/state/posts/selectors.js"),k=s("./client/state/sites/selectors.js"),w=s("./client/state/ui/preview/actions.js"),N=s("./client/state/ui/layout-focus/actions.js"),T=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return s=n=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),n.previewPost=function(e){var t=n.props,s=t.isPreviewable,o=t.previewUrl,a=t.siteId;n.props.bumpStat(),s&&(n.props.setAllSitesPreviewSiteId(a),n.props.setPreviewUrl(o),n.props.setLayoutFocus("preview"),e.preventDefault())},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.translate,s=e.status,n=e.previewUrl;return n?g.default.createElement(P.default,{href:n,onClick:this.previewPost,icon:"visible",target:"_blank",rel:"noopener noreferrer"},(0,E.includes)(["publish","private"],s)?t("View",{context:"verb"}):t("Preview",{context:"verb"})):null}}]),t}(v.Component);T.propTypes={globalId:b.default.string,translate:b.default.func.isRequired,status:b.default.string,isPreviewable:b.default.bool,previewUrl:b.default.string,setPreviewUrl:b.default.func.isRequired,setLayoutFocus:b.default.func.isRequired,bumpStat:b.default.func},T.defaultProps={globalId:"",status:"draft",isPreviewable:!1,previewUrl:""};var D=function(e,t){var s=t.globalId,n=(0,I.getPost)(e,s);return n?{siteId:n.site_ID,status:n.status,type:n.type,isPreviewable:!1!==(0,k.isSitePreviewable)(e,n.site_ID),previewUrl:(0,I.getPostPreviewUrl)(e,n.site_ID,n.ID)}:{}},M={setAllSitesPreviewSiteId:w.setAllSitesPreviewSiteId,setPreviewUrl:w.setPreviewUrl,setLayoutFocus:N.setLayoutFocus,bumpAnalyticsStat:C.bumpStat},O=function(e,t,s){var n=(0,S.bumpStatGenerator)(e.type,"view",t.bumpAnalyticsStat);return(0,a.default)({},s,e,t,{bumpStat:n})};t.default=(0,y.connect)(D,M,O)((0,j.localize)(T)),e.exports=t.default},"./client/my-sites/post-type-list/post-thumbnail.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.thumbnail,s=(0,d.default)("post-type-list__post-thumbnail-wrapper",{"has-image":!!t});return i.default.createElement("div",{className:s},t&&i.default.createElement("img",{src:(0,m.default)(t,{h:80}),className:"post-type-list__post-thumbnail"}))}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/prop-types/index.js"),l=n(a),r=s("./node_modules/react/react.js"),i=n(r),u=s("./node_modules/classnames/index.js"),d=n(u),c=s("./node_modules/react-redux/es/index.js"),p=s("./node_modules/lodash/lodash.js"),f=s("./client/lib/resize-image-url/index.js"),m=n(f),h=s("./client/state/posts/selectors.js");o.propTypes={globalId:l.default.string,thumbnail:l.default.string},t.default=(0,c.connect)(function(e,t){var s=(0,h.getNormalizedPost)(e,t.globalId),n=(0,p.get)(s,"canonical_image.uri");return{thumbnail:n}})(o),e.exports=t.default},"./client/my-sites/post-type-list/post-type-post-author/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.name;return t?l.default.createElement("div",{className:"post-type-post-author"},l.default.createElement("div",{className:"post-type-post-author__name"},t)):null}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/react/react.js"),l=n(a),r=s("./node_modules/prop-types/index.js"),i=n(r),u=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/lodash/lodash.js"),c=s("./node_modules/i18n-calypso/index.js"),p=s("./client/state/posts/selectors.js");o.propTypes={globalId:i.default.string,name:i.default.string},t.default=(0,u.connect)(function(e,t){var s=(0,p.getPost)(e,t.globalId);return{name:(0,d.get)(s,["author","name"])}})((0,c.localize)(o)),e.exports=t.default},"./client/my-sites/post-type-list/post-type-site-info/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.site,s=e.siteTitle;return t?l.default.createElement("div",{className:"post-type-site-info"},l.default.createElement(m.default,{size:16,site:t}),l.default.createElement("div",{className:"post-type-site-info__title"},s)):null}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/react/react.js"),l=n(a),r=s("./node_modules/prop-types/index.js"),i=n(r),u=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/i18n-calypso/index.js"),c=s("./client/state/posts/selectors.js"),p=s("./client/state/sites/selectors.js"),f=s("./client/blocks/site-icon/index.jsx"),m=n(f);o.propTypes={globalId:i.default.string,site:i.default.object,siteTitle:i.default.string},t.default=(0,u.connect)(function(e,t){var s=(0,c.getPost)(e,t.globalId),n=s?s.site_ID:null;return{site:n?(0,p.getSite)(e,n):null,siteTitle:n?(0,p.getSiteTitle)(e,n):null}})((0,d.localize)(o)),e.exports=t.default},"./client/my-sites/sidebar-navigation/sidebar-navigation.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/react/react.js"),a=n(o),l=s("./node_modules/react-redux/es/index.js"),r=s("./node_modules/i18n-calypso/index.js"),i=s("./client/components/sidebar-navigation/index.jsx"),u=n(i),d=s("./client/blocks/site-icon/index.jsx"),c=n(d),p=s("./client/state/ui/selectors.js"),f=function(e){var t=e.site,s=e.translate,n=s("All Sites"),o="all-sites";return t&&(n=t.title,o=null),a.default.createElement(u.default,{linkClassName:o,sectionName:"site",sectionTitle:n},t&&a.default.createElement(c.default,{site:t}))};t.default=(0,l.connect)(function(e){return{site:(0,p.getSelectedSite)(e)}})((0,r.localize)(f)),e.exports=t.default},"./client/my-sites/types/controller.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){u.default.redirect("/posts")}function a(e,t){e.primary=r.default.createElement(c.default,{query:{type:e.params.type,status:(0,p.mapPostStatus)(e.params.status),search:e.query.s}}),t()}Object.defineProperty(t,"__esModule",{value:!0}),t.redirect=o,t.list=a;var l=s("./node_modules/react/react.js"),r=n(l),i=s("./node_modules/page/index.js"),u=n(i),d=s("./client/my-sites/types/main.jsx"),c=n(d),p=s("./client/lib/route/path.js")},"./client/my-sites/types/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){i.default.isEnabled("manage/custom-post-types")&&(e("/types/:type/:status?/:site",a.siteSelection,a.makeNavigation,l.list,o.makeLayout),e("/types/:type",a.siteSelection,a.sites,o.makeLayout),e("/types",l.redirect))};var o=s("./client/controller/index.web.js"),a=s("./client/my-sites/controller.js"),l=s("./client/my-sites/types/controller.jsx"),r=s("./client/config/index.js"),i=n(r);e.exports=t.default},"./client/my-sites/types/main.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.siteId,s=e.query,n=e.postType,o=e.postTypeSupported,a=e.userCanEdit;return i.default.createElement(p.default,null,i.default.createElement(m.default,{title:(0,d.get)(n,"label")}),i.default.createElement(_.default,{path:t?"/types/:site":"/types",title:"Custom Post Type"}),i.default.createElement(v.default,null),!1!==a&&!1!==o&&[i.default.createElement(y.default,{key:"filter",query:a?s:null}),i.default.createElement(E.default,{key:"list",query:a?s:null,scrollContainer:document.body})],!1===o&&i.default.createElement(P.default,{type:s.type}),!1===a&&i.default.createElement(S.default,null))}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/prop-types/index.js"),l=n(a),r=s("./node_modules/react/react.js"),i=n(r),u=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/lodash/lodash.js"),c=s("./client/components/main/index.jsx"),p=n(c),f=s("./client/components/data/document-head/index.jsx"),m=n(f),h=s("./client/lib/analytics/page-view-tracker/index.jsx"),_=n(h),b=s("./client/my-sites/sidebar-navigation/sidebar-navigation.jsx"),v=n(b),g=s("./client/my-sites/post-type-filter/index.jsx"),y=n(g),j=s("./client/my-sites/post-type-list/index.jsx"),E=n(j),x=s("./client/my-sites/types/post-type-unsupported/index.jsx"),P=n(x),C=s("./client/my-sites/types/post-type-forbidden/index.jsx"),S=n(C),I=s("./client/state/selectors/can-current-user.js"),k=n(I),w=s("./client/state/ui/selectors.js"),N=s("./client/state/post-types/selectors.js");o.propTypes={siteId:l.default.number,query:l.default.object,postType:l.default.object,postTypeSupported:l.default.bool,userCanEdit:l.default.bool},t.default=(0,u.connect)(function(e,t){var s=(0,w.getSelectedSiteId)(e),n=(0,N.getPostType)(e,s,t.query.type),o=(0,d.get)(n,["capabilities","edit_posts"],null);return{siteId:s,postType:n,postTypeSupported:(0,N.isPostTypeSupported)(e,s,t.query.type),userCanEdit:(0,k.default)(e,s,o)}})(o),e.exports=t.default},"./client/my-sites/types/post-type-forbidden/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.translate;return i.default.createElement(c.default,{illustration:"/calypso/images/illustrations/whoops.svg",title:t("You need permission to manage this post type"),line:t("Ask your site administrator to grant you access")})}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/prop-types/index.js"),l=n(a),r=s("./node_modules/react/react.js"),i=n(r),u=s("./node_modules/i18n-calypso/index.js"),d=s("./client/components/empty-content/index.jsx"),c=n(d);o.propTypes={translate:l.default.func},t.default=(0,u.localize)(o),e.exports=t.default},"./client/my-sites/types/post-type-unsupported/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.translate,s=e.canManage,n=e.siteSlug,o=e.type,a=(0,d.includes)(v,o),l=void 0,r=void 0,u=void 0,c=void 0;if(a&&s){switch(o){case"jetpack-portfolio":l=t("Portfolios are not enabled");break;case"jetpack-testimonial":l=t("Testimonials are not enabled")}r=t("Activate custom content types in your site settings"),u=t("Manage Settings"),c="/settings/writing/"+n}else r=t("Your site does not support this content type");return l||(l=t("Content type unsupported")),i.default.createElement(f.default,{title:l,line:r,action:u,actionURL:c})}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/prop-types/index.js"),l=n(a),r=s("./node_modules/react/react.js"),i=n(r),u=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/lodash/lodash.js"),c=s("./node_modules/i18n-calypso/index.js"),p=s("./client/components/empty-content/index.jsx"),f=n(p),m=s("./client/state/ui/selectors.js"),h=s("./client/state/selectors/can-current-user.js"),_=n(h),b=s("./client/state/sites/selectors.js"),v=["jetpack-portfolio","jetpack-testimonial"];o.propTypes={translate:l.default.func,canManage:l.default.bool,siteSlug:l.default.string,type:l.default.string},t.default=(0,u.connect)(function(e){var t=(0,m.getSelectedSiteId)(e);return{canManage:(0,_.default)(e,t,"manage_options"),siteSlug:(0,b.getSiteSlug)(e,t)}})((0,c.localize)(o)),e.exports=t.default},"./client/post-editor/editor-sharing/publicize-message.jsx":function(e,t,s){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=o(a),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=o(r),u=s("./node_modules/babel-runtime/helpers/createClass.js"),d=o(u),c=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=o(c),f=s("./node_modules/babel-runtime/helpers/inherits.js"),m=o(f),h=s("./node_modules/react/react.js"),_=o(h),b=s("./node_modules/i18n-calypso/index.js"),v=s("./node_modules/prop-types/index.js"),g=o(v),y=s("./client/components/forms/counted-textarea/index.jsx"),j=o(y),E=s("./client/components/forms/form-textarea/index.jsx"),x=o(E),P=s("./client/components/info-popover/index.jsx"),C=o(P),S=s("./client/components/track-input-changes/index.jsx"),I=o(S),k=s("./client/lib/posts/actions.js"),w=o(k),N=s("./client/lib/posts/stats.js"),T=n(N),D=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var a=arguments.length,r=Array(a),u=0;u<a;u++)r[u]=arguments[u];return s=n=(0,p.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(r))),n.onChange=function(e){n.props.onChange?n.props.onChange(e.target.value):w.default.updateMetadata("_wpas_mess",e.target.value)},n.recordStats=function(){T.recordStat("sharing_message_changed"),T.recordEvent("Publicize Sharing Message Changed")},o=s,(0,p.default)(n,o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"renderInfoPopover",value:function(){return _.default.createElement(C.default,{className:"publicize-message-counter-info",position:"bottom left",gaEventCategory:"Editor",popoverName:"SharingMessage"},this.props.translate("The length includes space for the link to your post and an attached image.",{context:"Post editor sharing message counter explanation"}))}},{key:"renderTextarea",value:function(){var e=this.props.preview||this.props.translate("Write a message for your audience here.");return this.props.requireCount?_.default.createElement(j.default,{disabled:this.props.disabled,value:this.props.message,placeholder:e,countPlaceholderLength:!0,onChange:this.onChange,showRemainingCharacters:!0,acceptableLength:this.props.acceptableLength,className:"editor-sharing__message-input"},this.renderInfoPopover()):_.default.createElement(x.default,{disabled:this.props.disabled,value:this.props.message,placeholder:e,onChange:this.onChange,className:"editor-sharing__message-input"})}},{key:"render",value:function(){return _.default.createElement("div",{className:"editor-sharing__publicize-message"},_.default.createElement("h5",{className:"editor-sharing__message-heading"},this.props.translate("Customize the message",{context:"Post editor sharing message heading"})),_.default.createElement(I.default,{onNewValue:this.recordStats},this.renderTextarea()))}}]),t}(h.Component);D.propTypes={disabled:g.default.bool,message:g.default.string,preview:g.default.string,acceptableLength:g.default.number,requireCount:g.default.bool,onChange:g.default.func},D.defaultProps={disabled:!1,message:"",acceptableLength:140,requireCount:!1},t.default=(0,b.localize)(D),e.exports=t.default},"./client/state/posts/counts/actions.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,s){return{type:i.POST_COUNTS_RECEIVE,siteId:e,postType:t,counts:s}}function a(e,t){return function(s){return s({type:i.POST_COUNTS_REQUEST,postType:t,siteId:e}),r.default.undocumented().site(e).postCounts({type:t}).then(function(n){s(o(e,t,n.counts)),s({type:i.POST_COUNTS_REQUEST_SUCCESS,siteId:e,postType:t})}).catch(function(n){s({type:i.POST_COUNTS_REQUEST_FAILURE,siteId:e,postType:t,error:n})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.receivePostCounts=o,t.requestPostCounts=a;var l=s("./client/lib/wp/browser.js"),r=n(l),i=s("./client/state/action-types.js")},"./client/state/posts/counts/selectors.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,s){return(0,h.get)(e.posts.counts.requesting,[t,s],!1)}function a(e,t,s){return(0,h.get)(e.posts.counts.counts,[t,s,"all"],null)}function l(e,t,s,n){var o=a(e,t,s);return o?o[n]||0:null}function r(e,t,s){return(0,h.get)(e.posts.counts.counts,[t,s,"mine"],null)}function i(e,t,s,n){var o=r(e,t,s);return o?o[n]||0:null}function u(e,t,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a,o=n(e,t,s);return _.reduce(function(e,t){var s=(0,h.get)(o,t,0),n=void 0;switch(t){case"publish":case"private":n="publish";break;case"draft":case"pending":n="draft";break;default:n=t}return(0,m.default)({},e,(0,p.default)({},n,(e[n]||0)+s))},{})}function d(e,t,s){return u(e,t,s,r)}Object.defineProperty(t,"__esModule",{value:!0});var c=s("./node_modules/babel-runtime/helpers/defineProperty.js"),p=n(c),f=s("./node_modules/babel-runtime/helpers/extends.js"),m=n(f);t.isRequestingPostCounts=o,t.getAllPostCounts=a,t.getAllPostCount=l,t.getMyPostCounts=r,t.getMyPostCount=i,t.getNormalizedPostCounts=u,t.getNormalizedMyPostCounts=d;var h=s("./node_modules/lodash/lodash.js"),_=["publish","draft","pending","private","future","trash"]},"./client/state/sharing/publicize/actions.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return{type:y.PUBLICIZE_SHARE_DISMISS,siteId:e,postId:t}}function a(e,t,s,n){return function(o){return o({type:y.PUBLICIZE_SHARE,siteId:e,postId:t,skippedConnections:s,message:n}),new b.default(function(a){g.default.undocumented().publicizePost(e,t,n,s,function(s,n){o(s||!n.results?{type:y.PUBLICIZE_SHARE_FAILURE,siteId:e,postId:t,error:s}:{type:y.PUBLICIZE_SHARE_SUCCESS,siteId:e,postId:t}),a()})})}}function l(e){return function(t){return t({type:y.PUBLICIZE_CONNECTIONS_REQUEST,siteId:e}),g.default.undocumented().siteConnections(e).then(function(s){t(f(e,s)),t({type:y.PUBLICIZE_CONNECTIONS_REQUEST_SUCCESS,siteId:e})}).catch(function(s){return t({type:y.PUBLICIZE_CONNECTIONS_REQUEST_FAILURE,siteId:e,error:s})})}}function r(e,t){return function(s){return s({type:y.PUBLICIZE_CONNECTION_REQUEST,connectionId:t,siteId:e}),g.default.undocumented().site(e).getConnection(t).then(function(n){s({type:y.PUBLICIZE_CONNECTION_RECEIVE,connection:n,siteId:e}),s({type:y.PUBLICIZE_CONNECTION_REQUEST_SUCCESS,connectionId:t,siteId:e})}).catch(function(n){return s({type:y.PUBLICIZE_CONNECTION_REQUEST_FAILURE,connectionId:t,error:n,siteId:e})})}}function i(e,t,s){return function(n){return g.default.undocumented().createConnection(t,e,s,{shared:!1}).then(function(e){return n({type:y.PUBLICIZE_CONNECTION_CREATE,connection:e})}).catch(function(e){return n(c(e))})}}function u(e,t){return function(s){return g.default.undocumented().updateConnection(e.site_ID,e.ID,t).then(function(e){return s({type:y.PUBLICIZE_CONNECTION_UPDATE,connection:e})}).catch(function(t){return s({type:y.PUBLICIZE_CONNECTION_UPDATE_FAILURE,error:(0,h.default)({},t,{label:e.label})})})}}function d(e){return function(t){return g.default.undocumented().deleteSiteConnection(e.site_ID,e.ID).then(function(){return t(p(e))}).catch(function(s){s&&404===s.statusCode&&t(p(e)),t({type:y.PUBLICIZE_CONNECTION_DELETE_FAILURE,error:(0,h.default)({},s,{label:e.label})})})}}function c(e){return{type:y.PUBLICIZE_CONNECTION_CREATE_FAILURE,error:e}}function p(e){return{type:y.PUBLICIZE_CONNECTION_DELETE,connection:e}}function f(e,t){return{type:y.PUBLICIZE_CONNECTIONS_RECEIVE,siteId:e,data:t}}Object.defineProperty(t,"__esModule",{value:!0});var m=s("./node_modules/babel-runtime/helpers/extends.js"),h=n(m),_=s("./node_modules/babel-runtime/core-js/promise.js"),b=n(_);t.dismissShareConfirmation=o,t.sharePost=a,t.fetchConnections=l,t.fetchConnection=r,t.createSiteConnection=i,t.updateSiteConnection=u,t.deleteSiteConnection=d,t.failCreateConnection=c,t.deleteConnection=p,t.receiveConnections=f;var v=s("./client/lib/wp/browser.js"),g=n(v),y=s("./client/state/action-types.js")},"./client/state/sharing/publicize/publicize-actions/actions.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(s){s({type:f.PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST,siteId:e,postId:t});var n="/sites/"+e+"/posts/"+t+"/publicize/scheduled-actions";return p.default.req.get({path:n,apiNamespace:"wpcom/v2"},function(n,o){if(n||!o.items)return s({type:f.PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_FAILURE,siteId:e,postId:t,error:n});var a={};o.items.forEach(function(e){return a[e.ID]=e}),s({type:f.PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_SUCCESS,siteId:e,postId:t,actions:a})})}}function a(e,t){return function(s){s({type:f.PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST,siteId:e,postId:t});var n="/sites/"+e+"/posts/"+t+"/publicize/published-actions";return p.default.req.get({path:n,apiNamespace:"wpcom/v2",method:"GET"},function(n,o){if(n||!o.items)return s({type:f.PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_FAILURE,siteId:e,postId:t,error:n});var a={};o.items.forEach(function(e){return a[e.ID]=e}),s({type:f.PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_SUCCESS,siteId:e,postId:t,actions:a})})}}function l(e,t,s){return function(n){n({type:f.PUBLICIZE_SHARE_ACTION_DELETE,siteId:e,postId:t,actionId:s});var o="/sites/"+e+"/posts/"+t+"/publicize/scheduled-actions/"+s;return p.default.req.get({path:o,apiNamespace:"wpcom/v2",method:"DELETE"},function(o,a){return o||!a?n({type:f.PUBLICIZE_SHARE_ACTION_DELETE_FAILURE,siteId:e,postId:t,actionId:s,error:o}):void n({type:f.PUBLICIZE_SHARE_ACTION_DELETE_SUCCESS,siteId:e,postId:t,actionId:s})})}}function r(e,t,s,n,o){return function(a){a({type:f.PUBLICIZE_SHARE_ACTION_EDIT,siteId:e,postId:t,actionId:s});var l="/sites/"+e+"/posts/"+t+"/publicize/scheduled-actions/"+s;return p.default.req.put({path:l,body:{message:n,share_date:o},apiNamespace:"wpcom/v2"},function(n,o){return n||!o.item?a({type:f.PUBLICIZE_SHARE_ACTION_EDIT_FAILURE,siteId:e,postId:t,actionId:s,error:n}):(o.item.ID=s,void a({type:f.PUBLICIZE_SHARE_ACTION_EDIT_SUCCESS,siteId:e,postId:t,actionId:s,item:o.item}))})}}function i(e,t,s,n,o){return function(a){return a({type:f.PUBLICIZE_SHARE_ACTION_SCHEDULE,siteId:e,postId:t,connections:o}),d.default.all(o.map(function(o){return p.default.req.post({path:"/sites/"+e+"/posts/"+t+"/publicize/scheduled-actions/",body:{message:s,share_date:n,connection_id:o},apiNamespace:"wpcom/v2"})})).catch(function(s){return a({type:f.PUBLICIZE_SHARE_ACTION_SCHEDULE_FAILURE,siteId:e,postId:t,error:s,connections:o})}).then(function(s){return a({type:f.PUBLICIZE_SHARE_ACTION_SCHEDULE_SUCCESS,siteId:e,postId:t,share_date:n,items:s,connections:o})})}}Object.defineProperty(t,"__esModule",{value:!0});var u=s("./node_modules/babel-runtime/core-js/promise.js"),d=n(u);t.fetchPostShareActionsScheduled=o,t.fetchPostShareActionsPublished=a,t.deletePostShareAction=l,t.editPostShareAction=r,t.schedulePostShareAction=i;var c=s("./client/lib/wp/browser.js"),p=n(c),f=s("./client/state/action-types.js")},"./client/state/ui/post-type-list/actions.js":function(e,t,s){"use strict";function n(e){return{type:r.POST_TYPE_LIST_SHARE_PANEL_HIDE,postGlobalId:e}}function o(e){return{type:r.POST_TYPE_LIST_SHARE_PANEL_TOGGLE,postGlobalId:e}}function a(){return{type:r.POST_TYPE_LIST_MULTI_SELECTION_MODE_TOGGLE}}function l(e){return{type:r.POST_TYPE_LIST_SELECTION_TOGGLE,postGlobalId:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.hideSharePanel=n,t.toggleSharePanel=o,t.toggleMultiSelect=a,t.togglePostSelection=l;var r=s("./client/state/action-types.js")},"./client/state/ui/post-type-list/selectors.js":function(e,t,s){"use strict";function n(e,t){return e.ui.postTypeList.activeSharePanels.indexOf(t)>-1}function o(e,t){return e.ui.postTypeList.selectedPosts.indexOf(t)>-1}function a(e){return e.ui.postTypeList.selectedPosts.length}function l(e){return e.ui.postTypeList.isMultiSelectEnabled}Object.defineProperty(t,"__esModule",{value:!0}),t.isSharePanelOpen=n,t.isPostSelected=o,t.getSelectedPostsCount=a,t.isMultiSelectEnabled=l}});