webpackJsonp(["async-load-my-sites-current-site-domain-warnings"],{"./client/lib/domains/index.js":function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){this.code=e,this.message=e}function a(e){var n=e.split(".")[1],t=(0,T.some)(O,function(n){return(0,T.includes)(e,n)});return!((0,T.includes)(P,n)||t)}function s(e,n){return e?void M.default.undocumented().isDomainAvailable(e,function(e,t){return e?void n(e.error):void n(null,t)}):void n(null,{status:x.domainAvailability.EMPTY_QUERY})}function r(e,n){return e?void M.default.undocumented().getInboundTransferStatus(e,function(e,t){return e?void n(e.error):void n(null,t)}):void n(null)}function l(e,n,t){return n&&e?void M.default.undocumented().restartInboundTransfer(e,n,function(e,n){return e?void t(e.error):void t(null,n)}):void t(null)}function m(e,n,t){return n?(n.match(/^https?:\/\//i)||(n="http://"+n),void M.default.undocumented().canRedirect(e,n,function(e,n){t(e?new i(e.error):n.can_redirect?null:new i("cannot_redirect"))})):void t(new i("empty_query"))}function d(e,n){M.default.site(e).domain().getPrimary(function(e,t){n(e,t)})}function u(e){return e.trim().toLowerCase().replace(/^(https?:\/\/)?(www\.)?/,"").replace(/\/$/,"").replace(/_/g,"-")}function c(e){return e.match(/\..+\.[a-z]{2,3}\.[a-z]{2}$|\..+\.[a-z]{3,}$|\..{4,}\.[a-z]{2}$/)}function p(e,n){var t=e[n];return t&&(t.hasLoadedFromServer||t.isFetching)}function g(e){return"no_subscription"!==e.googleAppsSubscription.status}function f(e){return e.type===x.type.MAPPED}function h(e){return e.filter(function(e){return(0,T.includes)([x.type.REGISTERED,x.type.MAPPED],e.type)&&a(e.name)})}function E(e){return h(e).length>0}function _(e){return e.googleAppsSubscription&&e.googleAppsSubscription.pendingUsers&&0!==e.googleAppsSubscription.pendingUsers.length}function S(e){var n=e.domains,t=e.selectedDomainName,o=e.isTransfer;return(0,T.find)(n.list,function(e){return e.name===t&&(!(!o||e.type!==x.type.TRANSFER)||e.type!==x.type.TRANSFER)})}function y(e){return e.type===x.type.REGISTERED}function v(e){return e.filter(y)}function D(e){return e.filter(f)}function C(e){return D(e).length>0}function A(e){var n=e.lastIndexOf(".");if(n===-1)return"";var t=(0,I.parseDomainAgainstTldList)(e,L.default);return t||(t=e.substring(n+1)),t}function N(e){var n=A(e),t=(0,T.replace)(n,/\./g,"dot");return(0,T.includes)(["com","net","org"],t)?"domain_reg":"dot"+t+"_domain"}Object.defineProperty(n,"__esModule",{value:!0}),n.restartInboundTransfer=n.isSubdomain=n.isRegisteredDomain=n.isMappedDomain=n.isInitialized=n.hasPendingGoogleAppsUsers=n.hasMappedDomain=n.hasGoogleAppsSupportedDomain=n.hasGoogleApps=n.getTld=n.getMappedDomains=n.getRegisteredDomains=n.getSelectedDomain=n.getPrimaryDomain=n.getGoogleAppsSupportedDomains=n.getFixedDomainSearch=n.getDomainProductSlug=n.checkInboundTransferStatus=n.checkDomainAvailability=n.canRedirect=n.canAddGoogleApps=void 0;var b=t("./node_modules/inherits/inherits_browser.js"),k=o(b),T=t("./node_modules/lodash/lodash.js"),w=t("./client/lib/wp/browser.js"),M=o(w),x=t("./client/lib/domains/constants.js"),I=t("./client/lib/domains/utils.js"),R=t("./client/lib/domains/tlds/wpcom-multi-level-tlds.json"),L=o(R),P=["in"],O=["google"];(0,k.default)(i,Error),n.canAddGoogleApps=a,n.canRedirect=m,n.checkDomainAvailability=s,n.checkInboundTransferStatus=r,n.getDomainProductSlug=N,n.getFixedDomainSearch=u,n.getGoogleAppsSupportedDomains=h,n.getPrimaryDomain=d,n.getSelectedDomain=S,n.getRegisteredDomains=v,n.getMappedDomains=D,n.getTld=A,n.hasGoogleApps=g,n.hasGoogleAppsSupportedDomain=E,n.hasMappedDomain=C,n.hasPendingGoogleAppsUsers=_,n.isInitialized=p,n.isMappedDomain=f,n.isRegisteredDomain=y,n.isSubdomain=c,n.restartInboundTransfer=l},"./client/lib/domains/tlds/wpcom-multi-level-tlds.json":function(e,n){e.exports={"co.in":1,"com.br":0,"firm.in":1,"gen.in":1,"ind.in":1,"net.br":0,"net.in":1,"org.in":1}},"./client/lib/url/support.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o="https://support.wordpress.com";n.default={ACCOUNT_RECOVERY:o+"/account-recovery",ADDING_GOOGLE_APPS_TO_YOUR_SITE:o+"/adding-g-suite-to-your-site",ADDING_USERS:o+"/adding-users",ALL_ABOUT_DOMAINS:o+"/all-about-domains",AUTO_RENEWAL:o+"/auto-renewal",BANDPAGE_WIDGET:o+"/widgets/bandpage-widget",CATEGORIES_VS_TAGS:o+"/posts/categories-vs-tags",CHANGE_NAME_SERVERS:o+"/domains/change-name-servers",CHANGE_NAME_SERVERS_FINDING_OUT_NEW_NS:o+"/domains/change-name-servers/#finding-out-your-new-name-server",COMMENTS:o+"/category/comments",COMMUNITY_TRANSLATOR:o+"/community-translator",COMPLETING_GOOGLE_APPS_SIGNUP:o+"/adding-g-suite-to-your-site/#completing-sign-up",CONNECT:o+"/connect",CONTACT:o+"/contact",CALYPSO_CONTACT:"/help/contact",CALYPSO_COURSES:"/help/courses",CREATE:o+"/create",CUSTOM_DNS:o+"/domains/custom-dns",DESIGNATED_AGENT:o+"/designated-agent/",DOMAIN_HELPER_PREFIX:o+"/domain-helper/?host=",DOMAIN_REGISTRATION_AGREEMENTS:o+"/domain-registration-agreements/",DOMAINS:o+"/domains",EMAIL_FORWARDING:o+"/email-forwarding",EMAIL_VALIDATION_AND_VERIFICATION:o+"/domains/register-domain/#email-validation-and-verification",EMPTY_SITE:o+"/empty-site/",ENABLE_DISABLE_COMMENTS:o+"/enable-disable-comments",EVENTBRITE:o+"/eventbrite",EVENTBRITE_EVENT_CALENDARLISTING_WIDGET:o+"/widgets/eventbrite-event-calendarlisting-widget",EXPORT:o+"/export",FACEBOOK_EMBEDS:o+"/facebook-integration/facebook-embeds",FACEBOOK_LIKE_BOX:o+"/facebook-integration/#facebook-like-box",FOLLOWERS:o+"/followers",GETTING_MORE_VIEWS_AND_TRAFFIC:o+"/getting-more-views-and-traffic",GOOGLE_ANALYTICS:o+"/google-analytics",GOOGLE_APPS_LEARNING_CENTER:"https://gsuite.google.com/learning-center/",GOOGLE_PLUS_EMBEDS:o+"/google-plus-embeds",GRAVATAR_HOVERCARDS:o+"/gravatar-hovercards",GUIDED_TRANSFER:o+"/guided-transfer",IMPORT:o+"/import",INSTAGRAM_WIDGET:o+"/instagram/instagram-widget",JETPACK_SUPPORT:"https://jetpack.com/support/",JETPACK_CONTACT_SUPPORT:"https://jetpack.com/contact-support/?rel=support",JETPACK_SERVICE_VAULTPRESS:"https://help.vaultpress.com/",JETPACK_SERVICE_AKISMET:"https://akismet.com/support/",JETPACK_SERVICE_POLLDADDY:"https://support.polldaddy.com/",LIVE_CHAT:o+"/live-chat",MANAGE_PURCHASES:o+"/manage-purchases",MAP_EXISTING_DOMAIN:o+"/domains/map-existing-domain",MAP_EXISTING_DOMAIN_UPDATE_DNS:o+"/domains/map-existing-domain#2-ask-your-domain-provider-to-update-your-dns-settings",MAP_SUBDOMAIN:o+"/domains/map-subdomain",MEDIA:o+"/media",PUBLICIZE:o+"/publicize",PUBLIC_VS_PRIVATE:o+"/domains/register-domain/#public-versus-private",REFUNDS:o+"/refunds",REGISTER_DOMAIN:o+"/domains/register-domain/",SEO_TAGS:o+"/getting-more-views-and-traffic/#use-appropriate-tags",SETTING_PRIMARY_DOMAIN:o+"/domains/#setting-the-primary-domain",SETTING_UP_PREMIUM_SERVICES:o+"/setting-up-premium-services",STRONG_PASSWORD:o+"/selecting-a-strong-password/",SHARING:o+"/sharing",START:o+"/start",STATS_CLICKS:o+"/stats/#clicks",STATS_REFERRERS:o+"/stats/#referrers",STATS_SEO_TERMS:o+"/stats/#search-engine-terms",STATS_SPAM_REFERRER:o+"/stats/#marking-spam-referrers",STATS_TOP_POSTS_PAGES:o+"/stats/#top-posts-pages",STATS_VIEWS_BY_COUNTRY:o+"/stats/#views-by-country",SUPPORT_ROOT:o+"/",TRANSFER_DOMAIN_REGISTRATION:o+"/transfer-domain-registration",TWITTER_TIMELINE_WIDGET:o+"/widgets/twitter-timeline-widget",UPDATE_CONTACT_INFORMATION:o+"/update-contact-information/",UPDATE_NAMESERVERS:o+"/domains/domain-management/#update-nameservers",USERS:o+"/category/users",USER_ROLES:o+"/user-roles",VIDEOS:o+"/videos",WPCC:o+"/wpcc-faq"},e.exports=n.default},"./client/my-sites/current-site/domain-warnings.jsx":function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("./node_modules/react-redux/es/index.js"),a=t("./node_modules/prop-types/index.js"),s=o(a),r=t("./node_modules/react/react.js"),l=o(r),m=t("./client/my-sites/domains/components/domain-warnings/index.jsx"),d=o(m),u=t("./client/state/sites/domains/selectors.js"),c=t("./client/state/ui/selectors.js"),p=t("./client/state/sites/selectors.js"),g=t("./client/components/data/query-site-domains/index.jsx"),f=o(g),h=["unverifiedDomainsCanManage","unverifiedDomainsCannotManage","expiredDomainsCanManage","expiringDomainsCanManage","expiredDomainsCannotManage","expiringDomainsCannotManage","wrongNSMappedDomains","pendingGappsTosAcceptanceDomains"],E=function(e){var n=e.domains,t=e.isJetpack,o=e.selectedSite;return!o||t?null:l.default.createElement("div",null,l.default.createElement(f.default,{siteId:o.ID}),l.default.createElement(d.default,{isCompact:!0,selectedSite:o,domains:n,ruleWhiteList:h}))};E.propTypes={domains:s.default.array,isJetpack:s.default.bool,selectedSite:s.default.object},n.default=(0,i.connect)(function(e){var n=(0,c.getSelectedSiteId)(e);return{domains:(0,u.getDecoratedSiteDomains)(e,n),isJetpack:(0,p.isJetpackSite)(e,n),selectedSite:(0,c.getSelectedSite)(e)}})(E),e.exports=n.default},"./client/my-sites/domains/components/domain-warnings/index.jsx":function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.DomainWarnings=void 0;var i=t("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o(i),s=t("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=o(s),l=t("./node_modules/babel-runtime/helpers/createClass.js"),m=o(l),d=t("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=o(d),c=t("./node_modules/babel-runtime/helpers/inherits.js"),p=o(c),g=t("./node_modules/prop-types/index.js"),f=o(g),h=t("./node_modules/react/react.js"),E=o(h),_=t("./node_modules/debug/browser.js"),S=o(_),y=t("./node_modules/moment/moment.js"),v=o(y),D=t("./node_modules/lodash/lodash.js"),C=t("./node_modules/i18n-calypso/index.js"),A=t("./node_modules/react-redux/es/index.js"),N=t("./client/state/analytics/actions.js"),b=t("./client/components/notice/index.jsx"),k=o(b),T=t("./client/components/notice/notice-action.jsx"),w=o(T),M=t("./client/my-sites/domains/components/domain-warnings/pending-gapps-tos-notice.jsx"),x=o(M),I=t("./client/me/purchases/paths.js"),R=o(I),L=t("./client/lib/domains/constants.js"),P=t("./client/lib/domains/index.js"),O=t("./client/lib/url/support.js"),G=o(O),j=t("./client/my-sites/domains/paths.js"),U=o(j),F=t("./client/lib/analytics/track-component-view/index.jsx"),W=o(F),V=(0,S.default)("calypso:domain-warnings"),B=E.default.createElement("a",{href:G.default.ALL_ABOUT_DOMAINS,target:"_blank",rel:"noopener noreferrer"}),Y=E.default.createElement("a",{href:G.default.DOMAINS,target:"_blank",rel:"noopener noreferrer"}),H=E.default.createElement("p",null),q="expired-domains-can-manage",z="expired-domains-cannot-manage",J="expiring-domains-can-manage",K="expiring-domains-cannot-manage",X=n.DomainWarnings=function(e){function n(){var e,t,o,i;(0,r.default)(this,n);for(var s=arguments.length,l=Array(s),m=0;m<s;m++)l[m]=arguments[m];return t=o=(0,u.default)(this,(e=n.__proto__||(0,a.default)(n)).call.apply(e,[this].concat(l))),o.wrongNSMappedDomains=function(){if(V("Rendering wrongNSMappedDomains"),(0,D.get)(o.props,"selectedSite.jetpack")||(0,D.get)(o.props,"selectedSite.options.is_automated_transfer"))return null;var e=o.getDomains().filter(function(e){return e.type===L.type.MAPPED&&!e.pointsToWpcom});if(V("NS error domains:",e),0===e.length)return null;var n=o.props.translate,t=void 0,i=void 0,a=null;if(1===e.length){var s=e[0];(0,P.isSubdomain)(s.name)?(i=n("{{strong}}%(domainName)s's{{/strong}} CNAME records should be configured.",{components:{strong:E.default.createElement("strong",null)},args:{domainName:s.name},context:"Notice for mapped subdomain that has CNAME records need to set up"}),t=G.default.MAP_SUBDOMAIN):(i=n("{{strong}}%(domainName)s's{{/strong}} name server records should be configured.",{components:{strong:E.default.createElement("strong",null)},args:{domainName:s.name},context:"Notice for mapped domain notice with NS records pointing to somewhere else"}),t=G.default.DOMAIN_HELPER_PREFIX+s.name)}else a=E.default.createElement("ul",null,e.map(function(e){return E.default.createElement("li",{key:e.name},e.name)})),(0,D.every)((0,D.map)(e,"name"),P.isSubdomain)?(i=n("Some of your domains' CNAME records should be configured.",{context:"Notice for mapped subdomain that has CNAME records need to set up"}),t=G.default.MAP_SUBDOMAIN):(i=n("Some of your domains' name server records should be configured.",{context:"Mapped domain notice with NS records pointing to somewhere else"}),t=G.default.MAP_EXISTING_DOMAIN_UPDATE_DNS);var r={isCompact:o.props.isCompact,status:"is-warning",className:"domain-warnings__notice",showDismiss:!1,key:"wrong-ns-mapped-domain"},l=void 0;return o.props.isCompact?(r.text=n("DNS configuration required"),l=E.default.createElement(w.default,{href:U.default.domainManagementList(o.props.selectedSite.slug)},n("Fix"))):l=E.default.createElement("span",null,i," ",E.default.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},n("Learn more")),a),E.default.createElement(k.default,r,l)},o.onExpiredDomainsNoticeClick=function(){o.trackClick(q)},o.expiredDomainsCanManage=function(){V("Rendering expiredDomainsCanManage");var e=o.getDomains().filter(function(e){return e.expired&&e.type===L.type.REGISTERED&&e.currentUserCanManage});if(0===e.length)return null;var n=o.props.translate,t=void 0;return t=1===e.length?n("{{strong}}%(domainName)s{{/strong}} expired %(timeSince)s.",{components:{strong:E.default.createElement("strong",null)},args:{timeSince:e[0].expirationMoment.fromNow(),domainName:e[0].name},context:"Expired domain notice",comment:'%(timeSince)s is something like "a year ago"'}):n("Some of your domains have expired.",{context:"Expired domain notice"}),E.default.createElement(k.default,{isCompact:o.props.isCompact,status:"is-error",showDismiss:!1,key:q,text:t},o.renewLink(e,o.onExpiredDomainsNoticeClick),o.trackImpression(q,e.length))},o.expiredDomainsCannotManage=function(){var e=o.getDomains().filter(function(e){return e.expired&&e.type===L.type.REGISTERED&&!e.currentUserCanManage});if(0===e.length)return null;var n=o.props.translate,t=void 0;return t=1===e.length?n("The domain {{strong}}%(domainName)s{{/strong}} expired %(timeSince)s. It can be renewed by the user {{strong}}%(owner)s{{/strong}}.",{components:{strong:E.default.createElement("strong",null)},args:{timeSince:e[0].expirationMoment.fromNow(),domainName:e[0].name,owner:e[0].owner},context:"Expired domain notice",comment:'%(timeSince)s is something like "a year ago"'}):n("Some domains on this site expired recently. They can be renewed by their owners.",{context:"Expired domain notice"}),E.default.createElement(k.default,{isCompact:o.props.isCompact,showDismiss:!1,key:z,text:t},o.trackImpression(z,e.length))},o.onExpiringDomainsNoticeClick=function(){o.trackClick(q)},o.expiringDomainsCanManage=function(){var e=o.getDomains().filter(function(e){return e.expirySoon&&e.type===L.type.REGISTERED&&e.currentUserCanManage});if(0===e.length)return null;var n=o.props.translate,t=void 0;return t=1===e.length?n("{{strong}}%(domainName)s{{/strong}} is expiring %(timeUntil)s.",{components:{strong:E.default.createElement("strong",null)},args:{timeUntil:e[0].expirationMoment.fromNow(),domainName:e[0].name},context:"Expiring soon domain notice",comment:'%(timeUntil)s is something like "in a week"'}):n("Some of your domains are expiring soon.",{context:"Expiring domain notice"}),E.default.createElement(k.default,{isCompact:o.props.isCompact,status:"is-error",showDismiss:!1,key:J,text:t},o.renewLink(e,o.onExpiringDomainsNoticeClick),o.trackImpression(J,e.length))},o.expiringDomainsCannotManage=function(){var e=o.getDomains().filter(function(e){return e.expirySoon&&e.type===L.type.REGISTERED&&!e.currentUserCanManage});if(0===e.length)return null;var n=o.props.translate,t=void 0;return t=1===e.length?n("The domain {{strong}}%(domainName)s{{/strong}} will expire %(timeUntil)s. It can be renewed by the user {{strong}}%(owner)s{{/strong}}.",{components:{strong:E.default.createElement("strong",null)},args:{timeUntil:e[0].expirationMoment.fromNow(),domainName:e[0].name,owner:e[0].owner},context:"Expiring soon domain notice",comment:'%(timeUntil)s is something like "in a week"'}):n("Some domains on this site are about to expire. They can be renewed by their owners.",{context:"Expiring domain notice"}),E.default.createElement(k.default,{isCompact:o.props.isCompact,showDismiss:!1,key:K,text:t},o.trackImpression(K,e.length))},o.newDomains=function(){if((0,D.get)(o.props,"selectedSite.options.is_domain_only"))return null;var e=o.getDomains().filter(function(e){return e.registrationMoment&&(0,v.default)(e.registrationMoment).add(3,"days").isAfter((0,v.default)())&&e.type===L.type.REGISTERED});if(0===e.length)return null;var n=o.props.translate,t=e.some(function(e){return o.props.selectedSite.domain===e.name}),i=void 0;if(e.length>1)i=t?n("{{pNode}}We are setting up your new domains for you. They should start working immediately, but may be unreliable during the first 72 hours.{{/pNode}}{{pNode}}If you are unable to access your site at %(primaryDomain)s, try setting the primary domain to a domain you know is working. {{domainsLink}}Learn more{{/domainsLink}} about setting the primary domain.{{/pNode}}",{args:{primaryDomain:o.props.selectedSite.domain},components:{pNode:H,domainsLink:Y}}):n("We are setting up your new domains for you. They should start working immediately, but may be unreliable during the first 72 hours. {{allAboutDomainsLink}}Learn more{{/allAboutDomainsLink}}.",{components:{allAboutDomainsLink:B}});else{var a=e[0];i=t?n("{{pNode}}We are setting up {{strong}}%(domainName)s{{/strong}} for you. It should start working immediately, but may be unreliable during the first 72 hours.{{/pNode}}{{pNode}}If you are unable to access your site at {{strong}}%(domainName)s{{/strong}}, try setting the primary domain to a domain you know is working. {{domainsLink}}Learn more{{/domainsLink}} about setting the primary domain, or {{tryNowLink}}try {{strong}}%(domainName)s{{/strong}} now.{{/tryNowLink}}{{/pNode}}",{args:{domainName:a.name},components:{domainsLink:Y,pNode:H,tryNowLink:E.default.createElement("a",{href:"http://"+a.name,target:"_blank",rel:"noopener noreferrer"}),strong:E.default.createElement("strong",null)}}):n("We are setting up {{strong}}%(domainName)s{{/strong}} for you. It should start working immediately, but may be unreliable during the first 72 hours. {{allAboutDomainsLink}}Learn more{{/allAboutDomainsLink}} about your new domain, or {{tryNowLink}} try it now{{/tryNowLink}}.",{args:{domainName:a.name},components:{allAboutDomainsLink:B,tryNowLink:E.default.createElement("a",{href:"http://"+a.name,target:"_blank",rel:"noopener noreferrer"}),strong:E.default.createElement("strong",null)}})}return E.default.createElement(k.default,{isCompact:o.props.isCompact,status:"is-warning",showDismiss:!1,key:"new-domains"},i)},o.unverifiedDomainsCanManage=function(){var e=o.getDomains().filter(function(e){return e.isPendingIcannVerification&&e.currentUserCanManage});if(0===e.length)return null;var n=e.some(function(e){var n=e.registrationMoment;return n&&(0,v.default)(n).add(2,"days").isAfter()}),t=n?"is-info":"is-error",i=o.props.translate,a=i("Fix");if(1===e.length){var s=e[0].name,r=void 0,l=void 0;return"is-error"===t?(r=i("Your domain {{strong}}%(domain)s{{/strong}} may be suspended because your email address is not verified.",{components:{strong:E.default.createElement("strong",null)},args:{domain:s}}),l=i("Issues with {{strong}}%(domain)s{{/strong}}.",{components:{strong:E.default.createElement("strong",null)},args:{domain:s}})):"is-info"===t&&(r=i("{{strong}}%(domain)s{{/strong}} needs to be verified. You should receive an email shortly with more information.",{components:{strong:E.default.createElement("strong",null)},args:{domain:s}}),l=i("Please verify {{strong}}%(domain)s{{/strong}}.",{components:{strong:E.default.createElement("strong",null)},args:{domain:s}})),E.default.createElement(k.default,{isCompact:o.props.isCompact,status:t,showDismiss:!1,className:"domain-warnings__notice",key:"unverified-domains-can-manage",text:o.props.isCompact?l:r},E.default.createElement(w.default,{href:U.default.domainManagementEdit(o.props.selectedSite.slug,s)},a))}var m=void 0,d=void 0,u=void 0,c=function(e){return U.default.domainManagementEdit(o.props.selectedSite.slug,e)};return"is-error"===t?(m=E.default.createElement("span",null,i("Your domains may be suspended because your email address is not verified."),E.default.createElement("ul",null,e.map(function(e){var n=e.name;return E.default.createElement("li",{key:n},n," ",E.default.createElement("a",{href:c(n)},a))}))),u=i("Issues with your domains."),d=E.default.createElement(w.default,{href:U.default.domainManagementList(o.props.selectedSite.slug)},a)):"is-info"===t&&(m=E.default.createElement("span",null,i("Please verify ownership of domains:"),E.default.createElement("ul",null,e.map(function(e){var n=e.name;return E.default.createElement("li",{key:n},n," ",E.default.createElement("a",{href:c(n)},a))}))),u=i("Verification required for domains."),d=E.default.createElement(w.default,{href:U.default.domainManagementList(o.props.selectedSite.slug)},a)),E.default.createElement(k.default,{isCompact:o.props.isCompact,status:t,showDismiss:!1,className:"domain-warnings__notice",key:"unverified-domains-can-manage",text:o.props.isCompact&&u},o.props.isCompact?d:m)},o.unverifiedDomainsCannotManage=function(){var e=o.getDomains().filter(function(e){return e.isPendingIcannVerification&&!e.currentUserCanManage});if(0===e.length)return null;var n=o.props.translate,t=E.default.createElement(w.default,{href:U.default.domainManagementList(o.props.selectedSite.slug)},n("More"));if(1===e.length){var i=n("The domain {{strong}}%(domain)s{{/strong}} may be suspended because the owner, {{strong}}%(owner)s{{/strong}}, has not verified their contact information.",{components:{strong:E.default.createElement("strong",null)},args:{domain:e[0].name,owner:e[0].owner}}),a=n("Issues with {{strong}}%(domain)s{{/strong}}.",{components:{strong:E.default.createElement("strong",null)},args:{domain:e[0].name}});return E.default.createElement(k.default,{isCompact:o.props.isCompact,showDismiss:!1,className:"domain-warnings__notice",key:"unverified-domains-cannot-manage",text:o.props.isCompact?a:i},o.props.isCompact&&t)}var s=E.default.createElement("span",null,n("Some domains on this site are about to be suspended because their owner has not verified their contact information."),E.default.createElement("ul",null,e.map(function(e){return E.default.createElement("li",{key:e.name},e.name)}))),r=n("Issues with domains on this site.");return E.default.createElement(k.default,{isCompact:o.props.isCompact,showDismiss:!1,className:"domain-warnings__notice",key:"unverified-domains-cannot-manage",text:o.props.isCompact&&r},o.props.isCompact?t:s)},o.pendingGappsTosAcceptanceDomains=function(){var e=o.getDomains().filter(P.hasPendingGoogleAppsUsers);return 0!==e.length&&E.default.createElement(x.default,{isCompact:o.props.isCompact,key:"pending-gapps-tos-notice",siteSlug:o.props.selectedSite&&o.props.selectedSite.slug,domains:e,section:"domain-management"})},o.pendingTransfer=function(){var e=(0,D.find)(o.getDomains(),"pendingTransfer");if(!e)return null;var n=o.props.translate,t=n("{{strong}}%(domain)s{{/strong}} is pending transfer.",{components:{strong:E.default.createElement("strong",null)},args:{domain:e.name}}),i=n("{{strong}}%(domain)s{{/strong}} is pending transfer. You must wait for the transfer to finish, and then update the settings at the new registrar.",{components:{strong:E.default.createElement("strong",null)},args:{domain:e.name}});return E.default.createElement(k.default,{isCompact:o.props.isCompact,status:"is-warning",showDismiss:!1,className:"domain-warnings__notice",key:"pending-transfer",text:o.props.isCompact&&t},!o.props.isCompact&&i)},o.transferStatus=function(){var e=(0,D.find)(o.getDomains(),function(e){return e.type===L.type.TRANSFER});if(!e)return null;var n=o.props.translate,t="is-warning",i=null,a=n("Transfer in Progress"),s=U.default.domainManagementTransferIn(o.props.selectedSite.slug,e.name),r=E.default.createElement(w.default,{href:s},n("Fix"));switch(e.transferStatus){case L.transferStatus.PENDING_OWNER:i=n("Transfer confirmation required"),a=n("The transfer of {{strong}}%(domain)s{{/strong}} is in progress. We are waiting for authorization from your current domain provider to proceed. {{a}}Learn more{{/a}}",{components:{strong:E.default.createElement("strong",null),a:E.default.createElement("a",{href:"#"})},args:{domain:e.name}});break;case L.transferStatus.CANCELLED:t="is-error",i=n("Domain transfer failed"),a=n("The transfer of {{strong}}%(domain)s{{/strong}} has failed. {{a}}More info{{/a}}",{components:{strong:E.default.createElement("strong",null),a:E.default.createElement("a",{href:s})},args:{domain:e.name}})}return E.default.createElement(k.default,{isCompact:o.props.isCompact,status:t,showDismiss:!1,className:"domain-warnings__notice",key:"transfer-status",text:o.props.isCompact&&i},o.props.isCompact?i&&r:a)},i=t,(0,u.default)(o,i)}return(0,p.default)(n,e),(0,m.default)(n,[{key:"renewLink",value:function(e,n){var t=e.length,o=this.props,i=o.selectedSite,a=o.translate,s=a("Renew it now.","Renew them now.",{count:t,context:"Call to action link for renewing an expiring/expired domain"}),r=a("Renew",{context:"Call to action link for renewing an expiring/expired domain"}),l=e[0].name,m=e[0].subscriptionId,d=1===t?"/checkout/domain_map:"+l+"/renew/"+m+"/"+i.slug:R.default.purchasesRoot();return E.default.createElement(w.default,{href:d,onClick:n},this.props.isCompact?r:s)}},{key:"getPipe",value:function(){var e=this,n=[this.expiredDomainsCanManage,this.expiringDomainsCanManage,this.unverifiedDomainsCanManage,this.unverifiedDomainsCannotManage,this.pendingGappsTosAcceptanceDomains,this.expiredDomainsCannotManage,this.expiringDomainsCannotManage,this.wrongNSMappedDomains,this.newDomains,this.pendingTransfer,this.transferStatus],t=this.props.ruleWhiteList.map(function(n){return e[n]});return(0,D.intersection)(n,t)}},{key:"getDomains",value:function(){return this.props.domains||[this.props.domain]}},{key:"trackImpression",value:function(e,n){var t=this.props.position;return E.default.createElement(W.default,{eventName:"calypso_domain_warning_impression",eventProperties:{position:t,warning:e,count:n}})}},{key:"trackClick",value:function(e){var n=this.props.position;this.props.recordTracksEvent("calypso_domain_warning_click",{position:n,warning:e})}},{key:"componentWillMount",value:function(){this.props.domains||this.props.domain||V('You need provide either "domains" or "domain" property to this component.')}},{key:"render",value:function(){V("Domains:",this.getDomains());var e=this.getPipe().map(function(e){return e()}).filter(function(e){return e});return e.length?E.default.createElement("div",null,e):null}}]),n}(E.default.PureComponent);X.propTypes={domains:f.default.array,ruleWhiteList:f.default.array,domain:f.default.object,isCompact:f.default.bool,selectedSite:f.default.oneOfType([f.default.object,f.default.bool])},X.defaultProps={isCompact:!1,ruleWhiteList:["expiredDomainsCanManage","expiringDomainsCanManage","unverifiedDomainsCanManage","pendingGappsTosAcceptanceDomains","expiredDomainsCannotManage","expiringDomainsCannotManage","unverifiedDomainsCannotManage","wrongNSMappedDomains","newDomains","transferStatus"]};var $=null,Q={recordTracksEvent:N.recordTracksEvent};n.default=(0,A.connect)($,Q)((0,C.localize)(X))},"./client/my-sites/domains/components/domain-warnings/pending-gapps-tos-notice-multiple-domain-list-item.js":function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o(i),s=t("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=o(s),l=t("./node_modules/babel-runtime/helpers/createClass.js"),m=o(l),d=t("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=o(d),c=t("./node_modules/babel-runtime/helpers/inherits.js"),p=o(c),g=t("./node_modules/react/react.js"),f=o(g),h=t("./node_modules/i18n-calypso/index.js"),E=function(e){function n(){var e,t,o,i;(0,r.default)(this,n);for(var s=arguments.length,l=Array(s),m=0;m<s;m++)l[m]=arguments[m];return t=o=(0,u.default)(this,(e=n.__proto__||(0,a.default)(n)).call.apply(e,[this].concat(l))),o.onClickHandler=function(){o.props.onClick(o.props.domainName,o.props.user)},i=t,(0,u.default)(o,i)}return(0,p.default)(n,e),(0,m.default)(n,[{key:"render",value:function(){return f.default.createElement("a",{href:this.props.href,onClick:this.onClickHandler,target:"_blank",rel:"noopener noreferrer"},this.props.translate("Log in"))}}]),n}(f.default.PureComponent);n.default=(0,h.localize)(E),e.exports=n.default},"./client/my-sites/domains/components/domain-warnings/pending-gapps-tos-notice.jsx":function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o(i),s=t("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=o(s),l=t("./node_modules/babel-runtime/helpers/createClass.js"),m=o(l),d=t("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=o(d),c=t("./node_modules/babel-runtime/helpers/inherits.js"),p=o(c),g=t("./node_modules/prop-types/index.js"),f=o(g),h=t("./node_modules/react/react.js"),E=o(h),_=t("./node_modules/react-redux/es/index.js"),S=t("./node_modules/i18n-calypso/index.js"),y=t("./client/components/notice/index.jsx"),v=o(y),D=t("./client/components/notice/notice-action.jsx"),C=o(D),A=t("./client/lib/url/support.js"),N=o(A),b=t("./client/my-sites/domains/paths.js"),k=t("./client/my-sites/domains/components/domain-warnings/pending-gapps-tos-notice-multiple-domain-list-item.js"),T=o(k),w=t("./client/state/analytics/actions.js"),M=E.default.createElement("a",{href:N.default.COMPLETING_GOOGLE_APPS_SIGNUP,target:"_blank",rel:"noopener noreferrer"}),x=E.default.createElement("strong",null),I=function(e){function n(){var e,t,o,i;(0,r.default)(this,n);for(var s=arguments.length,l=Array(s),m=0;m<s;m++)l[m]=arguments[m];return t=o=(0,u.default)(this,(e=n.__proto__||(0,a.default)(n)).call.apply(e,[this].concat(l))),o.recordLogInClick=function(e,n,t){o.props.pendingAccountLogInClick({domainName:e,isMultipleDomains:t,user:n,severity:o.getNoticeSeverity(),section:o.props.section,siteSlug:o.props.siteSlug})},o.logInClickHandlerOneDomain=function(){o.recordLogInClick(o.props.domains[0].name,o.props.domains[0].googleAppsSubscription.pendingUsers[0],!1)},o.logInClickHandlerMultipleDomains=function(e,n){o.recordLogInClick(e,n,!0)},o.fixClickHandler=function(){o.props.fixPendingEmailSiteNoticeClick(o.props.siteSlug)},i=t,(0,u.default)(o,i)}return(0,p.default)(n,e),(0,m.default)(n,[{key:"componentDidMount",value:function(){this.props.showPendingAccountNotice({siteSlug:this.props.siteSlug,severity:this.getNoticeSeverity(),isMultipleDomains:this.props.domains.length>1,section:this.props.section})}},{key:"getGappsLoginUrl",value:function(e,n){return"https://accounts.google.com/AccountChooser?Email="+e+"&service=CPanel&continue=https%3A%2F%2Fadmin.google.com%2F"+n+"%2FAcceptTermsOfService%3Fcontinue%3Dhttps%3A%2F%2Fmail.google.com%2Fmail%2Fu%2F1"}},{key:"getNoticeSeverity",value:function(){var e=this.props.moment,n=function(n){return function(t){return e(t.googleAppsSubscription.subscribedDate).isBefore(e().subtract(n,"days"))}};return this.props.domains.some(n(21))?"error":this.props.domains.some(n(7))?"warning":"info"}},{key:"getExclamation",value:function(e){var n=this.props.translate,t={context:"Beginning of Gapps pending account notice",comment:"Used as an exclamation in Gapps' pending account notice"
};switch(e){case"warning":return n("Attention!",t);case"error":return n("Urgent!",t);default:return n("You're almost there!",t)}}},{key:"compactNotice",value:function(){var e=this.getNoticeSeverity(),n=1===this.props.domains.length?(0,b.domainManagementEmail)(this.props.siteSlug,this.props.domains[0].name):(0,b.domainManagementEmail)(this.props.siteSlug);return E.default.createElement(v.default,{isCompact:this.props.isCompact,status:"is-"+e,showDismiss:!1,key:"pending-gapps-tos-acceptance-domain-compact",text:this.props.translate("Email requires action","Emails require action",{count:this.props.domains.length})},E.default.createElement(C.default,{href:n,onClick:this.fixClickHandler},this.props.translate("Fix")))}},{key:"oneDomainNotice",value:function(){var e=this.props.translate,n=this.getNoticeSeverity(),t=this.getExclamation(n),o=this.props.domains[0].name,i=this.props.domains[0].googleAppsSubscription.pendingUsers;return E.default.createElement(v.default,{isCompact:this.props.isCompact,status:"is-"+n,showDismiss:!1,key:"pending-gapps-tos-acceptance-domain",text:e("%(exclamation)s To activate your email {{strong}}%(emails)s{{/strong}}, please log in to G Suite and finish setting it up. {{learnMoreLink}}Learn More{{/learnMoreLink}}","%(exclamation)s To activate your emails {{strong}}%(emails)s{{/strong}}, please log in to G Suite and finish setting it up. {{learnMoreLink}}Learn More{{/learnMoreLink}}",{count:i.length,args:{exclamation:t,emails:i.join(", ")},components:{learnMoreLink:M,strong:x}})},E.default.createElement(C.default,{href:this.getGappsLoginUrl(i[0],o),onClick:this.logInClickHandlerOneDomain,external:!0},e("Log in")))}},{key:"multipleDomainsNotice",value:function(){var e=this,n=this.props.translate,t=this.getNoticeSeverity(),o=this.getExclamation(t);return E.default.createElement(v.default,{status:"is-"+t,showDismiss:!1,key:"pending-gapps-tos-acceptance-domains"},n("%(exclamation)s To activate your new email addresses, please log in to G Suite and finish setting them up. {{learnMoreLink}}Learn more{{/learnMoreLink}}",{args:{exclamation:o},components:{learnMoreLink:M}}),E.default.createElement("ul",null,this.props.domains.map(function(n){var t=n.name,o=n.googleAppsSubscription.pendingUsers;return E.default.createElement("li",{key:"pending-gapps-tos-acceptance-domain-"+t},E.default.createElement("strong",null,o.join(", ")," "),E.default.createElement(T.default,{href:e.getGappsLoginUrl(o[0],t),domainName:t,user:o[0],onClick:e.logInClickHandlerMultipleDomains}))})))}},{key:"render",value:function(){if(this.props.isCompact)return this.compactNotice();switch(this.props.domains.length){case 0:return null;case 1:return this.oneDomainNotice();default:return this.multipleDomainsNotice()}}}]),n}(E.default.PureComponent);I.propTypes={siteSlug:f.default.string.isRequired,domains:f.default.array.isRequired,section:f.default.string.isRequired,isCompact:f.default.bool},I.defaultProps={isCompact:!1};var R=function(e){var n=e.siteSlug,t=e.domainName,o=e.user,i=e.severity,a=e.isMultipleDomains,s=e.section;return(0,w.composeAnalytics)((0,w.recordGoogleEvent)("Domain Management",'Clicked "Log in" link in Google Apps pending ToS notice in '+s,"Domain Name",t),(0,w.recordTracksEvent)("calypso_domain_management_google_apps_pending_account_log_in_click",{site_slug:n,domain_name:t,user:o,severity:i,is_multiple_domains:a,section:s}))},L=function(e){var n=e.siteSlug,t=e.severity,o=e.isMultipleDomains,i=e.section;return(0,w.composeAnalytics)((0,w.recordGoogleEvent)("Domain Management","Showed pending account notice","Site",n),(0,w.recordTracksEvent)("calypso_domain_management_google_apps_pending_account_notice_show",{site_slug:n,severity:t,is_multiple_domains:o,section:i}))},P=function(e){return(0,w.composeAnalytics)((0,w.recordGoogleEvent)("Domain Management",'Clicked "Fix" link in site notice for email requiring action',"Site",e),(0,w.recordTracksEvent)("calypso_domain_management_google_apps_site_fix_click",{site_slug:e}))};n.default=(0,_.connect)(null,{fixPendingEmailSiteNoticeClick:P,pendingAccountLogInClick:R,showPendingAccountNotice:L})((0,S.localize)(I)),e.exports=n.default}});