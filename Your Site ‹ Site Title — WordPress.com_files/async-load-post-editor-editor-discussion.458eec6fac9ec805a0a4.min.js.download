webpackJsonp(["async-load-post-editor-editor-discussion"],{"./client/post-editor/editor-discussion/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return e?"open":"closed"}function a(e){return"open"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.EditorDiscussion=void 0;var l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),d=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(r),u=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(u),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),_=n(m),h=s("./node_modules/lodash/lodash.js"),b=s("./node_modules/i18n-calypso/index.js"),g=s("./node_modules/prop-types/index.js"),j=n(g),v=s("./node_modules/react/react.js"),y=n(v),C=s("./client/post-editor/editor-fieldset/index.jsx"),k=n(C),E=s("./client/components/forms/form-checkbox/index.jsx"),x=n(E),N=s("./client/lib/posts/actions.js"),w=n(N),D=s("./client/components/info-popover/index.jsx"),P=n(D),S=s("./client/lib/posts/stats.js"),T=t.EditorDiscussion=function(e){function t(){var e,s,n,a;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,f.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(r))),n.getDiscussionSetting=function(){if(n.props.post&&n.props.post.discussion)return n.props.post.discussion;if(n.props.site&&n.props.isNew&&n.props.post){var e=n.props.site,t="page"===n.props.post.type,s=(0,h.get)(e,"options.default_comment_status",!1),a=(0,h.get)(e,"options.default_ping_status",!1);return{comment_status:t?"closed":o(s),ping_status:t?"closed":o(a)}}return{}},n.onChange=function(e){var t,s,a=(0,h.pick)(n.getDiscussionSetting(),"comment_status","ping_status"),l=o(e.target.checked),d=e.target.name;a[d]=l,"comment_status"===d?(t=e.target.checked?"advanced_comments_open_enabled":"advanced_comments_open_disabled",s="Comment status changed"):(t=e.target.checked?"advanced_pings_open_enabled":"advanced_pings_open_disabled",s="Trackback status changed"),(0,S.recordStat)(t),(0,S.recordEvent)(s,l),w.default.edit({discussion:a})},a=s,(0,f.default)(n,a)}return(0,_.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.getDiscussionSetting();return y.default.createElement(k.default,{legend:this.props.translate("Discussion")},y.default.createElement("label",null,y.default.createElement(x.default,{name:"comment_status",checked:a(e.comment_status),disabled:!this.props.post,onChange:this.onChange}),y.default.createElement("span",null,this.props.translate("Allow comments"),y.default.createElement(P.default,{position:"top right",className:"editor-comment_status__info",gaEventCategory:"Editor",popoverName:"CommentStatus"},this.props.translate("Provide a comment section to give readers the ability to respond.")))),y.default.createElement("label",null,y.default.createElement(x.default,{name:"ping_status",checked:a(e.ping_status),disabled:!this.props.post,onChange:this.onChange}),y.default.createElement("span",null,this.props.translate("Allow Pingbacks & Trackbacks"))))}}]),t}(y.default.Component);T.propTypes={isNew:j.default.bool,post:j.default.object,site:j.default.object,translate:j.default.func.isRequired},T.defaultProps={isNew:!1,translate:h.identity},t.default=(0,b.localize)(T)},"./client/post-editor/editor-fieldset/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),d=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),i=n(r),u=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(u),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),_=n(m),h=s("./node_modules/react/react.js"),b=n(h),g=s("./node_modules/classnames/index.js"),j=n(g),v=function(e){function t(){var e,s,n,o;(0,d.default)(this,t);for(var l=arguments.length,r=Array(l),i=0;i<l;i++)r[i]=arguments[i];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),n.renderChildren=function(){return b.default.Children.map(n.props.children,function(e){return b.default.createElement("div",{className:"editor-fieldset__option"},e)})},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return b.default.createElement("fieldset",{className:(0,j.default)("editor-fieldset",this.props.className)},b.default.createElement("legend",{className:"editor-fieldset__legend"},this.props.legend),this.renderChildren())}}]),t}(b.default.Component);v.displayName="EditorFieldset",v.propTypes={legend:_.default.oneOfType([_.default.string,_.default.element]).isRequired},t.default=v,e.exports=t.default}});