webpackJsonp(["people"],{"./client/blocks/author-selector/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/freeze.js"),a=s(i),l=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/createClass.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=s(h),_=n("./node_modules/babel-runtime/helpers/inherits.js"),v=s(_),g=n("./node_modules/react/react.js"),b=s(g),y=n("./node_modules/prop-types/index.js"),E=s(y),j=n("./node_modules/i18n-calypso/index.js"),x=n("./node_modules/debug/browser.js"),I=s(x),S=n("./node_modules/lodash/lodash.js"),w=n("./client/components/site-users-fetcher/index.jsx"),C=s(w),k=n("./client/blocks/author-selector/switcher-shell.jsx"),R=s(k),P=(0,I.default)("calypso:author-selector"),T=function(e){function t(){var e,n,s,r;(0,c.default)(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=s=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),s.state={search:""},s._updateSearch=function(e){e=e?"*"+e+"*":"",s.setState({search:e})},r=n,(0,m.default)(s,r)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){P("AuthorSelector mounted")}},{key:"render",value:function(){var e=this.state.search||"";e=(0,S.trim)(e);var t={siteId:this.props.siteId,order:"ASC",order_by:"display_name",number:50};return e&&(t.number=20,t.search=e,t.search_columns=["user_login","display_name"]),(0,a.default)(t),b.default.createElement(C.default,{fetchOptions:t,exclude:this.props.exclude},b.default.createElement(R.default,(0,o.default)({},this.props,{updateSearch:this._updateSearch})))}}]),t}(b.default.Component);T.displayName="AuthorSelector",T.propTypes={siteId:E.default.number.isRequired,onSelect:E.default.func,exclude:E.default.arrayOf(E.default.number),allowSingleUser:E.default.bool,popoverPosition:E.default.string},T.defaultProps={showAuthorMenu:!1,onClose:function(){},allowSingleUser:!1,popoverPosition:"bottom left"},t.default=(0,j.localize)(T),e.exports=t.default},"./client/blocks/author-selector/switcher-shell.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/assign.js"),o=s(r),i=n("./node_modules/react/react.js"),a=s(i),l=n("./node_modules/create-react-class/index.js"),u=s(l),d=n("./node_modules/react-dom/index.js"),c=s(d),f=n("./node_modules/prop-types/index.js"),p=s(f),h=n("./node_modules/i18n-calypso/index.js"),m=n("./node_modules/gridicons/build/index.js"),_=s(m),v=n("./node_modules/debug/browser.js"),g=s(v),b=n("./client/components/popover/index.jsx"),y=s(b),E=n("./client/components/popover/menu-item.jsx"),j=s(E),x=n("./client/components/user/index.jsx"),I=s(x),S=n("./client/components/infinite-list/index.jsx"),w=s(S),C=n("./client/lib/users/actions.js"),k=s(C),R=n("./client/components/search/index.jsx"),P=s(R),T=n("./client/lib/touch-detect/index.js"),O=(0,g.default)("calypso:author-selector"),M=0,D=(0,u.default)({displayName:"AuthorSwitcherShell",propTypes:{users:p.default.array,fetchingUsers:p.default.bool,numUsersFetched:p.default.number,totalUsers:p.default.number,usersCurrentOffset:p.default.number,allowSingleUser:p.default.bool,popoverPosition:p.default.string,ignoreContext:p.default.shape({getDOMNode:p.default.func})},getInitialState:function(){return{showAuthorMenu:!1}},componentWillMount:function(){this.instance=M,M++},componentWillReceiveProps:function(e){e.fetchOptions.siteId&&e.fetchOptions.siteId===this.props.fetchOptions.siteId||this.props.updateSearch(!1)},componentDidUpdate:function(e,t){var n=this;this.state.showAuthorMenu&&!t.showAuthorMenu&&this.props.users.length>10&&!(0,T.hasTouch)()&&setTimeout(function(){return n.refs.authorSelectorSearch.focus()},0)},render:function(){var e=this.props,t=e.users,n=e.fetchNameSpace,s=n+this.instance;return this._userCanSelectAuthor()?a.default.createElement("span",null,a.default.createElement("span",{className:"author-selector__author-toggle",onClick:this._toggleShowAuthor,tabIndex:-1,ref:"author-selector-toggle"},this.props.children,a.default.createElement(_.default,{ref:"authorSelectorChevron",icon:"chevron-down",size:16})),a.default.createElement(y.default,{isVisible:this.state.showAuthorMenu,onClose:this._onClose,position:this.props.popoverPosition,context:this.refs&&this.refs.authorSelectorChevron,onKeyDown:this._onKeyDown,className:"author-selector__popover popover",ignoreContext:this.props.ignoreContext},(this.props.fetchOptions.search||t.length>10)&&a.default.createElement(P.default,{compact:!0,onSearch:this._onSearch,placeholder:this.props.translate("Find Author…",{context:"search label"}),delaySearch:!0,ref:"authorSelectorSearch"}),this.props.fetchInitialized&&!t.length&&this.props.fetchOptions.search&&!this.props.fetchingUsers?this._noUsersFound():a.default.createElement(w.default,{items:t,key:s,className:"author-selector__infinite-list",ref:this._setListContext,context:this.state.listContext,fetchingNextPage:this.props.fetchingUsers,guessedItemHeight:42,lastPage:this._isLastPage(),fetchNextPage:this._fetchNextPage,getItemRef:this._getAuthorItemGUID,renderLoadingPlaceholders:this._renderLoadingAuthors,renderItem:this._renderAuthor}))):a.default.createElement("span",null,this.props.children)},_isLastPage:function(){var e=this.props.users.length;return this.props.exclude&&(e+=this.props.excludedUsers.length),this.props.totalUsers<=e},_setListContext:function(e){this.setState({listContext:c.default.findDOMNode(e)})},_userCanSelectAuthor:function(){var e=this.props.users;return!!this.props.fetchOptions.search||!(!e||!e.length||!this.props.allowSingleUser&&1===e.length)},_toggleShowAuthor:function(){this.setState({showAuthorMenu:!this.state.showAuthorMenu})},_onClose:function(e){var t=c.default.findDOMNode(this.refs["author-selector-toggle"]);e&&t.contains(e.target)||(this.setState({showAuthorMenu:!1}),this.props.updateSearch(!1))},_renderAuthor:function(e){var t=this._getAuthorItemGUID(e);return a.default.createElement(j.default,{className:"author-selector__menu-item",onClick:this._selectAuthor.bind(this,e),focusOnHover:!1,key:t,tabIndex:"-1"},a.default.createElement(I.default,{user:e}))},_noUsersFound:function(){return a.default.createElement("div",{className:"author-selector__no-users"},this.props.translate("No matching users found."))},_selectAuthor:function(e){O("assign author:",e),this.props.onSelect&&this.props.onSelect(e),this.setState({showAuthorMenu:!1}),this.props.updateSearch(!1)},_fetchNextPage:function(){var e=(0,o.default)({},this.props.fetchOptions,{offset:this.props.users.length});O("fetching next batch of authors"),k.default.fetchUsers(e)},_getAuthorItemGUID:function(e){return"author-item-"+e.ID},_renderLoadingAuthors:function(){return a.default.createElement(j.default,{disabled:!0,key:"author-item-placeholder"},a.default.createElement(I.default,null))},_onSearch:function(e){this.props.updateSearch(e)}});t.default=(0,h.localize)(D),e.exports=t.default},"./client/components/button-group/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/react/react.js"),m=s(h),_=n("./node_modules/classnames/index.js"),v=s(_),g=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=(0,v.default)("button-group",this.props.className,{"is-busy":this.props.busy,"is-primary":this.props.primary});return m.default.createElement("span",{className:e},this.props.children)}}]),t}(h.PureComponent);g.propTypes={children:function(e){var t=null;return m.default.Children.forEach(e.children,function(e){!e||e.props&&"button"===e.props.type||(t=new Error("All children elements should be a Button."))}),t}},t.default=g,e.exports=t.default},"./client/components/card/compact.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e){return l.default.createElement(f.default,(0,i.default)({},e,{className:(0,d.default)(e.className,"is-compact")}),e.children)}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/helpers/extends.js"),i=s(o);t.default=r;var a=n("./node_modules/react/react.js"),l=s(a),u=n("./node_modules/classnames/index.js"),d=s(u),c=n("./client/components/card/index.jsx"),f=s(c);e.exports=t.default},"./client/components/data/email-followers-data/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/assign.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/json/stringify.js"),a=s(i),l=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/createClass.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=s(h),_=n("./node_modules/babel-runtime/helpers/inherits.js"),v=s(_),g=n("./node_modules/react/react.js"),b=n("./node_modules/prop-types/index.js"),y=s(b),E=n("./node_modules/lodash/lodash.js"),j=n("./node_modules/debug/browser.js"),x=s(j),I=n("./client/lib/email-followers/store.js"),S=s(I),w=n("./client/lib/email-followers/actions.js"),C=s(w),k=n("./client/lib/react-pass-to-children/index.js"),R=s(k),P=n("./client/lib/data-poller/index.js"),T=s(P),O=(0,x.default)("calypso:email-followers-data"),M=function(e){function t(){var e,n,s,r;(0,c.default)(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=s=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),s.state=s.constructor.initialState,s.fetchIfEmpty=function(e){if(e=e||s.props.fetchOptions,e&&e.siteId){if(S.default.getFollowers(e).length)return void s.refreshFollowers(e);var t=function(){var t=S.default.getPaginationData(e);t.fetchingFollowers||(C.default.fetchFollowers(e),this.setState({fetchInitialized:!0}))}.bind(s);setTimeout(t,0)}},s.isFetching=function(){var e=s.props.fetchOptions;if(!e.siteId)return O("Is fetching because siteId is falsey"),!0;if(!s.state.followers)return O("Is fetching because not followers"),!0;var t=S.default.getPaginationData(e);return O("Followers pagination data: "+(0,a.default)(t)),!!t.fetchingFollowers},s.refreshFollowers=function(e){e=e||s.props.fetchOptions,O("Refreshing followers: "+(0,a.default)(e)),s.setState({followers:S.default.getFollowers(e),totalFollowers:S.default.getPaginationData(e).totalFollowers,currentPage:S.default.getPaginationData(e).followersCurrentPage})},r=n,(0,m.default)(s,r)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){S.default.on("change",this.refreshFollowers),this.fetchIfEmpty(this.props.fetchOptions),this._poller=T.default.add(S.default,C.default.fetchFollowers.bind(C.default,this.props.fetchOptions,!0),{leading:!1})}},{key:"componentWillReceiveProps",value:function(e){e.fetchOptions&&((0,E.isEqual)(this.props.fetchOptions,e.fetchOptions)||(this.setState(this.constructor.initialState),this.fetchIfEmpty(e.fetchOptions),T.default.remove(this._poller),this._poller=T.default.add(S.default,C.default.fetchFollowers.bind(C.default,e.fetchOptions,!0),{leading:!1})))}},{key:"componentWillUnmount",value:function(){S.default.removeListener("change",this.refreshFollowers),T.default.remove(this._poller)}},{key:"render",value:function(){return(0,R.default)(this,(0,o.default)({},this.state,{fetching:this.isFetching()}))}}]),t}(g.Component);M.propTypes={fetchOptions:y.default.object.isRequired},M.initialState={followers:!1,totalFollowers:!1,currentPage:!1,fetchInitialized:!1},t.default=M,e.exports=t.default},"./client/components/data/followers-data/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/assign.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/json/stringify.js"),a=s(i),l=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/createClass.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=s(h),_=n("./node_modules/babel-runtime/helpers/inherits.js"),v=s(_),g=n("./node_modules/react/react.js"),b=n("./node_modules/prop-types/index.js"),y=s(b),E=n("./node_modules/lodash/lodash.js"),j=n("./node_modules/debug/browser.js"),x=s(j),I=n("./client/lib/followers/store.js"),S=s(I),w=n("./client/lib/followers/actions.js"),C=s(w),k=n("./client/lib/react-pass-to-children/index.js"),R=s(k),P=n("./client/lib/data-poller/index.js"),T=s(P),O=(0,x.default)("calypso:followers-data"),M=function(e){function t(){var e,n,s,r;(0,c.default)(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=s=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),s.state=s.constructor.initialState,s.fetchIfEmpty=function(e){if(e=e||s.props.fetchOptions,e&&e.siteId){if(S.default.getFollowers(e).length)return void s.refreshFollowers(e);var t=function(){var t=S.default.getPaginationData(e);t.fetchingFollowers||(C.default.fetchFollowers(e),this.setState({fetchInitialized:!0}))}.bind(s);setTimeout(t,0)}},s.isFetching=function(){var e=s.props.fetchOptions;if(!e.siteId)return O("Is fetching because siteId is falsey"),!0;if(!s.state.followers)return O("Is fetching because not followers"),!0;var t=S.default.getPaginationData(e);return O("Followers pagination data: "+(0,a.default)(t)),!!t.fetchingFollowers},s.refreshFollowers=function(e){e=e||s.props.fetchOptions,O("Refreshing followers: "+(0,a.default)(e)),s.setState({followers:S.default.getFollowers(e),totalFollowers:S.default.getPaginationData(e).totalFollowers,currentPage:S.default.getPaginationData(e).followersCurrentPage})},r=n,(0,m.default)(s,r)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){S.default.on("change",this.refreshFollowers),this.fetchIfEmpty(this.props.fetchOptions),this._poller=T.default.add(S.default,C.default.fetchFollowers.bind(C.default,this.props.fetchOptions,!0),{leading:!1})}},{key:"componentWillReceiveProps",value:function(e){e.fetchOptions&&((0,E.isEqual)(this.props.fetchOptions,e.fetchOptions)||(this.setState(this.constructor.initialState),this.fetchIfEmpty(e.fetchOptions),T.default.remove(this._poller),this._poller=T.default.add(S.default,C.default.fetchFollowers.bind(C.default,e.fetchOptions,!0),{leading:!1})))}},{key:"componentWillUnmount",value:function(){S.default.removeListener("change",this.refreshFollowers),T.default.remove(this._poller)}},{key:"render",value:function(){return(0,R.default)(this,(0,o.default)({},this.state,{fetching:this.isFetching()}))}}]),t}(g.Component);M.propTypes={fetchOptions:y.default.object.isRequired},M.initialState={followers:!1,totalFollowers:!1,currentPage:!1,fetchInitialized:!1},t.default=M,e.exports=t.default},"./client/components/data/query-site-roles/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/prop-types/index.js"),m=s(h),_=n("./node_modules/react/react.js"),v=n("./node_modules/react-redux/es/index.js"),g=n("./client/state/site-roles/selectors.js"),b=n("./client/state/site-roles/actions.js"),y=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId!==e.siteId&&this.request(e)}},{key:"request",value:function(e){e.requestingSiteRoles||e.requestSiteRoles(e.siteId)}},{key:"render",value:function(){return null}}]),t}(_.Component);y.propTypes={siteId:m.default.number.isRequired,requestingSiteRoles:m.default.bool,requestSiteRoles:m.default.func},t.default=(0,v.connect)(function(e,t){return{requestingSiteRoles:(0,g.isRequestingSiteRoles)(e,t.siteId)}},{requestSiteRoles:b.requestSiteRoles})(y),e.exports=t.default},"./client/components/data/viewers-data/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/assign.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/react/react.js"),v=n("./node_modules/prop-types/index.js"),g=s(v),b=n("./client/lib/viewers/store.js"),y=s(b),E=n("./client/lib/viewers/actions.js"),j=s(E),x=n("./client/lib/react-pass-to-children/index.js"),I=s(x),S=function(e){function t(){var e,n,s,r;(0,u.default)(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=s=(0,p.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),s.state=s.constructor.initialState,s.fetchIfEmpty=function(e){if(e=e||s.props.siteId){if(y.default.getViewers(e).length)return void s.refreshViewers(e);var t=function(){var t=y.default.getPaginationData(e);t.fetchingViewers||(j.default.fetch(e),this.setState({fetchInitialized:!0}))}.bind(s);setTimeout(t,0)}},s.isFetching=function(){var e=s.props.siteId;if(!e)return!0;if(!s.state.viewers)return!0;var t=y.default.getPaginationData(e);return!!t.fetchingViewers},s.refreshViewers=function(e){e=e||s.props.siteId,s.setState({viewers:y.default.getViewers(e),totalViewers:y.default.getPaginationData(e).totalViewers,currentPage:y.default.getPaginationData(e).currentViewersPage})},r=n,(0,p.default)(s,r)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){y.default.on("change",this.refreshViewers),this.fetchIfEmpty(this.props.siteId)}},{key:"componentWillReceiveProps",value:function(e){e.siteId&&this.props.siteId!==e.siteId&&(this.setState(this.constructor.initialState),this.fetchIfEmpty(e.siteId))}},{key:"componentWillUnmount",value:function(){y.default.removeListener("change",this.refreshViewers)}},{key:"render",value:function(){return(0,I.default)(this,(0,o.default)({},this.state,{fetching:this.isFetching()}))}}]),t}(_.Component);S.propTypes={siteId:g.default.number.isRequired},S.initialState={viewers:!1,totalViewers:!1,currentPage:!1,fetchInitialized:!1},t.default=S,e.exports=t.default},"./client/components/email-verification/email-unverified-notice.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/prop-types/index.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./client/components/notice/index.jsx"),b=s(g),y=n("./client/components/notice/notice-action.jsx"),E=s(y),j=n("./client/components/spinner/index.jsx"),x=s(j),I=n("./node_modules/i18n-calypso/index.js"),S=s(I),w=n("./client/lib/user/index.js"),C=s(w),k=(0,C.default)(),R=function(e){function t(){var e,n,s,r;(0,a.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),s.state={pendingRequest:!1,emailSent:!1,error:null},s.handleDismiss=function(){s.setState({error:null,emailSent:!1})},s.handleSendVerificationEmail=function(e){e.preventDefault(),s.state.pendingRequest||(s.setState({pendingRequest:!0}),k.sendVerificationEmail(function(e,t){s.setState({emailSent:t&&t.success,error:e,pendingRequest:!1})}))},r=n,(0,c.default)(s,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"renderEmailSendPending",value:function(){return v.default.createElement(b.default,{icon:"mail",showDismiss:!1,text:S.default.translate("Sending…")},v.default.createElement(E.default,null,v.default.createElement(x.default,null)))}},{key:"renderEmailSendSuccess",value:function(){var e=S.default.translate("We sent another confirmation email to %(email)s.",{args:{email:this.props.userEmail}});return v.default.createElement(b.default,{text:e,status:"is-success",onDismissClick:this.handleDismiss,className:"email-verification-notice"})}},{key:"renderEmailSendError",value:function(){var e=[v.default.createElement("strong",{key:"email-send-error"},S.default.translate("The email could not be sent."))," ",this.state.error.message];return v.default.createElement(b.default,{text:e,icon:"notice",onDismissClick:this.handleDismiss,status:"is-warning",className:"email-verification-notice"},v.default.createElement(E.default,{onClick:this.handleSendVerificationEmail},S.default.translate("Try Again")))}},{key:"render",value:function(){if(this.state.pendingRequest)return this.renderEmailSendPending();if(this.state.error)return this.renderEmailSendError();if(this.state.emailSent)return this.renderEmailSendSuccess();var e=this.props.noticeText?this.props.noticeText:v.default.createElement("div",null,v.default.createElement("p",null,v.default.createElement("strong",null,S.default.translate("Please confirm your email address"))),v.default.createElement("p",null,S.default.translate("To post and keep using WordPress.com you need to confirm your email address. Please click the link in the email we sent at %(email)s.",{args:{email:this.props.userEmail}})),v.default.createElement("p",null,S.default.translate("{{requestButton}}Re-send your confirmation email{{/requestButton}} or {{changeButton}}change the email address on your account{{/changeButton}}.",{components:{requestButton:v.default.createElement("a",{href:"#",onClick:this.handleSendVerificationEmail}),changeButton:v.default.createElement("a",{href:"/me/account"})}})));return v.default.createElement(b.default,{text:e,icon:"info",showDismiss:!1,status:this.props.noticeStatus,className:"email-unverified-notice"},this.props.noticeText&&v.default.createElement(E.default,{onClick:this.handleSendVerificationEmail},S.default.translate("Resend Email")))}}]),t}(v.default.Component);R.propTypes={userEmail:m.default.string,noticeText:m.default.node,noticeStatus:m.default.string},R.defaultProps={noticeText:null,noticeStatus:""},t.default=R,e.exports=t.default},"./client/components/email-verification/email-verification-gate.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EmailVerificationGate=void 0;var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/prop-types/index.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/react-redux/es/index.js"),b=n("./client/components/email-verification/email-unverified-notice.jsx"),y=s(b),E=n("./client/state/current-user/selectors.js"),j=t.EmailVerificationGate=function(e){function t(){var e,n,s,r;(0,a.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),s.handleFocus=function(e){e.target.blur()},r=n,(0,c.default)(s,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return this.props.needsVerification?v.default.createElement("div",{tabIndex:"-1",className:"email-verification-gate",onFocus:this.handleFocus},v.default.createElement(y.default,{userEmail:this.props.userEmail,noticeText:this.props.noticeText,noticeStatus:this.props.noticeStatus}),v.default.createElement("div",{className:"email-verification-gate__content"},this.props.children)):v.default.createElement("div",null,this.props.children)}}]),t}(v.default.Component);j.propTypes={noticeText:m.default.node,noticeStatus:m.default.string,userEmail:m.default.string,needsVerification:m.default.bool},j.defaultProps={noticeText:null,noticeStatus:""},t.default=(0,g.connect)(function(e){var t=(0,E.getCurrentUser)(e);return{userEmail:t&&t.email,needsVerification:!(0,E.isCurrentUserEmailVerified)(e)}})(j)},"./client/components/forms/counted-textarea/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CountedTextarea=void 0;var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/prop-types/index.js"),b=s(g),y=n("./node_modules/i18n-calypso/index.js"),E=n("./node_modules/classnames/index.js"),j=s(E),x=n("./node_modules/lodash/lodash.js"),I=n("./client/components/forms/form-textarea/index.jsx"),S=s(I),w=t.CountedTextarea=function(e){function t(){var e,n,s,r;(0,u.default)(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=s=(0,p.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),s.renderCountPanel=function(){var e=s.props.value.length;!e&&s.props.countPlaceholderLength&&(e=s.props.placeholder.length);var t=void 0;return t=s.props.showRemainingCharacters&&s.props.acceptableLength?s.props.translate("%d character remaining","%d characters remaining",{context:"Input length",args:[s.props.acceptableLength-e],count:s.props.acceptableLength-e}):s.props.translate("%d character","%d characters",{context:"Input length",args:[e],count:e}),v.default.createElement("div",{className:"counted-textarea__count-panel"},t,s.props.children)},r=n,(0,p.default)(s,r)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=(0,j.default)("counted-textarea",this.props.className,{"is-exceeding-acceptable-length":this.props.acceptableLength&&this.props.value.length>this.props.acceptableLength});return v.default.createElement("div",{className:e},v.default.createElement(S.default,(0,o.default)({},(0,x.omit)(this.props,"className","acceptableLength","showRemainingCharacters","children","countPlaceholderLength","moment","numberFormat","translate"),{className:"counted-textarea__input"})),this.renderCountPanel())}}]),t}(v.default.Component);w.propTypes={value:b.default.string,placeholder:b.default.string,countPlaceholderLength:b.default.bool,onChange:b.default.func,acceptableLength:b.default.number,showRemainingCharacters:b.default.bool,translate:b.default.func},w.defaultProps={value:"",placeholder:"",countPlaceholderLength:!1,onChange:x.noop,showRemainingCharacters:!1,translate:y.translate},t.default=(0,y.localize)(w)},"./client/components/forms/form-radio/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),a=s(i),l=n("./node_modules/react/react.js"),u=s(l),d=n("./node_modules/classnames/index.js"),c=s(d),f=function(e){var t=e.className,n=(0,a.default)(e,["className"]);return u.default.createElement("input",(0,o.default)({},n,{type:"radio",className:(0,c.default)(t,"form-radio")}))};t.default=f,e.exports=t.default},"./client/components/forms/form-section-heading/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),a=s(i),l=n("./node_modules/react/react.js"),u=s(l),d=n("./node_modules/classnames/index.js"),c=s(d),f=function(e){var t=e.className,n=e.children,s=(0,a.default)(e,["className","children"]);return u.default.createElement("h3",(0,o.default)({},s,{className:(0,c.default)(t,"form-section-heading")}),n)};t.default=f,e.exports=t.default},"./client/components/forms/form-select/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),a=s(i),l=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/createClass.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=s(h),_=n("./node_modules/babel-runtime/helpers/inherits.js"),v=s(_),g=n("./node_modules/react/react.js"),b=s(g),y=n("./node_modules/classnames/index.js"),E=s(y),j=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.inputRef,n=e.className,s=e.isError,r=(0,a.default)(e,["inputRef","className","isError"]),i=(0,E.default)(n,"form-select",{"is-error":s});return b.default.createElement("select",(0,o.default)({},r,{ref:t,className:i}),this.props.children)}}]),t}(b.default.Component);j.defaultProps={isError:!1},t.default=j,e.exports=t.default},"./client/components/forms/form-setting-explanation/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/prop-types/index.js"),b=s(g),y=n("./node_modules/classnames/index.js"),E=s(y),j=n("./node_modules/lodash/lodash.js"),x=function(e){
function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=(0,E.default)(this.props.className,"form-setting-explanation",{"no-validate":this.props.noValidate,"is-indented":this.props.isIndented});return v.default.createElement("p",(0,o.default)({},(0,j.omit)(this.props,"className","noValidate","isIndented"),{className:e}),this.props.children)}}]),t}(v.default.Component);x.displayName="FormSettingExplanation",x.propTypes={noValidate:b.default.bool,isIndented:b.default.bool,className:b.default.string},x.defaultProps={noValidate:!1,isIndented:!1},t.default=x,e.exports=t.default},"./client/components/forms/form-textarea/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),a=s(i),l=n("./node_modules/react/react.js"),u=s(l),d=n("./node_modules/classnames/index.js"),c=s(d),f=function(e){var t=e.className,n=e.isError,s=e.isValid,r=e.children,i=(0,a.default)(e,["className","isError","isValid","children"]);return u.default.createElement("textarea",(0,o.default)({},i,{className:(0,c.default)(t,"form-textarea",{"is-error":n,"is-valid":s})}),r)};t.default=f,e.exports=t.default},"./client/components/header-cake/back.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/react/react.js"),m=s(h),_=n("./node_modules/prop-types/index.js"),v=s(_),g=n("./node_modules/classnames/index.js"),b=s(g),y=n("./node_modules/i18n-calypso/index.js"),E=n("./node_modules/gridicons/build/index.js"),j=s(E),x=n("./node_modules/lodash/lodash.js"),I=n("./client/components/button/index.jsx"),S=s(I),w=n("./client/lib/viewport/index.js"),C=s(w),k={windowWidth:480,characterLength:8},R=function(e){function t(){var e,n,s,r;(0,a.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),s.state={windowWidth:C.default.getWindowInnerWidth()},s.handleWindowResize=function(){s.setState({windowWidth:C.default.getWindowInnerWidth()})},r=n,(0,c.default)(s,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.resizeThrottled=(0,x.throttle)(this.handleWindowResize,100),window.addEventListener("resize",this.resizeThrottled)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeThrottled)}},{key:"hideText",value:function(e){return this.state.windowWidth<=k.windowWidth&&e.length>=k.characterLength||this.state.windowWidth<=300}},{key:"render",value:function(){var e=this.props,t=e.href,n=e.icon,s=e.onClick,r=e.spacer,o=e.text,i=e.translate,a=void 0===o?i("Back"):o,l=(0,b.default)({"header-cake__back":!0,"is-spacer":r,"is-action":!!n});return m.default.createElement(S.default,{compact:!0,borderless:!0,className:l,href:t,onClick:s,disabled:r},m.default.createElement(j.default,{icon:n||"arrow-left",size:18}),!this.hideText(a)&&a)}}]),t}(h.Component);R.propTypes={onClick:v.default.func,href:v.default.string,text:v.default.string,spacer:v.default.bool},R.defaultProps={spacer:!1,disabled:!1},t.default=(0,y.localize)(R),e.exports=t.default},"./client/components/header-cake/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/prop-types/index.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/classnames/index.js"),b=s(g),y=n("./client/components/card/index.jsx"),E=s(y),j=n("./client/components/header-cake/back.jsx"),x=s(j),I=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.backText,n=e.backHref,s=e.actionButton,r=e.actionText,o=e.actionIcon,i=e.actionHref,a=e.actionOnClick,l=(0,b.default)("header-cake",this.props.className,{"is-compact":this.props.isCompact});return v.default.createElement(E.default,{className:l},v.default.createElement(x.default,{text:t,href:n,onClick:this.props.onClick}),v.default.createElement("div",{className:"header-cake__title",onClick:this.props.onTitleClick},this.props.children),s||v.default.createElement(x.default,{text:r||t,href:i||n,onClick:a,icon:o,spacer:!a}))}}]),t}(_.Component);t.default=I,I.displayName="HeaderCake",I.propTypes={onClick:m.default.func,onTitleClick:m.default.func,backText:m.default.string,backHref:m.default.string,actionButton:m.default.element,actionText:m.default.string,actionHref:m.default.string,actionIcon:m.default.string,actionOnClick:m.default.func},I.defaultProps={isCompact:!1},e.exports=t.default},"./client/components/infinite-list/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/keys.js"),o=s(r),i=n("./node_modules/debug/browser.js"),a=s(i),l=n("./node_modules/lodash/lodash.js"),u=n("./node_modules/page/index.js"),d=s(u),c=n("./node_modules/prop-types/index.js"),f=s(c),p=n("./node_modules/react/react.js"),h=s(p),m=n("./node_modules/create-react-class/index.js"),_=s(m),v=n("./node_modules/react-dom/index.js"),g=s(v),b=n("./client/lib/detect-history-navigation/index.js"),y=s(b),E=n("./client/lib/infinite-list/actions.js"),j=s(E),x=n("./client/lib/infinite-list/positions-store.js"),I=s(x),S=n("./client/lib/infinite-list/scroll-store.js"),w=s(S),C=n("./client/components/infinite-list/scroll-helper.js"),k=s(C),R=n("./client/lib/scroll-to/index.js"),P=s(R),T=n("./client/lib/react-smart-set-state/index.js"),O=s(T),M=(0,a.default)("calypso:infinite-list");t.default=(0,_.default)({displayName:"InfiniteList",lastScrollTop:-1,scrollRAFHandle:!1,scrollHelper:null,isScrolling:!1,propTypes:{items:f.default.array.isRequired,fetchingNextPage:f.default.bool.isRequired,lastPage:f.default.bool.isRequired,guessedItemHeight:f.default.number.isRequired,itemsPerRow:f.default.number,fetchNextPage:f.default.func.isRequired,getItemRef:f.default.func.isRequired,renderItem:f.default.func.isRequired,renderLoadingPlaceholders:f.default.func.isRequired,renderTrailingItems:f.default.func,context:f.default.oneOfType([f.default.object,f.default.bool])},getDefaultProps:function(){return{itemsPerRow:1,renderTrailingItems:function(){}}},smartSetState:O.default,componentWillMount:function(){var e=d.default.current,t=void 0,n=void 0;y.default.loadedViaHistory()&&(t=I.default.get(e),n=w.default.get(e)),t&&n&&(M("overriding scrollTop:",n),t.scrollTop=n),this.scrollHelper=new k.default(this.boundsForRef),this.scrollHelper.props=this.props,this._contextLoaded()&&(this._scrollContainer=this.props.context||window,this.scrollHelper.updateContextHeight(this.getCurrentContextHeight())),this.isScrolling=!1,t?M("infinite-list positions loaded from store"):(M("infinite-list positions reset for new list"),t={firstRenderedIndex:0,topPlaceholderHeight:0,lastRenderedIndex:this.scrollHelper.initialLastRenderedIndex(),bottomPlaceholderHeight:0,scrollTop:0}),M("infinite list mounting",t),this.setState(t)},componentDidMount:function(){this._contextLoaded()&&this._setContainerY(this.state.scrollTop),y.default.loadedViaHistory()&&this._overrideHistoryScroll(),M("setting scrollTop:",this.state.scrollTop),this.updateScroll({triggeredByScroll:!1}),this._contextLoaded()&&this._scrollContainer.addEventListener("scroll",this.onScroll)},componentWillReceiveProps:function(e){this.scrollHelper.props=e,this.isScrolling||(this.cancelAnimationFrame(),this.updateScroll({triggeredByScroll:!1})),e.context!==this.props.context&&this._contextLoaded()&&this._scrollContainer.removeEventListener("scroll",this._resetScroll)},componentDidUpdate:function(e){this._contextLoaded()&&(this.props.context!==e.context&&(this._scrollContainer&&this._scrollContainer.removeEventListener("scroll",this.onScroll),this._scrollContainer=this.props.context||window,this._scrollContainer.addEventListener("scroll",this.onScroll),y.default.loadedViaHistory()&&this._overrideHistoryScroll()),this.isScrolling||(this.cancelAnimationFrame(),this.updateScroll({triggeredByScroll:!1})))},reset:function(){this.cancelAnimationFrame(),this.scrollHelper=new k.default(this.boundsForRef),this.scrollHelper.props=this.props,this._contextLoaded()&&(this._scrollContainer=this.props.context||window,this.scrollHelper.updateContextHeight(this.getCurrentContextHeight())),this.isScrolling=!1,this.setState({firstRenderedIndex:0,topPlaceholderHeight:0,lastRenderedIndex:this.scrollHelper.initialLastRenderedIndex(),bottomPlaceholderHeight:0,scrollTop:0})},componentWillUnmount:function(){this._scrollContainer.removeEventListener("scroll",this.onScroll),this._scrollContainer.removeEventListener("scroll",this._resetScroll),this.cancelAnimationFrame()},cancelAnimationFrame:function(){this.scrollRAFHandle&&(window.cancelAnimationFrame(this.scrollRAFHandle),this.scrollRAFHandle=null),this.lastScrollTop=-1},onScroll:function(){this.isScrolling||this.scrollRAFHandle||this.getCurrentScrollTop()===this.lastScrollTop||(this.scrollRAFHandle=window.requestAnimationFrame(this.scrollChecks))},getCurrentContextHeight:function(){var e=this.props.context||window.document.documentElement;return e.clientHeight},getCurrentScrollTop:function(){return this.props.context?(M("getting scrollTop from context"),this.props.context.scrollTop):window.pageYOffset},scrollChecks:function(){return this.isMounted()&&this.getCurrentScrollTop()!==this.lastScrollTop?void this.updateScroll({triggeredByScroll:!0}):void(this.scrollRAFHandle=null)},scrollToTop:function(){var e=this;this.cancelAnimationFrame(),this.isScrolling=!0,this.props.context&&this.props.context!==window?(this.props.context.scrollTop=0,this.updateScroll({triggeredByScroll:!1}),this.isScrolling=!1):(0,P.default)({x:0,y:0,duration:250,onComplete:function(){e.isMounted()&&e.updateScroll({triggeredByScroll:!1}),e.isScrolling=!1}})},updateScroll:function(e){var t=d.default.current,n=void 0;this._contextLoaded()&&(this.lastScrollTop=this.getCurrentScrollTop(),j.default.storeScroll(t,this.lastScrollTop),this.scrollHelper.updateContextHeight(this.getCurrentContextHeight()),this.scrollHelper.scrollPosition=this.lastScrollTop,this.scrollHelper.triggeredByScroll=e.triggeredByScroll,this.scrollHelper.updatePlaceholderDimensions(),this.scrollHelper.scrollChecks(this.state),this.scrollHelper.stateUpdated&&(n={firstRenderedIndex:this.scrollHelper.firstRenderedIndex,topPlaceholderHeight:this.scrollHelper.topPlaceholderHeight,lastRenderedIndex:this.scrollHelper.lastRenderedIndex,bottomPlaceholderHeight:this.scrollHelper.bottomPlaceholderHeight,scrollTop:this.lastScrollTop},this.lastScrollTop=-1,M("new scroll positions",n,this.state),this.smartSetState(n),j.default.storePositions(t,n)),this.scrollRAFHandle=window.requestAnimationFrame(this.scrollChecks))},boundsForRef:function(e){return e in this.refs?g.default.findDOMNode(this.refs[e]).getBoundingClientRect():null},getVisibleItemIndexes:function(e){var t=g.default.findDOMNode(this),n=[],s=this.state.firstRenderedIndex,r=this.state.lastRenderedIndex,o=e&&e.offsetTop?e.offsetTop:0,i=void 0,a=void 0,l=void 0,u=void 0,d=e&&e.offsetBottom?e.offsetBottom:0;if(d=d||0,r>-1)for(l=t.children,u=1;u<l.length-1;u++)a=t.children[u].getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,(a.top<0&&Math.abs(a.top)<a.height-o||a.top>0&&a.top<i-d)&&n.push({index:s+u-1,bounds:a});return n},render:function(){var e=(0,l.omit)(this.props,(0,o.default)(this.constructor.propTypes)),t="infinite-list__spacer",n=void 0,s=this.state.lastRenderedIndex,r=[];for((s===-1||s>this.props.items.length-1)&&(M("resetting lastRenderedIndex, currently at %s, %d items",s,this.props.items.length),s=Math.min(this.state.firstRenderedIndex+this.scrollHelper.initialLastRenderedIndex(),this.props.items.length-1),M("reset lastRenderedIndex to %s",s)),M("rendering %d to %d",this.state.firstRenderedIndex,s),n=this.state.firstRenderedIndex;n<=s;n++)r.push(this.props.renderItem(this.props.items[n],n));return this.props.fetchingNextPage&&(r=r.concat(this.props.renderLoadingPlaceholders())),h.default.createElement("div",e,h.default.createElement("div",{ref:"topPlaceholder",className:t,style:{height:this.state.topPlaceholderHeight}}),r,this.props.renderTrailingItems(),h.default.createElement("div",{ref:"bottomPlaceholder",className:t,style:{height:this.state.bottomPlaceholderHeight}}))},_setContainerY:function(e){return this.props.context&&this.props.context!==window?void(this.props.context.scrollTop=e):void window.scrollTo(0,e)},_overrideHistoryScroll:function(){this._contextLoaded()&&this._scrollContainer.addEventListener("scroll",this._resetScroll)},_resetScroll:function(e){var t=this.state.scrollTop;this._contextLoaded()&&(M("history setting scroll position:",e),this._setContainerY(t),this._scrollContainer.removeEventListener("scroll",this._resetScroll),M("override scroll position from HTML5 history popstate:",t))},_contextLoaded:function(){return this.props.context||this.props.context===!1||!("context"in this.props)}}),e.exports=t.default},"./client/components/infinite-list/scroll-helper.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/createClass.js"),a=s(i),l=n("./node_modules/debug/browser.js"),u=s(l),d=(0,u.default)("calypso:infinite-list:helper"),c=function(){function e(t){(0,o.default)(this,e),this.boundsForRef=t,this.itemHeights={},this.contextHeight=null,this.topHideLevelHard=null,this.topHideLevelSoft=null,this.bottomHideLevelHard=null,this.bottomHideLevelSoft=null,this.bottomHideLevelUltraSoft=null,this.props=null,this.scrollPosition=null,this.containerTop=null,this.topPlaceholderHeight=null,this.bottomPlaceholderHeight=null,this.containerBottom=null,this.stateUpdated=null,this.firstRenderedIndex=null,this.lastRenderedIndex=null}return(0,a.default)(e,[{key:"storedItemHeight",value:function(e){var t=this.props.guessedItemHeight;return e in this.itemHeights&&(t=this.itemHeights[e]),t}},{key:"forEachInRow",value:function(e,t,n){if("function"==typeof t){n&&(t=t.bind(n));for(var s=e-e%this.props.itemsPerRow,r=Math.min(s+this.props.itemsPerRow,this.props.items.length)-1,o=s;o<=r;o++)t(this.props.items[o],o)}}},{key:"storeRowItemHeights",value:function(e,t){this.forEachInRow(t,function(t){var n=this.props.getItemRef(t),s=this.boundsForRef(n),r=void 0;r=s?"bottom"===e?this.containerBottom-this.bottomPlaceholderHeight-s.top:s.bottom-(this.containerTop+this.topPlaceholderHeight):this.props.guessedItemHeight,this.itemHeights[n]=r},this)}},{key:"deleteRowItemHeights",value:function(e){var t=this;this.forEachInRow(e,function(e){var n=t.props.getItemRef(e);delete t.itemHeights[n]},this)}},{key:"getRowHeight",value:function(e){var t=this,n=0;return this.forEachInRow(e,function(e){var s=t.props.getItemRef(e),r=t.storedItemHeight(s);n=Math.max(n,r)},this),n}},{key:"updateContextHeight",value:function(e){this.contextHeight!==e&&(this.contextHeight=e,this.topHideLevelHard=Math.min(-1*e,-5*this.props.guessedItemHeight),this.topHideLevelSoft=Math.min(-2*e,-10*this.props.guessedItemHeight),this.bottomHideLevelHard=e+Math.max(e,5*this.props.guessedItemHeight),this.bottomHideLevelSoft=e+Math.max(2*e,10*this.props.guessedItemHeight),this.bottomHideLevelUltraSoft=e+Math.max(3*e,15*this.props.guessedItemHeight))}},{key:"initialLastRenderedIndex",value:function(){return Math.min(this.props.items.length-1,Math.floor(this.bottomHideLevelSoft/this.props.guessedItemHeight)-1)}},{key:"updatePlaceholderDimensions",value:function(){var e=this.boundsForRef("topPlaceholder"),t=this.boundsForRef("bottomPlaceholder");this.topPlaceholderHeight=e.height,this.containerTop=e.top,this.bottomPlaceholderHeight=t.height,this.containerBottom=t.bottom}},{key:"scrollChecks",value:function(e){this.reset(e),this.adjustLastRenderedIndex(),this.shouldHideItemsAbove()?this.hideItemsAbove():this.shouldShowItemsAbove()&&this.showItemsAbove(),this.shouldHideItemsBelow()?this.hideItemsBelow():this.shouldShowItemsBelow()&&this.showItemsBelow(),this.shouldLoadNextPage()&&this.loadNextPage()}},{key:"reset",value:function(e){this.stateUpdated=!1,this.firstRenderedIndex=e.firstRenderedIndex,this.lastRenderedIndex=e.lastRenderedIndex}},{key:"adjustLastRenderedIndex",value:function(){var e=this.initialLastRenderedIndex(),t=this.lastRenderedIndex||0,n=this.firstRenderedIndex||0,s=this.props.items.length,r=t;0===s&&(r=-1),t>=s&&(r=Math.min(n+e,s-1)),r===-1&&s>0&&0===n&&(r=e),r!==this.lastRenderedIndex&&(this.stateUpdated=!0,this.lastRenderedIndex=r)}},{key:"shouldHideItemsAbove",value:function(){return this.containerTop+this.topPlaceholderHeight<this.topHideLevelSoft}},{key:"hideItemsAbove",value:function(){for(var e=void 0,t=void 0;this.firstRenderedIndex<this.props.items.length;){if(this.storeRowItemHeights("top",this.firstRenderedIndex),e=this.getRowHeight(this.firstRenderedIndex),t=this.containerTop+this.topPlaceholderHeight+e,t>this.topHideLevelHard){this.deleteRowItemHeights(this.firstRenderedIndex);break}this.topPlaceholderHeight+=e,this.firstRenderedIndex+=this.props.itemsPerRow,this.stateUpdated=!0,d("hiding top item",e,this.topPlaceholderHeight)}}},{key:"shouldShowItemsAbove",value:function(){return this.containerTop+this.topPlaceholderHeight>this.topHideLevelHard}},{key:"showItemsAbove",value:function(){for(var e=void 0,t=void 0;this.firstRenderedIndex>0&&(e=this.getRowHeight(this.firstRenderedIndex-this.props.itemsPerRow),t=this.containerTop+this.topPlaceholderHeight-e,!(t<this.topHideLevelSoft));)this.deleteRowItemHeights(this.firstRenderedIndex-this.props.itemsPerRow),this.firstRenderedIndex-=this.props.itemsPerRow,this.firstRenderedIndex=Math.max(0,this.firstRenderedIndex),this.firstRenderedIndex<=0?this.topPlaceholderHeight=0:this.topPlaceholderHeight=Math.max(0,this.topPlaceholderHeight-e),this.stateUpdated=!0,d("showing top item",e,this.topPlaceholderHeight)}},{key:"shouldHideItemsBelow",value:function(){var e=this.containerBottom-this.bottomPlaceholderHeight;return e>this.bottomHideLevelUltraSoft}},{key:"hideItemsBelow",value:function(){for(var e=void 0,t=void 0;this.lastRenderedIndex>=0;){if(this.storeRowItemHeights("bottom",this.lastRenderedIndex),t=this.getRowHeight(this.lastRenderedIndex),e=this.containerBottom-this.bottomPlaceholderHeight-t,e<this.bottomHideLevelHard){this.deleteRowItemHeights(this.lastRenderedIndex);break}this.bottomPlaceholderHeight+=t,this.lastRenderedIndex-=this.props.itemsPerRow,this.stateUpdated=!0,d("hiding bottom item",t,this.bottomPlaceholderHeight)}}},{key:"shouldShowItemsBelow",value:function(){var e=this.containerBottom-this.bottomPlaceholderHeight;return e<this.bottomHideLevelHard}},{key:"showItemsBelow",value:function(){for(var e=void 0,t=void 0,n=void 0;this.lastRenderedIndex<this.props.items.length-1&&(e=this.getRowHeight(this.lastRenderedIndex+this.props.itemsPerRow),n=this.containerBottom-this.bottomPlaceholderHeight,t=n+e,!(t>this.bottomHideLevelSoft&&n>this.bottomHideLevelHard));)this.deleteRowItemHeights(this.lastRenderedIndex+this.props.itemsPerRow),this.bottomPlaceholderHeight-e<0?(this.containerBottom+=e-this.bottomPlaceholderHeight,this.bottomPlaceholderHeight=0):this.bottomPlaceholderHeight-=e,this.lastRenderedIndex+=this.props.itemsPerRow,this.lastRenderedIndex=Math.min(this.lastRenderedIndex,this.props.items.length-1),this.lastRenderedIndex>=this.props.items.length-1&&(this.bottomPlaceholderHeight=0),this.stateUpdated=!0,d("showing bottom item",e,this.bottomPlaceholderHeight)}},{key:"shouldLoadNextPage",value:function(){return!this.props.fetchingNextPage&&!this.props.lastPage&&(0===this.bottomPlaceholderHeight&&this.containerBottom<this.bottomHideLevelHard)}},{key:"loadNextPage",value:function(){var e=this,t=this.triggeredByScroll;d("fetching next page",this.containerBottom,this.bottomPlaceholderHeight),this.scrollPosition>this.contextHeight&&(t=!0),setTimeout(function(){return!e.props.fetchingNextPage&&!e.props.lastPage&&void e.props.fetchNextPage({triggeredByScroll:t})},0)}}]),e}();t.default=c,e.exports=t.default},"./client/components/list-end/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(){return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("./node_modules/react/react.js"),i=s(o),a=i.default.createElement("div",{className:"list-end"});e.exports=t.default},"./client/components/section-header/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/react/react.js"),m=s(h),_=n("./node_modules/classnames/index.js"),v=s(_),g=n("./client/components/card/compact.jsx"),b=s(g),y=n("./client/components/count/index.jsx"),E=s(y),j=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e="number"==typeof this.props.count,t=!(this.props.label||e||this.props.children),n=(0,v.default)(this.props.className,"section-header",{"is-empty":t});return m.default.createElement(b.default,{className:n,href:this.props.href},m.default.createElement("div",{className:"section-header__label"},m.default.createElement("span",{className:"section-header__label-text"},this.props.label),e&&m.default.createElement(E.default,{count:this.props.count})),m.default.createElement("div",{className:"section-header__actions"},this.props.children))}}]),t}(h.PureComponent);j.defaultProps={label:"",href:null},t.default=j,e.exports=t.default},"./client/components/section-nav/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/react/react.js"),m=s(h),_=n("./node_modules/prop-types/index.js"),v=s(_),g=n("./node_modules/classnames/index.js"),b=s(g),y=n("./node_modules/lodash/lodash.js"),E=n("./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx"),j=s(E),x=n("./client/components/section-nav/tabs.jsx"),I=s(x),S=n("./client/components/section-nav/item.jsx"),w=s(S),C=n("./client/components/search/index.jsx"),k=s(C),R=function(e){function t(){var e,n,s,r;(0,a.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),P.call(s),r=n,(0,c.default)(s,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.checkForSiblingControls(this.props.children)}},{key:"componentWillReceiveProps",value:function(e){(0,y.isEqual)(this.props,e)||(this.checkForSiblingControls(e.children),this.hasSiblingControls||this.closeMobilePanel())}},{key:"render",value:function(){var e=this.getChildren(),t=void 0;return e?(t=(0,b.default)({"section-nav":!0,"is-open":this.state.mobileOpen,"has-pinned-items":this.hasPinnedSearch||this.props.hasPinnedItems},this.props.className),m.default.createElement("div",{className:t},this.renderDropdown(),m.default.createElement("div",{className:"section-nav__panel"},e))):(t=(0,b.default)({"section-nav":!0,"is-empty":!0},this.props.className),m.default.createElement("div",{className:t},m.default.createElement("div",{className:"section-nav__panel"},m.default.createElement(w.default,null))))}}]),t}(h.Component);R.propTypes={selectedText:v.default.node,selectedCount:v.default.number,hasPinnedItems:v.default.bool,onMobileNavPanelOpen:v.default.func,className:v.default.string,allowDropdown:v.default.bool},R.defaultProps={onMobileNavPanelOpen:function(){},allowDropdown:!0};var P=function(){var e=this;this.state={mobileOpen:!1},this.renderDropdown=function(){return e.props.allowDropdown?m.default.createElement("div",{className:"section-nav__mobile-header",onClick:e.toggleMobileOpenState},m.default.createElement("span",{className:"section-nav__mobile-header-text"},e.props.selectedText)):m.default.createElement("div",null)},this.getChildren=function(){return m.default.Children.map(e.props.children,function(e){var t={hasSiblingControls:this.hasSiblingControls,closeSectionNavMobilePanel:this.closeMobilePanel};return e?(e.type!==I.default||e.props.selectedText||"string"!=typeof this.props.selectedText||(t.selectedText=this.props.selectedText),e.type===I.default&&this.props.selectedCount&&(t.selectedCount=this.props.selectedCount),e.type===k.default&&(e.props.pinned&&(this.hasPinnedSearch=!0),t.onSearch=this.generateOnSearch(e.props.onSearch)),m.default.cloneElement(e,t)):null}.bind(e))},this.closeMobilePanel=function(){window.innerWidth<480&&e.state.mobileOpen&&e.setState({mobileOpen:!1})},this.toggleMobileOpenState=function(){var t=!e.state.mobileOpen;e.setState({mobileOpen:t}),t&&e.props.onMobileNavPanelOpen()},this.generateOnSearch=function(t){return function(){t.apply(void 0,arguments),e.closeMobilePanel()}},this.checkForSiblingControls=function(t){e.hasSiblingControls=!1;var n=[k.default,j.default];m.default.Children.forEach(t,function(e,t){t&&e&&!(0,y.includes)(n,e.type)&&(this.hasSiblingControls=!0)}.bind(e))}};t.default=R,e.exports=t.default},"./client/components/section-nav/item.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/react/react.js"),m=s(h),_=n("./node_modules/prop-types/index.js"),v=s(_),g=n("./node_modules/classnames/index.js"),b=s(g),y=n("./client/components/count/index.jsx"),E=s(y),j=n("./client/sections-preload.js"),x=function(e){function t(){var e,n,s,r;(0,a.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),s._preloaded=!1,s.preload=function(){!s._preloaded&&s.props.preloadSectionName&&(s._preloaded=!0,(0,j.preload)(s.props.preloadSectionName))},r=n,(0,c.default)(s,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.itemType?this.props.itemType:"tab",t={"is-selected":this.props.selected,"is-external":this.props.isExternalLink};t["section-nav-"+e]=!0;var n=(0,b.default)(this.props.className,t),s=void 0,r=void 0;return this.props.isExternalLink&&(s="_blank"),this.props.disabled||(r=this.props.onClick),m.default.createElement("li",{className:n},m.default.createElement("a",{href:this.props.path,target:s,className:"section-nav-"+e+"__link",onClick:r,onMouseEnter:this.preload,tabIndex:this.props.tabIndex||0,"aria-selected":this.props.selected,disabled:this.props.disabled,role:"menuitem",rel:this.props.isExternalLink?"external":null},m.default.createElement("span",{className:"section-nav-"+e+"__text"},this.props.children,"number"==typeof this.props.count&&m.default.createElement(E.default,{count:this.props.count}))))}}]),t}(h.PureComponent);x.propTypes={itemType:v.default.string,path:v.default.string,selected:v.default.bool,tabIndex:v.default.number,onClick:v.default.func,isExternalLink:v.default.bool,disabled:v.default.bool,count:v.default.oneOfType([v.default.number,v.default.bool]),className:v.default.string,preloadSectionName:v.default.string},t.default=x,e.exports=t.default},"./client/components/section-nav/tabs.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/react-dom/index.js"),b=s(g),y=n("./node_modules/prop-types/index.js"),E=s(y),j=n("./node_modules/classnames/index.js"),x=s(j),I=n("./node_modules/lodash/lodash.js"),S=n("./client/components/select-dropdown/item.jsx"),w=s(S),C=n("./client/components/select-dropdown/index.jsx"),k=s(C),R=n("./client/lib/viewport/index.js"),P=s(R),T=480,O=function(e){function t(){var e,n,s,r;(0,u.default)(this,t);for(var i=arguments.length,l=Array(i),d=0;d<i;d++)l[d]=arguments[d];return n=s=(0,p.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(l))),s.state={isDropdown:!1},s.getTabWidths=function(){var e=0;v.default.Children.forEach(s.props.children,function(t,n){if(t){var s=b.default.findDOMNode(this.refs["tab-"+n]).offsetWidth;e+=s}}.bind(s)),s.tabsWidth=Math.max(e,s.tabsWidth||0)},s.getDropdown=function(){var e=v.default.Children.map(s.props.children,function(e,t){return e?v.default.createElement(w.default,(0,o.default)({},e.props,{key:"navTabsDropdown-"+t}),e.props.children):null});return v.default.createElement(k.default,{className:"section-nav-tabs__dropdown",selectedText:s.props.selectedText,selectedCount:s.props.selectedCount},e)},s.setDropdown=function(){var e=void 0;if(window.innerWidth>T){if(!s.refs.navGroup)return;e=s.refs.navGroup.offsetWidth,s.getTabWidths(),e<=s.tabsWidth&&!s.state.isDropdown?s.setState({isDropdown:!0}):e>s.tabsWidth&&s.state.isDropdown&&s.setState({isDropdown:!1})}else window.innerWidth<=T&&s.state.isDropdown&&s.setState({isDropdown:!1})},s.keyHandler=function(e){switch(e.keyCode){case 32:case 13:e.preventDefault(),document.activeElement.click()}},r=n,(0,p.default)(s,r)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.setDropdown(),this.debouncedAfterResize=(0,I.debounce)(this.setDropdown,300),
window.addEventListener("resize",this.debouncedAfterResize)}},{key:"componentDidUpdate",value:function(){this.setDropdown()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debouncedAfterResize)}},{key:"render",value:function(){var e=v.default.Children.map(this.props.children,function(e,t){return e&&v.default.cloneElement(e,{ref:"tab-"+t})}),t=(0,x.default)({"section-nav-tabs":!0,"is-dropdown":this.state.isDropdown,"is-open":this.state.isDropdownOpen,"has-siblings":this.props.hasSiblingControls}),n=P.default.getWindowInnerWidth();return v.default.createElement("div",{className:"section-nav-group",ref:"navGroup"},v.default.createElement("div",{className:t},this.props.label&&v.default.createElement("h6",{className:"section-nav-group__label"},this.props.label),v.default.createElement("ul",{className:"section-nav-tabs__list",role:"menu",onKeyDown:this.keyHandler},e),this.state.isDropdown&&n>T&&this.getDropdown()))}}]),t}(_.Component);O.propTypes={selectedText:E.default.string,selectedCount:E.default.number,label:E.default.string,hasSiblingControls:E.default.bool},O.defaultProps={hasSiblingControls:!1},t.default=O,e.exports=t.default},"./client/components/sidebar-navigation/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/prop-types/index.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/react-redux/es/index.js"),b=n("./node_modules/gridicons/build/index.js"),y=s(b),E=n("./client/state/document-head/selectors.js"),j=n("./client/state/ui/layout-focus/actions.js"),x=function(e){function t(e){(0,a.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.toggleSidebar=n.toggleSidebar.bind(n),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"toggleSidebar",value:function(e){e.preventDefault(),this.props.setLayoutFocus("sidebar")}},{key:"render",value:function(){return v.default.createElement("header",{className:"current-section"},v.default.createElement("a",{onClick:this.toggleSidebar,className:this.props.linkClassName},v.default.createElement(y.default,{icon:"chevron-left"}),this.props.children,v.default.createElement("div",null,v.default.createElement("p",{className:"current-section__"+this.props.sectionName+"-title"},this.props.sectionTitle),v.default.createElement("h1",{className:"current-section__section-title"},this.props.title))))}}]),t}(v.default.Component);x.propTypes={title:m.default.string,linkClassName:m.default.string,sectionTitle:m.default.string,sectionName:m.default.string.isRequired,setLayoutFocus:m.default.func.isRequired},t.default=(0,g.connect)(function(e){return{title:(0,E.getDocumentHeadTitle)(e)}},{setLayoutFocus:j.setLayoutFocus})(x),e.exports=t.default},"./client/components/site-users-fetcher/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/assign.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/lodash/lodash.js"),v=n("./node_modules/prop-types/index.js"),g=s(v),b=n("./node_modules/react/react.js"),y=s(b),E=n("./node_modules/debug/browser.js"),j=s(E),x=n("./client/lib/users/store.js"),I=s(x),S=n("./client/lib/users/actions.js"),w=s(S),C=n("./client/lib/data-poller/index.js"),k=s(C),R=(0,j.default)("calypso:site-users-fetcher"),P={number:100,offset:0},T=function(e){function t(){var e,n,s,r;(0,u.default)(this,t);for(var i=arguments.length,l=Array(i),d=0;d<i;d++)l[d]=arguments[d];return n=s=(0,p.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(l))),s._updateSiteUsers=function(e){e=e||s.props.fetchOptions,s.setState(s._getState(e))},s._getState=function(e){var t,n;return e=e||s.props.fetchOptions,e=(0,o.default)({},P,e),t=I.default.getPaginationData(e),n=I.default.getUsers(e),s.props.exclude&&(n=(0,_.partition)(n,function(e){return"function"==typeof this.props.exclude?!this.props.exclude(e):!(0,_.includes)(this.props.exclude,e.ID)}.bind(s))),(0,o.default)({},t,{users:s.props.exclude?n[0]:n,fetchOptions:e,excludedUsers:s.props.exclude?n[1]:[]})},s._fetchIfEmpty=function(e){if(e=e||s.props.fetchOptions,e&&e.siteId)return e=(0,o.default)({},P,e),I.default.getUsers(e).length?void R("initial fetch not necessary"):void setTimeout(function(){var t=I.default.getPaginationData(e);t.fetchingUsers||w.default.fetchUsers(e)},0)},s.state=s._getState(),r=n,(0,p.default)(s,r)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){R("Mounting SiteUsersFetcher"),I.default.on("change",this._updateSiteUsers),this._fetchIfEmpty(),this._poller=k.default.add(I.default,w.default.fetchUpdated.bind(w.default,this.props.fetchOptions,!0),{leading:!1})}},{key:"componentWillUnmount",value:function(){I.default.off("change",this._updateSiteUsers),k.default.remove(this._poller)}},{key:"componentWillReceiveProps",value:function(e){e.fetchOptions&&((0,_.isEqual)(this.props.fetchOptions,e.fetchOptions)||(this._updateSiteUsers(e.fetchOptions),this._fetchIfEmpty(e.fetchOptions),k.default.remove(this._poller),this._poller=k.default.add(I.default,w.default.fetchUpdated.bind(w.default,e.fetchOptions,!0),{leading:!1})))}},{key:"render",value:function(){var e=(0,o.default)((0,_.omit)(this.props,"children"),this.state);return y.default.cloneElement(this.props.children,e)}}]),t}(y.default.Component);T.displayName="SiteUsersFetcher",T.propTypes={fetchOptions:g.default.object.isRequired,exclude:g.default.oneOfType([g.default.arrayOf(g.default.number),g.default.func])},t.default=T,e.exports=t.default},"./client/components/token-field/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/freeze.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/assign.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/typeof.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/extends.js"),c=s(d),f=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),m=s(h),_=n("./node_modules/babel-runtime/helpers/createClass.js"),v=s(_),g=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),b=s(g),y=n("./node_modules/babel-runtime/helpers/inherits.js"),E=s(y),j=n("./node_modules/react/react.js"),x=s(j),I=n("./node_modules/prop-types/index.js"),S=s(I),w=n("./node_modules/lodash/lodash.js"),C=n("./node_modules/classnames/index.js"),k=s(C),R=n("./node_modules/debug/browser.js"),P=s(R),T=n("./client/components/token-field/suggestions-list.jsx"),O=s(T),M=n("./client/components/token-field/token.jsx"),D=s(M),A=n("./client/components/token-field/token-input.jsx"),N=s(A),L=(0,P.default)("calypso:token-field"),U=function(e){function t(){var e,n,s,r;(0,m.default)(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=s=(0,b.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(i))),s.state=s.constructor.initialState,s._renderTokensAndInput=function(){var e=(0,w.map)(s.props.value,s._renderToken);return e.splice(s._getIndexOfInput(),0,s._renderInput()),e},s._renderToken=function(e){var t=s._getTokenValue(e),n=e.status?e.status:void 0;return x.default.createElement(D.default,{key:"token-"+t,value:t,status:n,tooltip:e.tooltip,displayTransform:s.props.displayTransform,onClickRemove:s._onTokenClickRemove,isBorderless:e.isBorderless||s.props.isBorderless,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,disabled:"error"!==n&&s.props.disabled})},s._renderInput=function(){var e=s.props,t=e.autoCapitalize,n=e.autoComplete,r=e.id,o=e.maxLength,i=e.value,a=e.placeholder,l={autoCapitalize:t,autoComplete:n,disabled:s.props.disabled,hasFocus:s.state.tokenInputHasFocus,id:r,key:"input",onBlur:s._onBlur,value:s.state.incompleteTokenValue};return 0===i.length&&a&&(l.placeholder=a),o&&i.length>=o||(l=(0,c.default)({},l,{onChange:s._onInputChange})),x.default.createElement(N.default,l)},s.setTokensAndInput=function(e){s.tokensAndInput=e},s._onFocus=function(e){s.setState({isActive:!0,tokenInputHasFocus:!0}),"function"==typeof s.props.onFocus&&s.props.onFocus(e)},s._onBlur=function(){s._inputHasValidValue()?(L("_onBlur adding current token"),s.setState({isActive:!1},s._addCurrentToken)):(L("_onBlur not adding current token"),s.setState(s.constructor.initialState))},s._onTokenClickRemove=function(e){s._deleteToken(e.value)},s._onSuggestionHovered=function(e){var t=s._getMatchingSuggestions().indexOf(e);t>=0&&s.setState({selectedSuggestionIndex:t,selectedSuggestionScroll:!1})},s._onSuggestionSelected=function(e){L("_onSuggestionSelected",e),s._addNewToken(e)},s._onInputChange=function(e){var t=e.value,n=s.props.tokenizeOnSpace?/[ ,\t]+/:/[,\t]+/,r=t.split(n);r.length>1&&s._addNewTokens(r.slice(0,-1)),s.setState({incompleteTokenValue:(0,w.last)(r)||"",selectedSuggestionIndex:-1,selectedSuggestionScroll:!1})},s._onContainerTouched=function(e){e.target===s.tokensAndInput&&s.state.isActive&&e.preventDefault()},s._onKeyDown=function(e){var t=!1;switch(e.keyCode){case 8:t=s._handleDeleteKey(s._deleteTokenBeforeInput);break;case 9:t=s._addCurrentToken();break;case 13:t=s._addCurrentToken();break;case 37:t=s._handleLeftArrowKey();break;case 38:t=s._handleUpArrowKey();break;case 39:t=s._handleRightArrowKey();break;case 40:t=s._handleDownArrowKey();break;case 46:t=s._handleDeleteKey(s._deleteTokenAfterInput);break;case 32:s.props.tokenizeOnSpace&&(t=s._addCurrentToken())}t&&e.preventDefault()},s._onKeyPress=function(e){var t=!1;switch(e.charCode){case 44:t=s._handleCommaKey()}t&&e.preventDefault()},s._handleDeleteKey=function(e){var t=!1;return s.state.tokenInputHasFocus&&s._isInputEmpty()&&(e(),t=!0),t},s._getMatchingSuggestions=function(){var e=s.props.suggestions,t=s.props.saveTransform(s.state.incompleteTokenValue),n=[],r=[];return 0===t.length?e=(0,w.difference)(e,s.props.value):(t=t.toLocaleLowerCase(),(0,w.each)(e,function(e){var s=e.toLocaleLowerCase().indexOf(t);this.props.value.indexOf(e)===-1&&(0===s?n.push(e):s>0&&r.push(e))}.bind(s)),e=n.concat(r)),(0,w.take)(e,s.props.maxSuggestions)},s._getSelectedSuggestion=function(){if(s.state.selectedSuggestionIndex!==-1)return s._getMatchingSuggestions()[s.state.selectedSuggestionIndex]},s._addCurrentToken=function(){var e=!1,t=s._getSelectedSuggestion();return t?(s._addNewToken(t),e=!0):s._inputHasValidValue()&&(s._addNewToken(s.state.incompleteTokenValue),e=!0),e},s._handleLeftArrowKey=function(){var e=!1;return s._isInputEmpty()&&(s._moveInputBeforePreviousToken(),e=!0),e},s._handleRightArrowKey=function(){var e=!1;return s._isInputEmpty()&&(s._moveInputAfterNextToken(),e=!0),e},s._handleUpArrowKey=function(){return s.setState({selectedSuggestionIndex:Math.max((s.state.selectedSuggestionIndex||0)-1,0),selectedSuggestionScroll:!0}),!0},s._handleDownArrowKey=function(){return s.setState({selectedSuggestionIndex:Math.min(s.state.selectedSuggestionIndex+1||0,s._getMatchingSuggestions().length-1),selectedSuggestionScroll:!0}),!0},s._handleCommaKey=function(){var e=!0;return s._inputHasValidValue()&&s._addNewToken(s.state.incompleteTokenValue),e},s._isInputEmpty=function(){return 0===s.state.incompleteTokenValue.length},s._inputHasValidValue=function(){return s.props.saveTransform(s.state.incompleteTokenValue).length>0},s._deleteTokenBeforeInput=function(){var e=s._getIndexOfInput()-1;e>-1&&s._deleteToken(s.props.value[e])},s._deleteTokenAfterInput=function(){var e=s._getIndexOfInput();e<s.props.value.length&&(s._deleteToken(s.props.value[e]),s._moveInputToIndex(e))},s._deleteToken=function(e){var t=s.props.value.filter(function(t){return s._getTokenValue(t)!==s._getTokenValue(e)});s.props.onChange(t)},s._moveInputToIndex=function(e){s.setState({inputOffsetFromEnd:s.props.value.length-Math.max(e,-1)-1})},s._moveInputBeforePreviousToken=function(){s.setState({inputOffsetFromEnd:Math.min(s.state.inputOffsetFromEnd+1,s.props.value.length)})},s._moveInputAfterNextToken=function(){s.setState({inputOffsetFromEnd:Math.max(s.state.inputOffsetFromEnd-1,0)})},s._addNewTokens=function(e){var t=(0,w.uniq)(e.map(s.props.saveTransform).filter(Boolean).filter(function(e){return!s._valueContainsToken(e)}));if(L("_addNewTokens: tokensToAdd",t),t.length>0){var n=(0,w.clone)(s.props.value);n.splice.apply(n,[s._getIndexOfInput(),0].concat(t)),L("_addNewTokens: onChange",n),s.props.onChange(n)}},s._addNewToken=function(e){s._addNewTokens([e]),s.setState({incompleteTokenValue:"",selectedSuggestionIndex:-1,selectedSuggestionScroll:!1}),s.state.isActive&&(L("_addNewToken focusing input"),s.setState({tokenInputHasFocus:!0}))},s._valueContainsToken=function(e){return(0,w.some)(s.props.value,function(t){return s._getTokenValue(e)===s._getTokenValue(t)})},s._getTokenValue=function(e){return"object"===("undefined"==typeof e?"undefined":(0,u.default)(e))?e.value:e},s._getIndexOfInput=function(){return s.props.value.length-s.state.inputOffsetFromEnd},r=n,(0,b.default)(s,r)}return(0,E.default)(t,e),(0,v.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.disabled&&this.state.isActive&&this.setState({isActive:!1,incompleteTokenValue:""})}},{key:"render",value:function(){var e=(0,k.default)("token-field",{"is-active":this.state.isActive,"is-disabled":this.props.disabled}),t={ref:"main",className:e,tabIndex:"-1"};return this.props.disabled||(t=(0,a.default)({},t,{onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onFocus:this._onFocus})),x.default.createElement("div",t,x.default.createElement("div",{ref:this.setTokensAndInput,className:"token-field__input-container",tabIndex:"-1",onMouseDown:this._onContainerTouched,onTouchStart:this._onContainerTouched},this._renderTokensAndInput()),x.default.createElement(O.default,{match:this.props.saveTransform(this.state.incompleteTokenValue),displayTransform:this.props.displayTransform,suggestions:this._getMatchingSuggestions(),selectedIndex:this.state.selectedSuggestionIndex,scrollIntoView:this.state.selectedSuggestionScroll,isExpanded:this.state.isActive,onHover:this._onSuggestionHovered,onSelect:this._onSuggestionSelected}))}}]),t}(j.PureComponent);U.propTypes={suggestions:S.default.array,maxSuggestions:S.default.number,displayTransform:S.default.func,saveTransform:S.default.func,onChange:S.default.func,isBorderless:S.default.bool,maxLength:S.default.number,onFocus:S.default.func,disabled:S.default.bool,tokenizeOnSpace:S.default.bool,placeholder:S.default.string,id:S.default.string,value:function e(t){var e=t.value;return Array.isArray(e)?void(0,w.forEach)(e,function(e){if("object"===("undefined"==typeof e?"undefined":(0,u.default)(e))&&!("value"in e))return new Error("When using object for value prop, each object is expected to have a 'value' property.")}):new Error("Value prop is expected to be an array.")}},U.defaultProps={suggestions:(0,o.default)([]),maxSuggestions:100,value:(0,o.default)([]),placeholder:"",displayTransform:w.identity,saveTransform:function(e){return e.trim()},onChange:function(){},isBorderless:!1,disabled:!1,tokenizeOnSpace:!1},U.initialState={incompleteTokenValue:"",inputOffsetFromEnd:0,isActive:!1,selectedSuggestionIndex:-1,selectedSuggestionScroll:!1,tokenInputHasFocus:!1},t.default=U,e.exports=t.default},"./client/components/token-field/suggestions-list.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/freeze.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/lodash/lodash.js"),v=n("./node_modules/prop-types/index.js"),g=s(v),b=n("./node_modules/react/react.js"),y=s(b),E=n("./node_modules/classnames/index.js"),j=s(E),x=n("./node_modules/dom-scroll-into-view/index.js"),I=s(x),S=function(e){function t(){var e,n,s,r;(0,u.default)(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=s=(0,p.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),s._computeSuggestionMatch=function(e){var t,n=s.props.displayTransform(s.props.match||"").toLocaleLowerCase();return 0===n.length?null:(e=s.props.displayTransform(e),t=e.toLocaleLowerCase().indexOf(n),{suggestionBeforeMatch:e.substring(0,t),suggestionMatch:e.substring(t,t+n.length),suggestionAfterMatch:e.substring(t+n.length)})},s._renderSuggestions=function(){return(0,_.map)(s.props.suggestions,function(e,t){var n=this._computeSuggestionMatch(e),s=(0,j.default)("token-field__suggestion",{"is-selected":t===this.props.selectedIndex});return y.default.createElement("li",{className:s,key:e,onMouseDown:this._handleMouseDown,onClick:this._handleClick(e),onMouseEnter:this._handleHover(e)},n?y.default.createElement("span",null,n.suggestionBeforeMatch,y.default.createElement("strong",{className:"token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch):this.props.displayTransform(e))}.bind(s))},s._handleHover=function(e){return function(){this._scrollingIntoView||this.props.onHover(e)}.bind(s)},s._handleClick=function(e){return function(){this.props.onSelect(e)}.bind(s)},s._handleMouseDown=function(e){e.preventDefault()},r=n,(0,p.default)(s,r)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidUpdate",value:function(e){var t;e.isExpanded&&this.props.isExpanded&&this.props.selectedIndex>-1&&this.props.scrollIntoView&&(this._scrollingIntoView=!0,t=this.refs.list,(0,I.default)(t.children[this.props.selectedIndex],t,{onlyScrollIfNeeded:!0}),setTimeout(function(){this._scrollingIntoView=!1}.bind(this),100))}},{key:"render",value:function(){var e=(0,j.default)("token-field__suggestions-list",{"is-expanded":this.props.isExpanded&&this.props.suggestions.length>0});return y.default.createElement("ul",{ref:"list",className:e,tabIndex:"-1"},this._renderSuggestions())}}]),t}(y.default.PureComponent);S.propTypes={isExpanded:g.default.bool,match:g.default.string,displayTransform:g.default.func.isRequired,onSelect:g.default.func,suggestions:g.default.array,selectedIndex:g.default.number},S.defaultProps={isExpanded:!1,match:"",onHover:function(){},onSelect:function(){},suggestions:(0,o.default)([])},t.default=S,e.exports=t.default},"./client/components/token-field/token-input.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/prop-types/index.js"),v=s(_),g=n("./node_modules/react/react.js"),b=s(g),y=n("./node_modules/lodash/lodash.js"),E=function(e){function t(){var e,n,s,r;(0,u.default)(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=s=(0,p.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),s.setTextInput=function(e){s.textInput=e},s.onChange=function(e){s.props.onChange({value:e.target.value})},r=n,(0,p.default)(s,r)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidUpdate",value:function(){this.props.hasFocus&&this.textInput.focus()}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.value,s=(0===n.length&&t&&t.length||n.length)+1;return b.default.createElement("input",(0,o.default)({className:"token-field__input",onChange:this.onChange,ref:this.setTextInput,size:s,type:"text"},(0,y.omit)(this.props,["hasFocus","onChange"])))}}]),t}(b.default.PureComponent);E.propTypes={disabled:v.default.bool,hasFocus:v.default.bool,onChange:v.default.func,onBlur:v.default.func,placeholder:v.default.string,value:v.default.string},E.defaultProps={disabled:!1,hasFocus:!1,onChange:y.noop,onBlur:y.noop,placeholder:"",value:""},t.default=E,e.exports=t.default},"./client/components/token-field/token.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/prop-types/index.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/classnames/index.js"),b=s(g),y=n("./node_modules/gridicons/build/index.js"),E=s(y),j=n("./client/components/tooltip/index.jsx"),x=s(j),I=function(e){function t(){var e,n,s,r;(0,a.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),s._onClickRemove=function(){s.props.onClickRemove({value:s.props.value})},r=n,(0,c.default)(s,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.status,s=e.isBorderless,r=e.tooltip,o=e.displayTransform,i=(0,b.default)("token-field__token",{"is-error":"error"===n,"is-success":"success"===n,"is-validating":"validating"===n,"is-borderless":s,"is-disabled":this.props.disabled});return v.default.createElement("span",{className:i,tabIndex:"-1",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},v.default.createElement("span",{className:"token-field__token-text"},o(t)),v.default.createElement(E.default,{icon:"cross-small",size:24,className:"token-field__remove-token",onClick:!this.props.disabled&&this._onClickRemove}),r&&v.default.createElement(x.default,{showOnMobile:!0,context:this,status:n,isVisible:!0,position:"bottom"},r))}}]),t}(v.default.PureComponent);I.displayName="Token",I.propTypes={value:m.default.string.isRequired,displayTransform:m.default.func.isRequired,onClickRemove:m.default.func,status:m.default.oneOf(["error","success","validating"]),isBorderless:m.default.bool,tooltip:m.default.string,disabled:m.default.bool},I.defaultProps={onClickRemove:function(){},isBorderless:!1,disabled:!1},t.default=I,e.exports=t.default},"./client/components/tooltip/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/react/react.js"),m=s(h),_=n("./node_modules/prop-types/index.js"),v=s(_),g=n("./node_modules/classnames/index.js"),b=s(g),y=n("./client/components/popover/index.jsx"),E=s(y),j=n("./client/lib/viewport/index.js"),x=s(j),I=function(){},S=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){if(!this.props.showOnMobile&&x.default.isMobile())return null;var e=(0,b.default)("popover","tooltip","is-"+this.props.status,"is-"+this.props.position,this.props.className);return m.default.createElement(E.default,{autoPosition:this.props.autoPosition,className:e,rootClassName:this.props.rootClassName,context:this.props.context,id:this.props.id,isVisible:this.props.isVisible,onClose:I,position:this.props.position,showDelay:this.props.showDelay},this.props.children)}}]),t}(h.Component);S.propTypes={autoPosition:v.default.bool,className:v.default.string,id:v.default.string,isVisible:v.default.bool,position:v.default.string,rootClassName:v.default.string,status:v.default.string,showDelay:v.default.number,showOnMobile:v.default.bool},S.defaultProps={showDelay:100,position:"top",showOnMobile:!1},t.default=S,e.exports=t.default},"./client/components/user/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/react/react.js"),m=s(h),_=n("./node_modules/prop-types/index.js"),v=s(_),g=n("./client/components/gravatar/index.jsx"),b=s(g),y=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.user||null,t=e?e.name:"";return m.default.createElement("div",{className:"user",title:t},m.default.createElement(b.default,{size:26,user:e}),m.default.createElement("span",{className:"user__name"},t))}}]),t}(h.Component);y.displayName="UserItem",y.propTypes={user:v.default.object},t.default=y,e.exports=t.default},"./client/lib/analytics/page-view-tracker/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PageViewTracker=void 0;var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/debug/browser.js"),m=s(h),_=n("./node_modules/prop-types/index.js"),v=s(_),g=n("./node_modules/react/react.js"),b=s(g),y=n("./node_modules/lodash/lodash.js"),E=n("./node_modules/react-redux/es/index.js"),j=n("./client/state/analytics/actions.js"),x=(0,m.default)("calypso:analytics:PageViewTracker"),I=t.PageViewTracker=function(e){function t(){var e,n,s,r;(0,a.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),s.state={timer:null},s.queuePageView=function(){var e=s.props,t=e.delay,n=void 0===t?0:t,r=e.path,o=e.recorder,i=void 0===o?y.noop:o,a=e.title;if(x('Queuing Page View: "'+a+'" at "'+r+'" with '+n+"ms delay"),!s.state.timer)return n?void s.setState({timer:setTimeout(function(){return i(r,a)},n)}):i(r,a)},r=n,(0,c.default)(s,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){x("Component has mounted."),this.queuePageView()}},{key:"componentWillUnmount",value:function(){x("Component has unmounted."),clearTimeout(this.state.timer)}},{key:"render",value:function(){return null}}]),t}(b.default.Component);I.displayName="PageViewTracker",I.propTypes={delay:v.default.number,path:v.default.string.isRequired,recorder:v.default.func,title:v.default.string.isRequired};var S=function(e){return{recorder:(0,y.flowRight)(e,j.recordPageView)}};t.default=(0,E.connect)(null,S)(I)},"./client/lib/build-url/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=i.default.parse(e,!0);return t?n.query.s=t:delete n.query.s,n=(0,r.pick)(n,"pathname","hash","query"),i.default.format(n).replace(/\%20/g,"+")};var r=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/url/url.js"),i=s(o);e.exports=t.default},"./client/lib/email-followers/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/assign.js"),o=s(r),i=n("./node_modules/debug/browser.js"),a=s(i),l=n("./client/dispatcher/index.js"),u=s(l),d=n("./client/lib/wp/browser.js"),c=s(d),f=n("./client/lib/email-followers/store.js"),p=s(f),h=(0,a.default)("calypso:email-followers-actions"),m={fetchFollowers:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,o.default)(e,{type:"email"});var n=p.default.getPaginationData(e);n.fetchingUsers||(h("fetchFollowers",e),t||u.default.handleViewAction({type:"FETCHING_EMAIL_FOLLOWERS",fetchOptions:e}),c.default.undocumented().site(e.siteId).fetchFollowers(e,function(t,n){u.default.handleServerAction({type:"RECEIVE_EMAIL_FOLLOWERS",fetchOptions:e,data:n,error:t})}))},removeFollower:function(e,t){u.default.handleViewAction({type:"REMOVE_EMAIL_FOLLOWER",siteId:e,follower:t}),c.default.undocumented().site(e).removeEmailFollower(t.ID,function(n,s){n?u.default.handleServerAction({type:"RECEIVE_REMOVE_EMAIL_FOLLOWER_ERROR",siteId:e,follower:t,error:n}):u.default.handleServerAction({type:"RECEIVE_REMOVE_EMAIL_FOLLOWER_SUCCESS",siteId:e,follower:t,data:s})})}};t.default=m,e.exports=t.default},"./client/lib/email-followers/store.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){k[e]||(k[e]={}),k[e][t]||(k[e][t]={}),n.avatar_URL=n.avatar,k[e][t]=(0,_.default)({},k[e][t],n)}function o(e,t,n){var s=i(e),o=e.page;w("updateFollowers:",s),o&&1!==o||(O[s]=new h.default),t.forEach(function(t){O[s].add(t.ID),r(e.siteId,t.ID,t)}),R[s]=n,T[s]=o,P[s]=O[s].size}function i(e){return(0,b.default)((0,v.omit)(e,["page","max"]))}function a(e,t){(0,f.default)(O).forEach(function(n){n.indexOf("siteId="+e+"&")!==-1&&O[n].has(t)&&(R[n]--,P[n]--,T[n]--)})}function l(e,t){(0,f.default)(O).forEach(function(n){n.indexOf("siteId="+e+"&")!==-1&&O[n].has(t)&&(R[n]++,P[n]++,T[n]++)})}function u(e,t){k[e]&&k[e][t]&&(delete k[e][t],a(e,t))}function d(e,t){(0,f.default)(O).forEach(function(n){n.indexOf("siteId="+e+"&")!==-1&&O[n].has(t)&&delete O[n][t]})}Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/babel-runtime/core-js/object/keys.js"),f=s(c),p=n("./node_modules/babel-runtime/core-js/set.js"),h=s(p),m=n("./node_modules/babel-runtime/core-js/object/assign.js"),_=s(m),v=n("./node_modules/lodash/lodash.js"),g=n("./node_modules/json-stable-stringify/index.js"),b=s(g),y=n("./node_modules/debug/browser.js"),E=s(y),j=n("./client/dispatcher/index.js"),x=s(j),I=n("./client/lib/mixins/emitter/index.js"),S=s(I),w=(0,E.default)("calypso:email-followers-store"),C={},k={},R={},P={},T={},O={},M={},D={getPaginationData:function(e){var t=i(e);return w("getPaginationData:",t),{fetchInitialized:P.hasOwnProperty(t),totalFollowers:R[t]||0,
fetchingFollowers:C[t]||!1,followersCurrentPage:T[t],numFollowersFetched:P[t],fetchNameSpace:t}},isRemoving:function(e){return M[e]},getFollowers:function(e){var t=i(e),n=e.siteId,s=[];return w("getFollowers:",t),k[n]||(k[n]={}),!!O[t]&&(O[t].forEach(function(e){k[n][e]&&s.push(k[n][e])}),s)},emitChange:function(){this.emit("change")}};D.dispatchToken=x.default.register(function(e){var t=e.action,n=void 0;switch(w("register event Type",t.type,e),t.type){case"FETCHING_EMAIL_FOLLOWERS":n=i(t.fetchOptions),C[n]=!0,D.emitChange();break;case"RECEIVE_EMAIL_FOLLOWERS":n=i(t.fetchOptions),C[n]=!1,t.error||(o(t.fetchOptions,t.data.subscribers,t.data.total_email),D.emitChange());break;case"REMOVE_EMAIL_FOLLOWER":M[t.siteId]=!0,u(t.siteId,t.follower.ID),D.emitChange();break;case"RECEIVE_REMOVE_EMAIL_FOLLOWER_SUCCESS":M[t.siteId]=!1,d(t.siteId,t.follower.ID),D.emitChange();break;case"RECEIVE_REMOVE_EMAIL_FOLLOWER_ERROR":M[t.siteId]=!1,r(t.siteId,t.follower.ID,t.follower),l(t.siteId,t.follower.ID),D.emitChange()}}),(0,S.default)(D),t.default=D,e.exports=t.default},"./client/lib/followers/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/debug/browser.js"),o=s(r),i=n("./client/dispatcher/index.js"),a=s(i),l=n("./client/lib/wp/browser.js"),u=s(l),d=n("./client/lib/followers/store.js"),c=s(d),f=(0,o.default)("calypso:followers-actions"),p={fetchFollowers:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=c.default.getPaginationData(e);n.fetchingUsers||(f("fetchFollowers",e),t||a.default.handleViewAction({type:"FETCHING_FOLLOWERS",fetchOptions:e}),u.default.undocumented().site(e.siteId).fetchFollowers(e,function(t,n){a.default.handleServerAction({type:"RECEIVE_FOLLOWERS",fetchOptions:e,data:n,error:t})}))},removeFollower:function(e,t){a.default.handleViewAction({type:"REMOVE_FOLLOWER",siteId:e,follower:t}),u.default.undocumented().site(e).removeFollower(t.ID,function(n,s){n?a.default.handleServerAction({type:"RECEIVE_REMOVE_FOLLOWER_ERROR",siteId:e,follower:t,error:n}):a.default.handleServerAction({type:"RECEIVE_REMOVE_FOLLOWER_SUCCESS",siteId:e,follower:t,data:s})})}};t.default=p,e.exports=t.default},"./client/lib/followers/store.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){k[e]||(k[e]={}),k[e][t]||(k[e][t]={}),n.avatar_URL=n.avatar,k[e][t]=(0,_.default)({},k[e][t],n)}function o(e,t,n){var s=i(e),o=e.page;w("updateFollowers:",s),o&&1!==o||(O[s]=new h.default),t.forEach(function(t){O[s].add(t.ID),r(e.siteId,t.ID,t)}),R[s]=n,T[s]=o,P[s]=O[s].size}function i(e){return(0,b.default)((0,v.omit)(e,["page","max"]))}function a(e,t){(0,f.default)(O).forEach(function(n){(0,v.endsWith)(n,"siteId="+e)&&O[n].has(t)&&(R[n]--,P[n]--,T[n]--)})}function l(e,t){(0,f.default)(O).forEach(function(n){(0,v.endsWith)(n,"siteId="+e)&&O[n].has(t)&&(R[n]++,P[n]++,T[n]++)})}function u(e,t){k[e]&&k[e][t]&&(delete k[e][t],a(e,t))}function d(e,t){(0,f.default)(O).forEach(function(n){(0,v.endsWith)(n,"siteId="+e)&&O[n].has(t)&&delete O[n][t]})}Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/babel-runtime/core-js/object/keys.js"),f=s(c),p=n("./node_modules/babel-runtime/core-js/set.js"),h=s(p),m=n("./node_modules/babel-runtime/core-js/object/assign.js"),_=s(m),v=n("./node_modules/lodash/lodash.js"),g=n("./node_modules/json-stable-stringify/index.js"),b=s(g),y=n("./node_modules/debug/browser.js"),E=s(y),j=n("./client/dispatcher/index.js"),x=s(j),I=n("./client/lib/mixins/emitter/index.js"),S=s(I),w=(0,E.default)("calypso:wpcom-followers-store"),C={},k={},R={},P={},T={},O={},M={},D={getPaginationData:function(e){var t=i(e);return w("getPaginationData:",t),{fetchInitialized:P.hasOwnProperty(t),totalFollowers:R[t]||0,fetchingFollowers:C[t]||!1,followersCurrentPage:T[t],numFollowersFetched:P[t],fetchNameSpace:t}},isRemoving:function(e){return M[e]},getFollowers:function(e){var t=i(e),n=e.siteId;if(w("getFollowers:",t),k[n]||(k[n]={}),!O[t])return!1;var s=[];return O[t].forEach(function(e){k[n][e]&&s.push(k[n][e])}),s},emitChange:function(){this.emit("change")}};D.dispatchToken=x.default.register(function(e){var t,n=e.action;switch(w("register event Type",n.type,e),n.type){case"FETCHING_FOLLOWERS":t=i(n.fetchOptions),C[t]=!0,D.emitChange();break;case"RECEIVE_FOLLOWERS":t=i(n.fetchOptions),C[t]=!1,n.error||(o(n.fetchOptions,n.data.subscribers,n.data.total),D.emitChange());break;case"REMOVE_FOLLOWER":M[n.siteId]=!0,u(n.siteId,n.follower.ID),D.emitChange();break;case"RECEIVE_REMOVE_FOLLOWER_SUCCESS":M[n.siteId]=!1,d(n.siteId,n.follower.ID),D.emitChange();break;case"RECEIVE_REMOVE_FOLLOWER_ERROR":M[n.siteId]=!1,r(n.siteId,n.follower.ID,n.follower),l(n.siteId,n.follower.ID),D.emitChange()}}),(0,S.default)(D),t.default=D,e.exports=t.default},"./client/lib/infinite-list/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/lodash/lodash.js"),o=n("./client/dispatcher/index.js"),i=s(o),a=n("./client/lib/infinite-list/scroll-store.js"),l=s(a),u=n("./client/lib/infinite-list/positions-store.js"),d=s(u),c=null,f=null,p=1e3,h={leading:!1};t.default={storePositions:(0,r.throttle)(function(e,t){c||setTimeout(function(){var e=d.default.get(c.url);(0,r.isEqual)(c.positions,e)||i.default.handleViewAction({type:"INFINITE_LIST_POSITION_CHANGED",url:c.url,positions:c.positions}),c=null},0),c={url:e,positions:t}},p,h),storeScroll:(0,r.throttle)(function(e,t){f||setTimeout(function(){var e=l.default.get(f.url);f.scrollPosition!==e&&i.default.handleViewAction({type:"SCROLL_CHANGED",url:f.url,scrollPosition:f.scrollPosition}),f=null},0),f={url:e,scrollPosition:t}},p,h)},e.exports=t.default},"./client/lib/infinite-list/positions-store.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=h.get(e);f("comparing positions:",e,n,t),(0,o.isEqual)(n,t)||(f("storing values:",e,t),p[e]=t,h.emit("change"))}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/debug/browser.js"),a=s(i),l=n("./client/dispatcher/index.js"),u=s(l),d=n("./client/lib/mixins/emitter/index.js"),c=s(d),f=(0,a.default)("calypso:infinite-list:positions-store"),p={},h={get:function(e){return f("positions-store:get(): ",e,p),p[e]}};(0,c.default)(h),h.dispatchToken=u.default.register(function(e){var t=e.action;switch(t.type){case"INFINITE_LIST_POSITION_CHANGED":r(t.url,t.positions)}}),t.default=h,e.exports=t.default},"./client/lib/infinite-list/scroll-store.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=l.get(e);n!==t&&(a[e]=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./client/dispatcher/index.js"),i=s(o),a={},l={get:function(e){return a[e]}};l.dispatchToken=i.default.register(function(e){var t=e.action;switch(t.type){case"SCROLL_CHANGED":r(t.url,t.scrollPosition)}}),t.default=l,e.exports=t.default},"./client/lib/invites/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;M("fetchInvites",e),I.default.handleViewAction({type:C.action.FETCH_INVITES,siteId:e,offset:n}),w.default.undocumented().invitesList(e,t,n,function(t,s){I.default.handleServerAction({type:t?C.action.RECEIVE_INVITES_ERROR:C.action.RECEIVE_INVITES,siteId:e,offset:n,data:s,error:t})})}function o(e,t){M("fetchInvite",e,t),I.default.handleViewAction({type:C.action.FETCH_INVITE,siteId:e,inviteKey:t}),w.default.undocumented().getInvite(e,t,function(n,s){I.default.handleServerAction({type:n?C.action.RECEIVE_INVITE_ERROR:C.action.RECEIVE_INVITE,siteId:e,inviteKey:t,data:s,error:n}),n&&R.default.tracks.recordEvent("calypso_invite_validation_failure",{error:n.error})})}function i(e,t,n){var s=e.email!==t.sentTo;return function(t){w.default.undocumented().usersNew((0,v.default)({},e,{validate:!1,send_verification_email:s}),function(e,s){var r=s&&s.bearer_token;e?(e.message&&t((0,P.errorNotice)(e.message)),R.default.tracks.recordEvent("calypso_invite_account_creation_failed",{error:e.error})):R.default.tracks.recordEvent("calypso_invite_account_created"),n(e,r)})}}function a(e,t){return function(n){I.default.handleViewAction({type:C.action.INVITE_ACCEPTED,invite:e}),w.default.undocumented().acceptInvite(e,function(s,r){I.default.handleViewAction({type:s?C.action.RECEIVE_INVITE_ACCEPTED_ERROR:C.action.RECEIVE_INVITE_ACCEPTED_SUCCESS,error:s,invite:e,data:r}),s?(s.message&&n((0,P.errorNotice)(s.message,{displayOnNextPage:!0})),R.default.tracks.recordEvent("calypso_invite_accept_failed",{error:s.error})):((0,y.get)(e,"site.is_vip")||n(P.successNotice.apply(void 0,(0,m.default)((0,T.acceptedNotice)(e)))),R.default.tracks.recordEvent("calypso_invite_accepted")),n((0,O.requestSites)()),"function"==typeof t&&t(s,r)})}}function l(e,t,n,s,r){return function(o){I.default.handleViewAction({type:C.action.SENDING_INVITES,siteId:e,usernamesOrEmails:t,role:n,message:s}),w.default.undocumented().sendInvites(e,t,n,s,function(i,a){var l=(0,y.get)(a,"errors"),u=!!i||!(0,y.isEmpty)(l);if(I.default.handleServerAction({type:u?C.action.RECEIVE_SENDING_INVITES_ERROR:C.action.RECEIVE_SENDING_INVITES_SUCCESS,error:i,siteId:e,usernamesOrEmails:t,role:n,message:s,formId:r,data:a}),u){var d=i||(0,y.isEmpty)(l)||"object"!==("undefined"==typeof l?"undefined":(0,p.default)(l))?t.length:(0,c.default)(a.errors).length;s=d===t.length?j.default.translate("Invitation failed to send","Invitations failed to send",{count:d,context:"Displayed in a notice when all invitations failed to send."}):j.default.translate("An invitation failed to send","Some invitations failed to send",{count:d,context:"Displayed in a notice when some invitations failed to send."}),o((0,P.errorNotice)(s)),R.default.tracks.recordEvent("calypso_invite_send_failed")}else o((0,P.successNotice)(j.default.translate("Invitation sent successfully","Invitations sent successfully",{count:t.length}))),R.default.tracks.recordEvent("calypso_invite_send_success")})}}function u(e,t,n){I.default.handleViewAction({type:C.action.CREATE_INVITE_VALIDATION,siteId:e,usernamesOrEmails:t,role:n}),w.default.undocumented().createInviteValidation(e,t,n,function(s,r){I.default.handleServerAction({type:s?C.action.RECEIVE_CREATE_INVITE_VALIDATION_ERROR:C.action.RECEIVE_CREATE_INVITE_VALIDATION_SUCCESS,error:s,siteId:e,usernamesOrEmails:t,role:n,data:r}),s?R.default.tracks.recordEvent("calypso_invite_create_validation_failed"):R.default.tracks.recordEvent("calypso_invite_create_validation_success")})}Object.defineProperty(t,"__esModule",{value:!0});var d=n("./node_modules/babel-runtime/core-js/object/keys.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/typeof.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),m=s(h),_=n("./node_modules/babel-runtime/core-js/object/assign.js"),v=s(_);t.fetchInvites=r,t.fetchInvite=o,t.createAccount=i,t.acceptInvite=a,t.sendInvites=l,t.createInviteValidation=u;var g=n("./node_modules/debug/browser.js"),b=s(g),y=n("./node_modules/lodash/lodash.js"),E=n("./node_modules/i18n-calypso/index.js"),j=s(E),x=n("./client/dispatcher/index.js"),I=s(x),S=n("./client/lib/wp/browser.js"),w=s(S),C=n("./client/lib/invites/constants.js"),k=n("./client/lib/analytics/index.js"),R=s(k),P=n("./client/state/notices/actions.js"),T=n("./client/my-sites/invites/utils.js"),O=n("./client/state/sites/actions.js"),M=new b.default("calypso:invites-actions")},"./client/lib/invites/reducers/invites-create-validation.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialState=void 0;var s=n("./node_modules/immutable/dist/immutable.js"),r=n("./client/lib/invites/constants.js"),o=(0,s.fromJS)({success:{},errors:{}}),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1],n=t.action;switch(n.type){case r.action.RECEIVE_CREATE_INVITE_VALIDATION_SUCCESS:return e.setIn(["success",n.siteId,n.role],n.data.success).setIn(["errors",n.siteId,n.role],n.data.errors)}return e};t.initialState=o,t.reducer=i},"./client/lib/invites/reducers/invites-sent.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialState=void 0;var s=n("./node_modules/immutable/dist/immutable.js"),r=n("./client/lib/invites/constants.js"),o=(0,s.fromJS)({success:{},errors:{}}),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1],n=t.action;switch(n.type){case r.action.RECEIVE_SENDING_INVITES_SUCCESS:return e.setIn(["success",n.formId],n.data);case r.action.RECEIVE_SENDING_INVITES_ERROR:return e.setIn(["error",n.formId],n.data)}return e};t.initialState=o,t.reducer=i},"./client/lib/invites/stores/invites-create-validation.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("./client/lib/store/index.js"),r=n("./client/lib/invites/reducers/invites-create-validation.js"),o=(0,s.createReducerStore)(r.reducer,r.initialState);o.getSuccess=function(e,t){return o.get().getIn(["success",e,t])},o.getErrors=function(e,t){return o.get().getIn(["errors",e,t])},t.default=o,e.exports=t.default},"./client/lib/invites/stores/invites-sent.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("./client/lib/store/index.js"),r=n("./client/lib/invites/reducers/invites-sent.js"),o=(0,s.createReducerStore)(r.reducer,r.initialState);o.getSuccess=function(e){return o.get().getIn(["success",e])},o.getErrors=function(e){return o.get().getIn(["error",e])},t.default=o,e.exports=t.default},"./client/lib/mixins/url-search/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/debug/browser.js"),o=s(r),i=n("./node_modules/page/index.js"),a=s(i),l=n("./client/lib/build-url/index.js"),u=s(l),d=(0,o.default)("calypso:url-search");t.default={getInitialState:function(){return{searchOpen:!1}},componentWillReceiveProps:function(e){e.search||this.setState({searchOpen:!1})},doSearch:function(e){var t;return this.setState({searchOpen:!1!==e}),this.onSearch?void this.onSearch(e):(t=(0,u.default)(window.location.href,e),d("search posts for:",e),void(this.props.search&&e?(d("replacing URL: "+t),a.default.replace(t)):(d("setting URL: "+t),(0,a.default)(t))))},getSearchOpen:function(){return this.state.searchOpen!==!1||this.props.search}},e.exports=t.default},"./client/lib/people/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./client/dispatcher/index.js"),o=s(r),i={removePeopleNotices:function(e){o.default.handleViewAction({type:"REMOVE_PEOPLE_NOTICES",logs:e})}};t.default=i,e.exports=t.default},"./client/lib/people/log-store.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e){switch(_("removing log:",e),e.status){case"error":v=(0,u.reject)(v,e),_("current errors:",v);break;case"inProgress":g=(0,u.reject)(g,e),_("current in progress:",g);break;case"completed":b=(0,u.reject)(b,e),_("current completed:",b)}}function o(e,t,n,s,r){var o={status:e,action:t,siteId:n,user:s,error:r};_("Add in "+e+" data:",o),i(e).push(o)}function i(e){switch(e){case"error":return v;case"inProgress":return g;case"completed":return b}}function a(e,t){var n=i(e);return t&&(n=n.filter(t)),(0,u.clone)(n)}Object.defineProperty(t,"__esModule",{value:!0});var l,u=n("./node_modules/lodash/lodash.js"),d=n("./node_modules/debug/browser.js"),c=s(d),f=n("./client/dispatcher/index.js"),p=s(f),h=n("./client/lib/mixins/emitter/index.js"),m=s(h),_=(0,c.default)("calypso:my-sites:people:log-store"),v=[],g=[],b=[];l={hasUnauthorizedError:function(e){return Boolean((0,u.find)(v,function(t){return t.siteId===e&&"unauthorized"===t.error}))},getErrors:a.bind(void 0,"error"),getInProgress:a.bind(void 0,"inProgress"),getCompleted:a.bind(void 0,"completed"),clear:function(){v=[],g=[],b=[]},emitChange:function(){this.emit("change")}},l.dispatchToken=p.default.register(function(e){var t=e.action;switch(t.type){case"REMOVE_PEOPLE_NOTICES":t.logs.forEach(r),l.emitChange();break;case"RECEIVE_VIEWERS":case"RECEIVE_USERS":case"RECEIVE_FOLLOWERS":case"RECEIVE_EMAIL_FOLLOWERS":case"RECEIVE_ROLES":t.error&&(o("error",t.type,t.siteId||t.fetchOptions.siteId,null,t.error.error),l.emitChange());break;case"RECEIVE_USER_FAILED":o("error",t.type,t.fetchOptions.siteId,t.login,t.error.error),l.emitChange();break;case"UPDATE_SITE_USER":case"DELETE_SITE_USER":o("inProgress",t.type,t.siteId,t.user),l.emitChange();break;case"RECEIVE_DELETE_SITE_USER_FAILURE":case"RECEIVE_DELETE_SITE_USER_SUCCESS":case"RECEIVE_UPDATE_SITE_USER_FAILURE":case"RECEIVE_UPDATE_SITE_USER_SUCCESS":r({status:"inProgress",action:t.action,siteId:t.siteId,user:t.user}),t.error?o("error",t.type,t.siteId,t.user,t.error):o("completed",t.type,t.siteId,t.user),l.emitChange()}}),(0,m.default)(l),t.default=l,e.exports=t.default},"./client/lib/react-pass-to-children/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,s=(0,r.assign)({},e.props,t);return delete s.children,i.default.Children.count(e.props.children)>1?(n=i.default.Children.map(e.props.children,function(e){return i.default.isValidElement(e)?i.default.cloneElement(e,s):e}),i.default.createElement("div",null,n)):i.default.cloneElement(e.props.children,s)};var r=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/react/react.js"),i=s(o);e.exports=t.default},"./client/lib/users/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/assign.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/json/stringify.js"),a=s(i),l=n("./node_modules/debug/browser.js"),u=s(l),d=n("./client/dispatcher/index.js"),c=s(d),f=n("./client/lib/wp/browser.js"),p=s(f),h=n("./client/lib/users/store.js"),m=s(h),_=(0,u.default)("calypso:users:actions"),v={fetchUsers:function(e){var t=m.default.getPaginationData(e);t.fetchingUsers||(_("fetchUsers",e),c.default.handleViewAction({type:"FETCHING_USERS",fetchOptions:e}),p.default.site(e.siteId).usersList(e,function(t,n){c.default.handleServerAction({type:"RECEIVE_USERS",fetchOptions:e,data:n,error:t})}))},fetchUpdated:function(e){var t=m.default.getPaginationData(e);if(!t.fetchingUsers){c.default.handleViewAction({type:"FETCHING_UPDATED_USERS",fetchOptions:e});var n=m.default.getUpdatedParams(e);_("Updated fetchOptions: "+(0,a.default)(n)),p.default.site(e.siteId).usersList(n,function(t,n){c.default.handleServerAction({type:"RECEIVE_UPDATED_USERS",fetchOptions:e,data:n,error:t})})}},deleteUser:function(e,t,n){_("deleteUser",t);var s=m.default.getUser(e,t);if(s){c.default.handleViewAction({type:"DELETE_SITE_USER",siteId:e,user:s});var r=void 0;"undefined"!=typeof n&&(r={reassign:n}),p.default.undocumented().site(e).deleteUser(t,r,function(t,n){t||!n.success?c.default.handleServerAction({type:"RECEIVE_DELETE_SITE_USER_FAILURE",action:"DELETE_SITE_USER",siteId:e,user:s,error:t}):c.default.handleServerAction({type:"RECEIVE_DELETE_SITE_USER_SUCCESS",action:"DELETE_SITE_USER",siteId:e,user:s,data:n})})}},updateUser:function(e,t,n){_("updateUser",t);var s=m.default.getUser(e,t),r=(0,o.default)(s,n);s&&(c.default.handleViewAction({type:"UPDATE_SITE_USER",siteId:e,user:r}),p.default.undocumented().site(e).updateUser(t,n,function(t,n){t?(_("Update user error",t),c.default.handleServerAction({type:"RECEIVE_UPDATE_SITE_USER_FAILURE",action:"UPDATE_SITE_USER",siteId:e,user:s,error:t})):c.default.handleServerAction({type:"RECEIVE_UPDATE_SITE_USER_SUCCESS",action:"UPDATE_SITE_USER",siteId:e,user:s,data:n})}))},fetchUser:function(e,t){_("fetchUser",e),c.default.handleViewAction({type:"FETCHING_USERS",fetchOptions:e}),p.default.undocumented().site(e.siteId).getUser(t,function(n,s){n?c.default.handleServerAction({type:"RECEIVE_USER_FAILED",fetchOptions:e,siteId:e.siteId,login:t,error:n}):c.default.handleServerAction({type:"RECEIVE_SINGLE_USER",fetchOptions:e,user:s})})}};t.default=v,e.exports=t.default},"./client/lib/users/store.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){P[e]||(P[e]={}),P[e][t]||(P[e][t]={}),P[e][t]=(0,v.default)({},P[e][t],n)}function o(e,t){(0,m.default)(D).forEach(function(n){(0,y.endsWith)(n,"siteId="+e)&&D[n].has(t)&&(T[n]--,O[n]--)})}function i(e,t){(0,m.default)(D).forEach(function(n){(0,y.endsWith)(n,"siteId="+e)&&D[n].has(t)&&(T[n]++,O[n]++)})}function a(e,t){P[e]&&P[e][t]&&(delete P[e][t],o(e,t))}function l(e,t){(0,m.default)(D).forEach(function(n){(0,y.endsWith)(n,"siteId="+e)&&D[n].has(t)&&D[n].delete(t)})}function u(e,t,n){D[n]||(D[n]=new p.default),D[n].add(t.ID),r(e.siteId,t.ID,t)}function d(e,t,n){var s=c(e),o=e.offset;C("updateUsers:",s),o||(D[s]=new p.default),t.forEach(function(t){D[s].add(t.ID),r(e.siteId,t.ID,t)}),T[s]=n,M[s]=o,O[s]=D[s].size}function c(e){return(0,b.default)((0,y.omit)(e,["number","offset"]))}Object.defineProperty(t,"__esModule",{value:!0});var f=n("./node_modules/babel-runtime/core-js/set.js"),p=s(f),h=n("./node_modules/babel-runtime/core-js/object/keys.js"),m=s(h),_=n("./node_modules/babel-runtime/core-js/object/assign.js"),v=s(_),g=n("./node_modules/json-stable-stringify/index.js"),b=s(g),y=n("./node_modules/lodash/lodash.js"),E=n("./node_modules/debug/browser.js"),j=s(E),x=n("./client/dispatcher/index.js"),I=s(x),S=n("./client/lib/mixins/emitter/index.js"),w=s(S),C=(0,j.default)("calypso:users:store"),k={},R={},P={},T={},O={},M={},D={},A={getPaginationData:function(e){var t=c(e);return C("getPaginationData:",t),{fetchInitialized:O.hasOwnProperty(t),totalUsers:T[t]||0,fetchingUsers:k[t]||!1,usersCurrentOffset:M[t],numUsersFetched:O[t],fetchNameSpace:t}},getUsers:function(e){var t=c(e),n=e.siteId,s=[];return C("getUsers:",t),P[n]||(P[n]={}),D[t]?(D[t].forEach(function(e){P[n][e]&&s.push(P[n][e])}),s):s},getUser:function(e,t){return P[e]&&P[e][t]?P[e][t]:null},getUserByLogin:function(e,t){return(0,y.find)(P[e],function(e){return e.login===t})},getUpdatedParams:function(e){var t=c(e),n=O[t]||e.number;return(0,v.default)({},e,{offset:0,number:Math.min(n,1e3)})},emitChange:function(){this.emit("change")}};A.dispatchToken=I.default.register(function(e){var t,n=e.action;switch(n.type){case"RECEIVE_USERS":t=c(n.fetchOptions),k[t]=!1,n.error||(d(n.fetchOptions,n.data.users,n.data.found),A.emitChange());break;case"RECEIVE_UPDATED_USERS":t=c(n.fetchOptions),R[t]=!1,n.error||(d(n.fetchOptions,n.data.users,n.data.found),A.emitChange());break;case"UPDATE_SITE_USER":r(n.siteId,n.user.ID,n.user),A.emitChange();break;case"RECEIVE_UPDATE_SITE_USER_FAILURE":r(n.siteId,n.user.ID,n.user),A.emitChange();break;case"DELETE_SITE_USER":a(n.siteId,n.user.ID),A.emitChange();break;case"RECEIVE_DELETE_SITE_USER_SUCCESS":l(n.siteId,n.user.ID),A.emitChange();break;case"RECEIVE_DELETE_SITE_USER_FAILURE":r(n.siteId,n.user.ID,n.user),i(n.siteId,n.user.ID),A.emitChange();break;case"FETCHING_USERS":t=c(n.fetchOptions),k[t]=!0,A.emitChange();break;case"FETCHING_UPDATED_USERS":t=c(n.fetchOptions),R[t]=!0,A.emitChange();break;case"RECEIVE_SINGLE_USER":t=c(n.fetchOptions),k[t]=!1,u(n.fetchOptions,n.user,t),A.emitChange();break;case"RECEIVE_USER_FAILED":t=c(n.fetchOptions),k[t]=!1,A.emitChange()}}),(0,w.default)(A),t.default=A,e.exports=t.default},"./client/lib/viewers/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/debug/browser.js"),o=s(r),i=n("./client/dispatcher/index.js"),a=s(i),l=n("./client/lib/wp/browser.js"),u=s(l),d=(0,o.default)("calypso:viewers:actions"),c={fetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=100;d("Fetch site viewers",e),a.default.handleViewAction({type:"FETCHING_VIEWERS",siteId:e}),u.default.undocumented().site(e).getViewers({page:t,number:n},function(n,s){a.default.handleServerAction({type:"RECEIVE_VIEWERS",action:"RECEIVE_VIEWERS",siteId:e,page:t,data:s,error:n})})},remove:function(e,t){a.default.handleViewAction({type:"REMOVE_VIEWER",siteId:e,viewer:t}),u.default.undocumented().site(e).removeViewer(t.ID,function(n,s){n?a.default.handleServerAction({type:"RECEIVE_REMOVE_VIEWER_ERROR",siteId:e,viewer:t,error:n}):a.default.handleServerAction({type:"RECEIVE_REMOVE_VIEWER_SUCCESS",siteId:e,viewer:t,data:s})})}};t.default=c,e.exports=t.default},"./client/lib/viewers/store.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){g[e]||(g[e]={}),g[e][t]||(g[e][t]={}),g[e][t]=(0,u.assign)({},g[e][t],n),_("Updating viewer:",g[e][t])}function o(e,t,n,s){v[e]=!1,b[e]=s,E[e]=n,1===n&&(g[e]={},y[e]=0),t.forEach(function(t){y[e]++,r(e,t.ID,t)})}function i(e){b[e]++,y[e]++,E[e]++}function a(e){b[e]--,y[e]--,E[e]--}function l(e,t){g[e]&&g[e][t]&&(delete g[e][t],a(e))}Object.defineProperty(t,"__esModule",{value:!0});var u=n("./node_modules/lodash/lodash.js"),d=n("./node_modules/debug/browser.js"),c=s(d),f=n("./client/dispatcher/index.js"),p=s(f),h=n("./client/lib/mixins/emitter/index.js"),m=s(h),_=(0,c.default)("calypso:viewers:store"),v={},g={},b={},y={},E={},j={},x={getPaginationData:function(e){return{totalViewers:b[e]||0,fetchingViewers:v[e],currentViewersPage:E[e],numViewersFetched:y[e]}},getViewers:function(e){return!!g[e]&&(0,u.values)(g[e])},isRemoving:function(e){return j[e]},emitChange:function(){this.emit("change")}};x.dispatchToken=p.default.register(function(e){var t=e.action;switch(_("register event Type",t.type,e),t.type){case"FETCHING_VIEWERS":v[t.siteId]=!0,x.emitChange();break;case"RECEIVE_VIEWERS":v[t.siteId]=!1,t.error||o(t.siteId,t.data.viewers,t.page,t.data.found),x.emitChange();break;case"REMOVE_VIEWER":j[t.siteId]=!0,l(t.siteId,t.viewer.ID),x.emitChange();break;case"RECEIVE_REMOVE_VIEWER_SUCCESS":j[t.siteId]=!1,x.emitChange();break;case"RECEIVE_REMOVE_VIEWER_ERROR":j[t.siteId]=!1,r(t.siteId,t.viewer.ID,t.viewer),i(t.siteId),x.emitChange()}}),(0,m.default)(x),t.default=x,e.exports=t.default},"./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentNavigationTab=void 0;var r=n("./node_modules/react/react.js"),o=s(r),i=n("./node_modules/classnames/index.js"),a=s(i),l=t.CommentNavigationTab=function(e){var t=e.children,n=e.className,s=e.onClick;return o.default.createElement("div",{className:(0,a.default)("comment-navigation__tab",n),onClick:s},t)};t.default=l},"./client/my-sites/invites/utils.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/react.js"),o=s(r),i=n("./node_modules/lodash/lodash.js"),a=n("./node_modules/i18n-calypso/index.js"),l=s(a);t.default={acceptedNotice:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=o.default.createElement("a",{href:(0,i.get)(e,"site.URL"),className:"invite-accept__notice-site-link"},(0,i.get)(e,"site.title"));switch((0,i.get)(e,"role")){case"follower":return[l.default.translate("You are now following {{site/}}",{components:{site:n}}),{button:l.default.translate("Visit Site"),href:(0,i.get)(e,"site.URL"),displayOnNextPage:t}];case"viewer":return[l.default.translate("You are now a viewer of: {{site/}}",{components:{site:n}}),{button:l.default.translate("Visit Site"),href:(0,i.get)(e,"site.URL"),displayOnNextPage:t}];case"administrator":return[o.default.createElement("div",null,o.default.createElement("h3",{className:"invite-message__title"},l.default.translate("You're now an Administrator of: {{site/}}",{components:{site:n}})),o.default.createElement("p",{className:"invite-message__intro"},l.default.translate("This is your site dashboard where you will be able to manage all aspects of %(site)s",{args:{site:(0,i.get)(e,"site.title")}}))),{displayOnNextPage:t}];case"editor":return[o.default.createElement("div",null,o.default.createElement("h3",{className:"invite-message__title"},l.default.translate("You're now an Editor of: {{site/}}",{components:{site:n}})),o.default.createElement("p",{className:"invite-message__intro"},l.default.translate("This is your site dashboard where you can publish and manage your own posts and the posts of others, as well as upload media."))),{displayOnNextPage:t}];case"author":return[o.default.createElement("div",null,o.default.createElement("h3",{className:"invite-message__title"},l.default.translate("You're now an Author of: {{site/}}",{components:{site:n}})),o.default.createElement("p",{className:"invite-message__intro"},l.default.translate("This is your site dashboard where you can publish and edit your own posts as well as upload media."))),{displayOnNextPage:t}];case"contributor":return[o.default.createElement("div",null,o.default.createElement("h3",{className:"invite-message__title"},l.default.translate("You're now a Contributor of: {{site/}}",{components:{site:n}})),o.default.createElement("p",{className:"invite-message__intro"},l.default.translate("This is your site dashboard where you can write and manage your own posts."))),{displayOnNextPage:t}];case"subscriber":return[l.default.translate("You're now a Subscriber of: {{site/}}",{components:{site:n}}),{displayOnNextPage:t}];default:return[l.default.translate("You're now a new member of: {{site/}}",{components:{site:n}}),{displayOnNextPage:t}]}},getRedirectAfterAccept:function(e){var t="/",n="/posts/"+e.site.ID;if((0,i.get)(e,"site.is_vip"))switch(e.role){case"viewer":case"follower":return(0,i.get)(e,"site.URL")||t;default:return(0,i.get)(e,"site.admin_url")||n}switch(e.role){case"viewer":case"follower":return t;default:return n}}},e.exports=t.default},"./client/my-sites/no-results/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/react/react.js"),m=s(h),_=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("div",{className:"no-results"},this.props.image?m.default.createElement("img",{className:"no-results__img",src:this.props.image}):null,m.default.createElement("span",null,this.props.text))}}]),t}(m.default.Component);_.defaultProps={text:"No results",image:!1},t.default=_,e.exports=t.default},"./client/my-sites/people/controller.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e){var t=(0,P.getCurrentLayoutFocus)(e.store.getState());e.store.dispatch((0,T.setNextLayoutFocus)(t))}c.default.redirect("/people/team")}function o(e,t){t.store.dispatch((0,w.setDocumentHeadTitle)(m.default.translate("People",{textOnly:!0}))),(0,R.renderWithReduxStore)(u.default.createElement(v.default,{peopleLog:S.default,filter:e,search:t.query.s}),document.getElementById("primary"),t.store),E.default.pageView.record("people/"+e+"/:site","People > "+(0,
x.default)(e))}function i(e){var t=e.store.getState(),n=(0,O.getSelectedSite)(t);e.store.dispatch((0,w.setDocumentHeadTitle)(m.default.translate("Invite People",{textOnly:!0}))),(0,R.renderWithReduxStore)(u.default.createElement(k.default,{site:n}),document.getElementById("primary"),e.store)}function a(e){e.store.dispatch((0,w.setDocumentHeadTitle)(m.default.translate("View Team Member",{textOnly:!0}))),(0,R.renderWithReduxStore)(u.default.createElement(b.default,{userLogin:e.params.user_login,prevPath:e.prevPath}),document.getElementById("primary"),e.store)}Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/react/react.js"),u=s(l),d=n("./node_modules/page/index.js"),c=s(d),f=n("./client/lib/route/index.js"),p=s(f),h=n("./node_modules/i18n-calypso/index.js"),m=s(h),_=n("./client/my-sites/people/main.jsx"),v=s(_),g=n("./client/my-sites/people/edit-team-member-form/index.jsx"),b=s(g),y=n("./client/lib/analytics/index.js"),E=s(y),j=n("./node_modules/to-title-case/index.js"),x=s(j),I=n("./client/lib/people/log-store.js"),S=s(I),w=n("./client/state/document-head/actions.js"),C=n("./client/my-sites/people/invite-people/index.jsx"),k=s(C),R=n("./client/lib/react-helpers/index.js"),P=n("./client/state/ui/layout-focus/selectors.js"),T=n("./client/state/ui/layout-focus/actions.js"),O=n("./client/state/ui/selectors.js");t.default={redirectToTeam:r,enforceSiteEnding:function(e,t){var n=p.default.getSiteFragment(e.path);n||r(e),t()},people:function(e,t){o(e,t)},invitePeople:function(e){i(e)},person:function(e){a(e)}},e.exports=t.default},"./client/my-sites/people/delete-user/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/prop-types/index.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./client/components/card/index.jsx"),b=s(g),y=n("./client/components/card/compact.jsx"),E=s(y),j=n("./node_modules/gridicons/build/index.js"),x=s(j),I=n("./client/components/forms/form-section-heading/index.jsx"),S=s(I),w=n("./client/components/forms/form-fieldset/index.jsx"),C=s(w),k=n("./client/components/forms/form-label/index.jsx"),R=s(k),P=n("./client/components/forms/form-radio/index.jsx"),T=s(P),O=n("./client/components/forms/form-button/index.jsx"),M=s(O),D=n("./client/components/forms/form-buttons-bar/index.jsx"),A=s(D),N=n("./client/blocks/author-selector/index.jsx"),L=s(N),U=n("./client/lib/users/actions.js"),V=s(U),F=n("./client/lib/accept/index.js"),z=s(F),H=n("./client/lib/analytics/index.js"),q=s(H),W=n("./client/components/gravatar/index.jsx"),B=s(W),K=n("./node_modules/i18n-calypso/index.js"),J=function(e){function t(){var e,n,s,r;(0,a.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),s.state={showDialog:!1,radioOption:!1,reassignUser:!1},s.getRemoveText=function(){var e=s.props.translate;return s.props.user&&s.props.user.name?e("Remove %(username)s",{args:{username:s.props.user.name}}):e("Remove User")},s.getDeleteText=function(){var e=s.props.translate;return s.props.user&&s.props.user.name?e("Delete %(username)s",{args:{username:s.props.user.name}}):e("Delete User")},s.handleRadioChange=function(e){var t=e.currentTarget.name,n=e.currentTarget.value,r={};r[t]=n,s.setState(r),q.default.ga.recordEvent("People","Selected Delete User Assignment","Assign",n)},s.setReassignLabel=function(e){s.reassignLabel=e},s.onSelectAuthor=function(e){s.setState({reassignUser:e})},s.removeUser=function(){var e=s.props.translate;(0,z.default)(v.default.createElement("div",null,v.default.createElement("p",null,s.props.user&&s.props.user.name?e("If you remove %(username)s, that user will no longer be able to access this site, but any content that was created by %(username)s will remain on the site.",{args:{username:s.props.user.name}}):e("If you remove this user, he or she will no longer be able to access this site, but any content that was created by this user will remain on the site.")),v.default.createElement("p",null,e("Would you still like to remove this user?"))),function(e){e?(q.default.ga.recordEvent("People","Clicked Confirm Remove User on Edit User Network Site"),V.default.deleteUser(s.props.siteId,s.props.user.ID)):q.default.ga.recordEvent("People","Clicked Cancel Remove User on Edit User Network Site")},e("Remove")),q.default.ga.recordEvent("People","Clicked Remove User on Edit User Network Site")},s.deleteUser=function(e){if(e.preventDefault(),s.props.user.ID){var t=void 0;s.state.reassignUser&&"reassign"===s.state.radioOption&&(t=s.state.reassignUser.ID),V.default.deleteUser(s.props.siteId,s.props.user.ID,t),q.default.ga.recordEvent("People","Clicked Remove User on Edit User Single Site")}},s.getAuthorSelectPlaceholder=function(){var e=s.props.translate;return v.default.createElement("span",{className:"delete-user__select-placeholder"},e("select a user"))},s.getTranslatedAssignLabel=function(){var e=s.props.translate;return e("Attribute all content to {{AuthorSelector/}}",{components:{AuthorSelector:v.default.createElement(L.default,{allowSingleUser:!0,siteId:s.props.siteId,onSelect:s.onSelectAuthor,exclude:[s.props.user.ID],ignoreContext:s.reassignLabel},s.state.reassignUser?v.default.createElement("span",null,v.default.createElement(B.default,{size:26,user:s.state.reassignUser}),v.default.createElement("span",{className:"delete-user__reassign-user-name"},s.state.reassignUser.name)):s.getAuthorSelectPlaceholder())}})},s.isDeleteButtonDisabled=function(){return"reassign"===s.state.radioOption?!1===s.state.reassignUser||s.state.reassignUser.ID===s.props.user.ID:!1===s.state.radioOption},s.renderSingleSite=function(){var e=s.props.translate;return v.default.createElement(b.default,{className:"delete-user__single-site"},v.default.createElement("form",{onSubmit:s.deleteUser},v.default.createElement(S.default,null,s.getDeleteText()),v.default.createElement("p",{className:"delete-user__explanation"},s.props.user.name?e("You have the option of reassigning all content created by %(username)s, or deleting the content entirely.",{args:{username:s.props.user.name}}):e("You have the option of reassigning all content created by this user, or deleting the content entirely.")),v.default.createElement(C.default,null,v.default.createElement(R.default,{ref:s.setReassignLabel},v.default.createElement(T.default,{name:"radioOption",onChange:s.handleRadioChange,value:"reassign",checked:"reassign"===s.state.radioOption}),v.default.createElement("span",null,s.getTranslatedAssignLabel())),v.default.createElement(R.default,null,v.default.createElement(T.default,{name:"radioOption",onChange:s.handleRadioChange,value:"delete",checked:"delete"===s.state.radioOption}),v.default.createElement("span",null,s.props.user.name?e("Delete all content created by %(username)s",{args:{username:s.props.user.name?s.props.user.name:""}}):e("Delete all content created by this user")))),v.default.createElement(A.default,null,v.default.createElement(M.default,{disabled:s.isDeleteButtonDisabled()},e("Delete user",{context:"Button label"})))))},s.renderMultisite=function(){return v.default.createElement(E.default,{className:"delete-user__multisite"},v.default.createElement("a",{className:"delete-user__remove-user",onClick:s.removeUser},v.default.createElement(x.default,{icon:"trash"}),s.getRemoveText()))},r=n,(0,c.default)(s,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return this.props.isJetpack||this.props.user.ID!==this.props.currentUser.ID?this.props.isJetpack&&this.props.user.linked_user_ID===this.props.currentUser.ID?null:this.props.isMultisite?this.renderMultisite():this.renderSingleSite():null}}]),t}(v.default.PureComponent);J.displayName="DeleteUser",J.propTypes={isMultisite:m.default.bool,isJetpack:m.default.bool,siteId:m.default.number,user:m.default.object,currentUser:m.default.object},t.default=(0,K.localize)(J),e.exports=t.default},"./client/my-sites/people/edit-team-member-form/edit-user-form.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/defineProperty.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/assign.js"),a=s(i),l=n("./node_modules/babel-runtime/core-js/json/stringify.js"),u=s(l),d=n("./node_modules/babel-runtime/core-js/object/keys.js"),c=s(d),f=n("./node_modules/react/react.js"),p=s(f),h=n("./node_modules/create-react-class/index.js"),m=s(h),_=n("./node_modules/i18n-calypso/index.js"),v=n("./node_modules/react-pure-render/mixin.js"),g=s(v),b=n("./node_modules/debug/browser.js"),y=s(b),E=n("./node_modules/lodash/lodash.js"),j=n("./client/components/forms/form-label/index.jsx"),x=s(j),I=n("./client/components/forms/form-fieldset/index.jsx"),S=s(I),w=n("./client/components/forms/form-text-input/index.jsx"),C=s(w),k=n("./client/components/forms/form-button/index.jsx"),R=s(k),P=n("./client/components/forms/form-buttons-bar/index.jsx"),T=s(P),O=n("./client/lib/analytics/index.js"),M=s(O),D=n("./client/lib/users/actions.js"),A=s(D),N=n("./client/lib/user/index.js"),L=s(N),U=n("./client/my-sites/people/role-select/index.jsx"),V=s(U),F=(0,y.default)("calypso:my-sites:people:edit-team-member-form"),z=(0,L.default)(),H=(0,m.default)({displayName:"EditUserForm",mixins:[g.default],getInitialState:function(){return this.getStateObject(this.props)},componentWillReceiveProps:function(e){this.replaceState(this.getStateObject(e))},getRole:function(e){return e&&e[0]?e[0]:null},getStateObject:function(e){e="undefined"!=typeof e?e:this.props;var t=this.getRole(e.roles);return(0,E.assign)((0,E.omit)(e,"site"),{roles:t})},getChangedSettings:function(){var e=this,t=this.getStateObject(this.props.user),n=(0,E.filter)(this.getAllowedSettingsToChange(),function(n){return"undefined"!=typeof t[n]&&"undefined"!=typeof e.state[n]&&t[n]!==e.state[n]});return(0,E.pick)(this.state,n)},getAllowedSettingsToChange:function(){var e=z.get(),t=[];return this.state.ID?(this.props.isJetpack?(this.state.linked_user_ID&&this.state.linked_user_ID===e.ID||t.push("roles"),t.push("first_name"),t.push("last_name"),t.push("name")):this.state.ID!==e.ID&&t.push("roles"),t):t},hasUnsavedSettings:function(){return(0,c.default)(this.getChangedSettings()).length},updateUser:function(e){e.preventDefault();var t=this.getChangedSettings();F("Changed settings: "+(0,u.default)(t)),this.props.markSaved(),A.default.updateUser(this.props.siteId,this.state.ID,t.roles?(0,a.default)(t,{roles:[t.roles]}):t),M.default.ga.recordEvent("People","Clicked Save Changes Button on User Edit")},recordFieldFocus:function(e){M.default.ga.recordEvent("People","Focused on field on User Edit","Field",e)},handleChange:function(e){this.setState((0,o.default)({},e.target.name,e.target.value))},renderField:function(e){var t=null;switch(e){case"roles":t=p.default.createElement(V.default,{id:"roles",name:"roles",key:"roles",siteId:this.props.siteId,value:this.state.roles,onChange:this.handleChange,onFocus:this.recordFieldFocus("roles")});break;case"first_name":t=p.default.createElement(S.default,{key:"first_name"},p.default.createElement(x.default,{htmlFor:"first_name"},this.props.translate("First Name",{context:"Text that is displayed in a label of a form."})),p.default.createElement(C.default,{id:"first_name",name:"first_name",defaultValue:this.state.first_name,onChange:this.handleChange,onFocus:this.recordFieldFocus("first_name")}));break;case"last_name":t=p.default.createElement(S.default,{key:"last_name"},p.default.createElement(x.default,{htmlFor:"last_name"},this.props.translate("Last Name",{context:"Text that is displayed in a label of a form."})),p.default.createElement(C.default,{id:"last_name",name:"last_name",defaultValue:this.state.last_name,onChange:this.handleChange,onFocus:this.recordFieldFocus("last_name")}));break;case"name":t=p.default.createElement(S.default,{key:"name"},p.default.createElement(x.default,{htmlFor:"name"},this.props.translate("Public Display Name",{context:"Text that is displayed in a label of a form."})),p.default.createElement(C.default,{id:"name",name:"name",defaultValue:this.state.name,onChange:this.handleChange,onFocus:this.recordFieldFocus("name")}))}return t},render:function(){var e=this,t=void 0;return this.state.ID?(t=this.getAllowedSettingsToChange(),t.length?(t=t.map(function(t){return e.renderField(t)}),p.default.createElement("form",{className:"edit-team-member-form__form",disabled:this.props.disabled,onSubmit:this.updateUser,onChange:this.props.markChanged},t,p.default.createElement(T.default,null,p.default.createElement(R.default,{disabled:!this.hasUnsavedSettings()},this.props.translate("Save changes",{context:"Button label that prompts user to save form"}))))):null):null}});t.default=(0,_.localize)(H),e.exports=t.default},"./client/my-sites/people/edit-team-member-form/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EditTeamMemberForm=void 0;var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/lodash/lodash.js"),b=n("./node_modules/page/index.js"),y=s(b),E=n("./node_modules/react-redux/es/index.js"),j=n("./client/components/main/index.jsx"),x=s(j),I=n("./client/components/header-cake/index.jsx"),S=s(I),w=n("./client/components/card/index.jsx"),C=s(w),k=n("./client/my-sites/people/people-profile/index.jsx"),R=s(k),P=n("./client/lib/users/store.js"),T=s(P),O=n("./client/lib/users/actions.js"),M=s(O),D=n("./client/lib/user/index.js"),A=s(D),N=n("./client/lib/protect-form/index.jsx"),L=n("./client/my-sites/people/delete-user/index.jsx"),U=s(L),V=n("./client/my-sites/people/people-notices/index.jsx"),F=s(V),z=n("./client/lib/people/log-store.js"),H=s(z),q=n("./client/lib/analytics/index.js"),W=s(q),B=n("./client/state/ui/selectors.js"),K=n("./client/lib/analytics/page-view-tracker/index.jsx"),J=s(K),G=n("./client/state/sites/selectors.js"),Y=n("./client/my-sites/people/edit-team-member-form/edit-user-form.jsx"),Q=s(Y),$=(0,A.default)(),Z=t.EditTeamMemberForm=function(e){function t(e){(0,u.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return X.call(n),n.state={user:T.default.getUserByLogin(e.siteId,e.userLogin),removingUser:!1},n}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){T.default.on("change",this.refreshUser),H.default.on("change",this.checkRemoveUser),H.default.on("change",this.redirectIfError),this.requestUser()}},{key:"componentWillUnmount",value:function(){T.default.removeListener("change",this.refreshUser),H.default.removeListener("change",this.checkRemoveUser),H.default.removeListener("change",this.redirectIfError)}},{key:"componentDidUpdate",value:function(e){e.siteId===this.props.siteId&&e.userLogin===this.props.userLogin||this.requestUser()}},{key:"componentWillReceiveProps",value:function(e){e.siteId===this.props.siteId&&e.userLogin===this.props.userLogin||this.refreshUser(e)}},{key:"renderNotices",value:function(){if(this.state.user)return v.default.createElement(F.default,{user:this.state.user})}},{key:"render",value:function(){return v.default.createElement(x.default,{className:"edit-team-member-form"},v.default.createElement(J.default,{path:"people/edit/:user_login/:site",title:"View Team Member"}),v.default.createElement(S.default,{onClick:this.goBack,isCompact:!0}),this.renderNotices(),v.default.createElement(C.default,{className:"edit-team-member-form__user-profile"},v.default.createElement(R.default,{user:this.state.user}),v.default.createElement(Q.default,(0,o.default)({},this.state.user,{disabled:this.state.removingUser,siteId:this.props.siteId,isJetpack:this.props.isJetpack,markChanged:this.props.markChanged,markSaved:this.props.markSaved}))),this.state.user&&v.default.createElement(U.default,(0,o.default)({},(0,g.pick)(this.props,["siteId","isJetpack","isMultisite"]),{currentUser:$.get(),user:this.state.user})))}}]),t}(_.Component),X=function(){var e=this;this.requestUser=function(){e.props.siteId&&M.default.fetchUser({siteId:e.props.siteId},e.props.userLogin)},this.refreshUser=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,n=T.default.getUserByLogin(t.siteId,t.userLogin);e.setState({user:n})},this.redirectIfError=function(){if(e.props.siteId){var t=H.default.getErrors(function(t){return e.props.siteId===t.siteId&&"RECEIVE_USER_FAILED"===t.action&&e.props.userLogin===t.user});t.length&&y.default.redirect("/people/team/"+e.props.siteSlug)}},this.checkRemoveUser=function(){if(e.props.siteId){var t=H.default.getCompleted(function(t){return"RECEIVE_DELETE_SITE_USER_SUCCESS"===t.action&&e.props.siteId===t.siteId&&e.props.userLogin===t.user.login});if(t.length){e.props.markSaved();var n=e.props.siteSlug?"/people/team/"+e.props.siteSlug:"/people/team";y.default.redirect(n)}var s=H.default.getInProgress(function(e){return"DELETE_SITE_USER"===e.action&&this.props.siteId===e.siteId&&this.props.userLogin===e.user.login}.bind(e));!!s.length!==e.state.removingUser&&e.setState({removingUser:!e.state.removingUser})}},this.goBack=function(){if(W.default.ga.recordEvent("People","Clicked Back Button on User Edit"),e.props.siteSlug){var t="/people/team/"+e.props.siteSlug,n="/people/readers/"+e.props.siteSlug;return void(e.props.prevPath===t?y.default.back(t):e.props.prevPath===n?y.default.back(n):(0,y.default)(t))}(0,y.default)("/people/team")}};t.default=(0,E.connect)(function(e){var t=(0,B.getSelectedSiteId)(e);return{siteId:t,siteSlug:(0,B.getSelectedSiteSlug)(e),isJetpack:(0,G.isJetpackSite)(e,t),isMultisite:(0,G.isJetpackSiteMultiSite)(e,t)}})((0,N.protectForm)(Z))},"./client/my-sites/people/followers-list/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/assign.js"),a=s(i),l=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/createClass.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=s(h),_=n("./node_modules/babel-runtime/helpers/inherits.js"),v=s(_),g=n("./node_modules/react/react.js"),b=s(g),y=n("./node_modules/json-stable-stringify/index.js"),E=s(y),j=n("./node_modules/lodash/lodash.js"),x=n("./node_modules/i18n-calypso/index.js"),I=n("./client/my-sites/people/people-list-item/index.jsx"),S=s(I),w=n("./client/components/card/index.jsx"),C=s(w),k=n("./client/my-sites/people/people-list-section-header/index.jsx"),R=s(k),P=n("./client/lib/followers/actions.js"),T=s(P),O=n("./client/lib/email-followers/actions.js"),M=s(O),D=n("./client/components/infinite-list/index.jsx"),A=s(D),N=n("./client/components/data/followers-data/index.jsx"),L=s(N),U=n("./client/components/data/email-followers-data/index.jsx"),V=s(U),F=n("./client/my-sites/no-results/index.jsx"),z=s(F),H=n("./client/components/empty-content/index.jsx"),q=s(H),W=n("./client/lib/followers/store.js"),B=s(W),K=n("./client/lib/email-followers/store.js"),J=s(K),G=n("./client/lib/accept/index.js"),Y=s(G),Q=n("./client/lib/analytics/index.js"),$=s(Q),Z=n("./client/components/button/index.jsx"),X=s(Z),ee=n("./client/components/list-end/index.js"),te=s(ee),ne=1e3,se=(0,x.localize)(function(e){function t(){var e,n,s,r;(0,c.default)(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=s=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),s.state={bulkEditing:!1},s.fetchNextPage=function(){var e="email"===s.props.type?M.default:T.default,t="email"===s.props.type?J.default:B.default,n=t.getPaginationData(s.props.fetchOptions),r="email"===s.props.type?"Fetched more email followers with infinite list":"Fetched more followers with infinite list",o=s.props.currentPage+1;n&&n.followersCurrentPage&&(o=n.followersCurrentPage+1),e.fetchFollowers((0,a.default)(s.props.fetchOptions,{page:o})),$.default.ga.recordEvent("People",r,"page",o)},s.renderFollower=function(e){var t=function(){s.removeFollower(e)};return b.default.createElement(S.default,{key:e.ID,user:e,type:"follower",site:s.props.site,isSelectable:s.state.bulkEditing,onRemove:t})},s.getFollowerRef=function(e){return"follower-"+e.ID},r=n,(0,m.default)(s,r)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"renderPlaceholders",value:function(){return b.default.createElement(S.default,{key:"people-list-item-placeholder"})}},{key:"removeFollower",value:function(e){var t=this,n="email"===this.props.type?"Email Follower":"Follower";$.default.ga.recordEvent("People","Clicked Remove Follower Button On"+n+" list"),(0,Y.default)(b.default.createElement("div",null,b.default.createElement("p",null,this.props.translate("If removed, this follower will stop receiving notifications about this site, unless they re-follow.")),b.default.createElement("p",null,this.props.translate("Would you still like to remove this follower?"))),function(s){s?($.default.ga.recordEvent("People","Clicked Remove Button In Remove "+n+" Confirmation"),("email"===t.props.type?M.default:T.default).removeFollower(t.props.site.ID,e)):$.default.ga.recordEvent("People","Clicked Cancel Button In Remove "+n+" Confirmation")},this.props.translate("Remove",{context:"Confirm Remove follower button text."}))}},{key:"noFollowerSearchResults",value:function(){return this.props.fetchInitialized&&this.props.fetchOptions.search&&!this.props.followers.length&&!this.props.fetching}},{key:"siteHasNoFollowers",value:function(){return!this.props.followers.length&&!this.props.fetching}},{key:"isLastPage",value:function(){return this.props.totalFollowers<=this.props.followers.length||ne<=this.props.followers.length}},{key:"render",value:function(){var e=(0,E.default)((0,j.omit)(this.props.fetchOptions,["max","page"])),t=this.state.bulkEditing?"bulk-editing":null;if(this.noFollowerSearchResults())return b.default.createElement(z.default,{image:"/calypso/images/people/mystery-person.svg",text:this.props.translate("No results found for {{em}}%(searchTerm)s{{/em}}",{args:{searchTerm:this.props.fetchOptions.search},components:{em:b.default.createElement("em",null)}})});var n=void 0;if(this.siteHasNoFollowers())return n=this.props.fetchOptions&&"email"===this.props.fetchOptions.type?this.props.translate("You don't have any email followers yet."):this.props.translate("You don't have any followers yet."),b.default.createElement(q.default,{title:n});var s=this.props.label,r=void 0;if(this.props.followers.length){this.props.fetchOptions.search&&this.props.totalFollowers&&(s=this.props.translate('%(numberPeople)d Follower Matching {{em}}"%(searchTerm)s"{{/em}}','%(numberPeople)d Followers Matching {{em}}"%(searchTerm)s"{{/em}}',{count:this.props.followers.length,args:{numberPeople:this.props.totalFollowers,searchTerm:this.props.fetchOptions.search},components:{em:b.default.createElement("em",null)}}));var i={fetchingNextPage:this.props.fetching,lastPage:this.isLastPage()};r=b.default.createElement(A.default,(0,o.default)({},i,{key:e,items:this.props.followers,className:"people-selector__infinite-list",ref:"infiniteList",fetchNextPage:this.fetchNextPage,getItemRef:this.getFollowerRef,renderLoadingPlaceholders:this.renderPlaceholders,renderItem:this.renderFollower,guessedItemHeight:126}))}else r=this.renderPlaceholders();var a="email"===this.props.fetchOptions.type&&this.props.site?"https://dashboard.wordpress.com/wp-admin/index.php?page=stats&blog="+this.props.site.ID+"&blog_subscribers=csv&type=email":null;return b.default.createElement("div",null,b.default.createElement(R.default,{isFollower:!0,label:s,site:this.props.site,count:this.props.fetching||this.props.fetchOptions.search?null:this.props.totalFollowers},a&&b.default.createElement(X.default,{href:a,compact:!0},this.props.translate("Download Data as CSV"))),b.default.createElement(C.default,{className:t},r),this.isLastPage()&&b.default.createElement(te.default,null))}}]),t}(g.Component)),re=function(e){var t=void 0,n={max:100,page:1,search:e.search&&e.search,siteId:e.site.ID};return"email"===e.type?(t=V.default,n.type="email"):t=L.default,b.default.createElement(t,{fetchOptions:n,site:e.site,label:e.label,type:e.type},b.default.createElement(se,null))};t.default=re,e.exports=t.default},"./client/my-sites/people/index.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){l.default.isEnabled("manage/people")&&(["team","followers","email-followers","viewers"].forEach(function(e){(0,o.default)("/people/"+e,i.siteSelection,i.sites),(0,o.default)("/people/"+e+"/:site_id",d.default.enforceSiteEnding,i.siteSelection,i.navigation,d.default.people.bind(null,e))}),(0,o.default)("/people/new/:site_id",d.default.enforceSiteEnding,i.siteSelection,i.navigation,d.default.invitePeople),(0,o.default)("/people/edit/:site_id/:user_login",d.default.enforceSiteEnding,i.siteSelection,i.navigation,d.default.person),(0,o.default)("/people/(.*)?",i.siteSelection,d.default.redirectToTeam))};var r=n("./node_modules/page/index.js"),o=s(r),i=n("./client/my-sites/controller.js"),a=n("./client/config/index.js"),l=s(a),u=n("./client/my-sites/people/controller.js"),d=s(u);e.exports=t.default},"./client/my-sites/people/invite-people/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/json/stringify.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/assign.js"),a=s(i),l=n("./node_modules/babel-runtime/core-js/object/keys.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/typeof.js"),c=s(d),f=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),m=s(h),_=n("./node_modules/babel-runtime/helpers/createClass.js"),v=s(_),g=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),b=s(g),y=n("./node_modules/babel-runtime/helpers/inherits.js"),E=s(y),j=n("./node_modules/react/react.js"),x=s(j),I=n("./node_modules/page/index.js"),S=s(I),w=n("./node_modules/lodash/lodash.js"),C=n("./node_modules/debug/browser.js"),k=s(C),R=n("./node_modules/react-redux/es/index.js"),P=n("./node_modules/redux/lib/index.js"),T=n("./node_modules/i18n-calypso/index.js"),O=n("./client/my-sites/people/role-select/index.jsx"),M=s(O),D=n("./client/components/token-field/index.jsx"),A=s(D),N=n("./client/components/forms/form-button/index.jsx"),L=s(N),U=n("./client/components/forms/form-fieldset/index.jsx"),V=s(U),F=n("./client/components/forms/form-label/index.jsx"),z=s(F),H=n("./client/components/forms/form-setting-explanation/index.jsx"),q=s(H),W=n("./client/lib/invites/actions.js"),B=n("./client/components/card/index.jsx"),K=s(B),J=n("./client/components/main/index.jsx"),G=s(J),Y=n("./client/components/header-cake/index.jsx"),Q=s(Y),$=n("./client/components/forms/counted-textarea/index.jsx"),Z=s($),X=n("./client/lib/invites/stores/invites-create-validation.js"),ee=s(X),te=n("./client/lib/invites/stores/invites-sent.js"),ne=s(te),se=n("./client/lib/analytics/index.js"),re=s(se),oe=n("./client/my-sites/sidebar-navigation/sidebar-navigation.jsx"),ie=s(oe),ae=n("./client/components/empty-content/index.jsx"),le=s(ae),ue=n("./client/lib/site/utils.js"),de=n("./client/components/email-verification/email-verification-gate.jsx"),ce=s(de),fe=n("./client/state/ui/selectors.js"),pe=n("./client/components/feature-example/index.jsx"),he=s(pe),me=n("./client/lib/version-compare/index.js"),_e=s(me),ve=n("./client/state/current-user/selectors.js"),ge=n("./client/components/notice/index.jsx"),be=s(ge),ye=n("./client/components/notice/notice-action.jsx"),Ee=s(ye),je=n("./client/state/sites/selectors.js"),xe=n("./client/state/jetpack/modules/actions.js"),Ie=n("./client/state/selectors/is-activating-jetpack-module.js"),Se=s(Ie),we=n("./client/state/selectors/is-jetpack-module-active.js"),Ce=s(we),ke=n("./client/state/selectors/is-site-automated-transfer.js"),Re=s(ke),Pe=(0,k.default)("calypso:my-sites:people:invite"),Te=function(e){function t(){var e,n,s,r;(0,m.default)(this,t);for(var i=arguments.length,l=Array(i),d=0;d<i;d++)l[d]=arguments[d];return n=s=(0,b.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(l))),s.resetState=function(){return{usernamesOrEmails:[],role:"follower",message:"",sendingInvites:!1,getTokenStatus:function(){},errorToDisplay:!1,errors:{},success:[]}},s.refreshFormState=function(){var e=ne.default.getSuccess(s.state.formId);if(e)s.setState(s.resetState()),re.default.tracks.recordEvent("calypso_invite_people_form_refresh_initial"),Pe("Submit successful. Resetting form.");else{var t=ne.default.getErrors(s.state.formId),n=(0,w.get)(t,"errors",{}),r={sendingInvites:!1};if(!(0,w.isEmpty)(n)&&"object"===("undefined"==typeof n?"undefined":(0,c.default)(n))){var i=(0,u.default)(n);(0,a.default)(r,{usernamesOrEmails:i,errorToDisplay:i[0],errors:n})}Pe("Submit errored. Updating state to:  "+(0,o.default)(r)),s.setState(r),re.default.tracks.recordEvent("calypso_invite_people_form_refresh_retry")}},s.onTokensChange=function(e){var t=s.state,n=t.role,r=t.errorToDisplay,o=t.usernamesOrEmails,i=t.errors,a=t.success,l=e.map(function(e){return"object"===("undefined"==typeof e?"undefined":(0,c.default)(e))?e.value:e}),u=(0,w.pickBy)(i,function(e,t){return(0,w.includes)(l,t)}),d=(0,w.filter)(a,function(e){return(0,w.includes)(l,e)});s.setState({usernamesOrEmails:l,errors:u,success:d,errorToDisplay:(0,w.includes)(l,r)&&r}),(0,W.createInviteValidation)(s.props.siteId,l,n),l.length>o.length?re.default.tracks.recordEvent("calypso_invite_people_token_added"):re.default.tracks.recordEvent("calypso_invite_people_token_removed")},s.onMessageChange=function(e){s.setState({message:e.target.value})},s.onRoleChange=function(e){var t=e.target.value;s.setState({role:t}),(0,W.createInviteValidation)(s.props.siteId,s.state.usernamesOrEmails,t)},s.onFocusTokenField=function(){re.default.tracks.recordEvent("calypso_invite_people_token_field_focus")},s.onFocusRoleSelect=function(){re.default.tracks.recordEvent("calypso_invite_people_role_select_focus")},s.onFocusCustomMessage=function(){re.default.tracks.recordEvent("calypso_invite_people_custom_message_focus")},s.onClickSendInvites=function(){re.default.tracks.recordEvent("calypso_invite_people_send_invite_button_click")},s.onClickRoleExplanation=function(){re.default.tracks.recordEvent("calypso_invite_people_role_explanation_link_click")},s.refreshValidation=function(){var e=ee.default.getErrors(s.props.siteId,s.state.role)||{},t=ee.default.getSuccess(s.props.siteId,s.state.role)||[],n=(0,u.default)(e),r=s.state.errorToDisplay||n.length>0&&n[0];s.setState({errorToDisplay:r,errors:e,success:t}),n.length&&re.default.tracks.recordEvent("calypso_invite_people_validation_refreshed_with_error")},s.getTooltip=function(e){
var t=s.state,n=t.errors,r=t.errorToDisplay;return r&&e!==r?null:(0,w.get)(n,[e,"message"])},s.getTokensWithStatus=function(){var e=s.state,t=e.success,n=e.errors,r=s.state.usernamesOrEmails.map(function(e){return n&&n[e]?{status:"error",value:e,tooltip:s.getTooltip(e),onMouseEnter:function(){return s.setState({errorToDisplay:e})}}:(0,w.includes)(t,e)?e:{value:e,status:"validating"}});return Pe("Generated tokens: "+(0,o.default)(r)),r},s.submitForm=function(e){if(e.preventDefault(),Pe("Submitting invite form. State: "+(0,o.default)(s.state)),s.isSubmitDisabled())return!1;var t=(0,w.uniqueId)(),n=s.state,r=n.usernamesOrEmails,i=n.message,a=n.role;s.setState({sendingInvites:!0,formId:t}),s.props.sendInvites(s.props.siteId,r,a,i,t);var l=(0,w.groupBy)(r,function(e){return(0,w.includes)(e,"@")?"email":"username"});re.default.tracks.recordEvent("calypso_invite_people_form_submit",{role:a,number_invitees:r.length,number_username_invitees:l.username?l.username.length:0,number_email_invitees:l.email?l.email.length:0,has_custom_message:"string"==typeof i&&!!i.length})},s.isSubmitDisabled=function(){var e=s.state,t=e.success,n=e.usernamesOrEmails,r=Array.isArray(n)?n:[];return!(!s.state.sendingInvites&&r.length)||(!!s.hasValidationErrors()||(0,w.some)(n,function(e){return!(0,w.includes)(t,e)}))},s.hasValidationErrors=function(){var e=s.state.errors,t=e&&(0,u.default)(e);return!!t.length},s.goBack=function(){var e=(0,w.get)(s.props,"site.slug"),t=e?"/people/team/"+e:"/people/team";S.default.back(t)},s.renderRoleExplanation=function(){var e=s.props.translate;return x.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://en.support.wordpress.com/user-roles/",onClick:s.onClickRoleExplanation},e("Learn more about roles"))},s.enableSSO=function(){s.props.activateModule(s.props.siteId,"sso")},s.renderInviteForm=function(){var e=s.props,t=e.site,n=e.translate,r=e.needsVerification,o=e.isJetpack,i=e.showSSONotice,a=x.default.createElement(K.default,null,x.default.createElement(ce.default,null,x.default.createElement("form",{onSubmit:s.submitForm},x.default.createElement("div",{role:"group",className:"invite-people__token-field-wrapper"},x.default.createElement(z.default,{htmlFor:"usernamesOrEmails"},n("Usernames or Emails")),x.default.createElement(A.default,{id:"usernamesOrEmails",isBorderless:!0,tokenizeOnSpace:!0,autoCapitalize:"none",autoComplete:"off",maxLength:10,value:s.getTokensWithStatus(),onChange:s.onTokensChange,onFocus:s.onFocusTokenField,disabled:s.state.sendingInvites}),x.default.createElement(q.default,null,n("Invite up to 10 email addresses and/or WordPress.com usernames. Those needing a username will be sent instructions on how to create one."))),x.default.createElement(M.default,{id:"role",name:"role",includeFollower:!0,siteId:s.props.siteId,onChange:s.onRoleChange,onFocus:s.onFocusRoleSelect,value:s.state.role,disabled:s.state.sendingInvites,explanation:s.renderRoleExplanation()}),x.default.createElement(V.default,null,x.default.createElement(z.default,{htmlFor:"message"},n("Custom Message")),x.default.createElement(Z.default,{name:"message",id:"message",showRemainingCharacters:!0,maxLength:500,acceptableLength:500,onChange:s.onMessageChange,onFocus:s.onFocusCustomMessage,value:s.state.message,disabled:s.state.sendingInvites}),x.default.createElement(q.default,null,n("(Optional) You can enter a custom message of up to 500 characters that will be included in the invitation to the user(s)."))),x.default.createElement(L.default,{disabled:s.isSubmitDisabled(),onClick:s.onClickSendInvites},n("Send Invitation","Send Invitations",{count:s.state.usernamesOrEmails.length||1,context:"Button label"})))));if(!t||!o||r)return a;var l=(0,w.get)(t,"options.jetpack_version",0);return!s.props.isSiteAutomatedTransfer&&(0,_e.default)(l,"5.0","<")?x.default.createElement("div",{className:"invite-people__action-required"},x.default.createElement(be.default,{status:"is-warning",showDismiss:!1,text:n("Inviting users requires Jetpack 5.0 or higher")},x.default.createElement(Ee.default,{href:"/plugins/jetpack/"+t.slug},n("Update"))),x.default.createElement(he.default,null,a)):i?x.default.createElement("div",{className:"invite-people__action-required"},x.default.createElement(be.default,{status:"is-warning",showDismiss:!1,text:n("Inviting users requires WordPress.com sign in")},x.default.createElement(Ee.default,{onClick:s.enableSSO},n("Enable"))),x.default.createElement(he.default,null,a)):a},s.state=s.resetState(),r=n,(0,b.default)(s,r)}return(0,E.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){ee.default.on("change",this.refreshValidation),ne.default.on("change",this.refreshFormState)}},{key:"componentWillUnmount",value:function(){ee.default.off("change",this.refreshValidation),ne.default.off("change",this.refreshFormState)}},{key:"componentWillReceiveProps",value:function(){this.setState(this.resetState())}},{key:"render",value:function(){var e=this.props,t=e.site,n=e.translate;return t&&!(0,ue.userCan)("promote_users",t)?x.default.createElement(G.default,null,x.default.createElement(ie.default,null),x.default.createElement(le.default,{title:n("Oops, only administrators can invite other people"),illustration:"/calypso/images/illustrations/illustration-empty-results.svg"})):x.default.createElement(G.default,{className:"invite-people"},x.default.createElement(ie.default,null),x.default.createElement(Q.default,{isCompact:!0,onClick:this.goBack},n("Invite People")),this.renderInviteForm())}}]),t}(x.default.Component);Te.displayName="InvitePeople",t.default=(0,R.connect)(function(e){var t=(0,fe.getSelectedSiteId)(e),n=(0,Se.default)(e,t,"sso"),s=(0,Ce.default)(e,t,"sso");return{siteId:t,needsVerification:!(0,ve.isCurrentUserEmailVerified)(e),showSSONotice:!(!n&&!s),isJetpack:(0,je.isJetpackSite)(e,t),isSiteAutomatedTransfer:(0,Re.default)(e,t)}},function(e){return(0,P.bindActionCreators)({sendInvites:W.sendInvites,activateModule:xe.activateModule},e)})((0,T.localize)(Te)),e.exports=t.default},"./client/my-sites/people/main.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.People=void 0;var r=n("./node_modules/react/react.js"),o=s(r),i=n("./node_modules/create-react-class/index.js"),a=s(i),l=n("./node_modules/i18n-calypso/index.js"),u=n("./node_modules/debug/browser.js"),d=s(u),c=n("./node_modules/react-redux/es/index.js"),f=n("./client/components/main/index.jsx"),p=s(f),h=n("./client/my-sites/people/followers-list/index.jsx"),m=s(h),_=n("./client/my-sites/people/viewers-list/index.jsx"),v=s(_),g=n("./client/my-sites/people/team-list/index.jsx"),b=s(g),y=n("./client/components/empty-content/index.jsx"),E=s(y),j=n("./client/lib/mixins/data-observe/index.js"),x=s(j),I=n("./client/my-sites/people/people-notices/index.jsx"),S=s(I),w=n("./client/my-sites/jetpack-manage-error-page/index.jsx"),C=s(w),k=n("./client/my-sites/people/people-section-nav/index.jsx"),R=s(k),P=n("./client/my-sites/sidebar-navigation/sidebar-navigation.jsx"),T=s(P),O=n("./client/state/ui/selectors.js"),M=n("./client/state/sites/selectors.js"),D=n("./client/state/selectors/can-current-user.js"),A=s(D),N=n("./client/state/selectors/is-private-site.js"),L=s(N),U=(0,d.default)("calypso:my-sites:people:main"),V=t.People=(0,a.default)({displayName:"People",mixins:[(0,x.default)("peopleLog")],componentDidMount:function(){U("PeopleList React component mounted.")},renderPeopleList:function(e){switch(this.props.filter){case"team":return o.default.createElement(b.default,{site:e,search:this.props.search});case"followers":return o.default.createElement(m.default,{site:e,label:this.props.translate("Followers")});case"email-followers":return o.default.createElement(m.default,{site:e,search:this.props.search,label:this.props.translate("Email Followers"),type:"email"});case"viewers":return o.default.createElement(v.default,{site:e,label:this.props.translate("Viewers")});default:return null}},render:function(){var e=this.props,t=e.isJetpack,n=e.jetpackPeopleSupported,s=e.canViewPeople,r=e.siteId,i=e.site,a=e.search,l=e.filter,u=e.isPrivate;return t&&!n?o.default.createElement(p.default,null,o.default.createElement(T.default,null),o.default.createElement(C.default,{template:"updateJetpack",siteId:r,version:"3.7"})):r&&!s?o.default.createElement(p.default,null,o.default.createElement(T.default,null),o.default.createElement(E.default,{title:this.props.translate("You are not authorized to view this page"),illustration:"/calypso/images/illustrations/illustration-404.svg"})):o.default.createElement(p.default,null,o.default.createElement(T.default,null),o.default.createElement("div",null,o.default.createElement(R.default,{isJetpack:t,isPrivate:u,jetpackPeopleSupported:n,canViewPeople:s,search:a,filter:l,site:i}),o.default.createElement(S.default,null),this.renderPeopleList(i)))}});t.default=(0,c.connect)(function(e){var t=(0,O.getSelectedSiteId)(e);return{siteId:t,site:(0,O.getSelectedSite)(e),isJetpack:(0,M.isJetpackSite)(e,t),isPrivate:(0,L.default)(e,t),canViewPeople:(0,A.default)(e,t,"list_users"),jetpackPeopleSupported:(0,M.isJetpackMinimumVersion)(e,t,"3.7.0-beta")}})((0,l.localize)(V))},"./client/my-sites/people/people-list-item/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/i18n-calypso/index.js"),b=n("./node_modules/classnames/index.js"),y=s(b),E=n("./node_modules/lodash/lodash.js"),j=n("./client/components/card/compact.jsx"),x=s(j),I=n("./client/my-sites/people/people-profile/index.jsx"),S=s(I),w=n("./client/lib/analytics/index.js"),C=s(w),k=n("./client/config/index.js"),R=s(k),P=function(e){function t(){var e,n,s,r;(0,u.default)(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=s=(0,p.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),s.navigateToUser=function(){window.scrollTo(0,0),C.default.ga.recordEvent("People","Clicked User Profile From Team List")},s.userHasPromoteCapability=function(){var e=s.props.site;return e&&e.capabilities&&e.capabilities.promote_users},s.canLinkToProfile=function(){var e=s.props.site,t=s.props.user;return R.default.isEnabled("manage/edit-user")&&t&&t.roles&&e&&e.slug&&s.userHasPromoteCapability()&&!s.props.isSelectable},r=n,(0,p.default)(s,r)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.canLinkToProfile(),t=e?"a":"span";return v.default.createElement(x.default,(0,o.default)({},(0,E.omit)(this.props,"className","user","site","isSelectable","onRemove","moment","numberFormat","translate"),{className:(0,y.default)("people-list-item",this.props.className),tagName:t,href:e&&"/people/edit/"+this.props.site.slug+"/"+this.props.user.login,onClick:e&&this.navigateToUser}),v.default.createElement("div",{className:"people-list-item__profile-container"},v.default.createElement(S.default,{user:this.props.user})),this.props.onRemove&&v.default.createElement("div",{className:"people-list-item__actions"},v.default.createElement("button",{className:"button is-link people-list-item__remove-button",onClick:this.props.onRemove},this.props.translate("Remove",{context:"Verb: Remove a user or follower from the blog."}))))}}]),t}(v.default.PureComponent);P.displayName="PeopleListItem",t.default=(0,g.localize)(P),e.exports=t.default},"./client/my-sites/people/people-list-section-header/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/prop-types/index.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/react-redux/es/index.js"),b=n("./node_modules/classnames/index.js"),y=s(b),E=n("./node_modules/lodash/lodash.js"),j=n("./node_modules/gridicons/build/index.js"),x=s(j),I=n("./node_modules/i18n-calypso/index.js"),S=n("./client/components/section-header/index.jsx"),w=s(S),C=n("./client/components/button/index.jsx"),k=s(C),R=n("./client/components/button-group/index.jsx"),P=s(R),T=n("./client/components/tooltip/index.jsx"),O=s(T),M=n("./client/state/ui/selectors.js"),D=n("./client/state/selectors/is-site-automated-transfer.js"),A=s(D),N=function(e){function t(e){(0,a.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.showAddTooltip=function(){return n.setState({addPeopleTooltip:!0})},n.hideAddTooltip=function(){return n.setState({addPeopleTooltip:!1})},n.state={addPeopleTooltip:!1},n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"getAddLink",value:function(){var e=(0,E.get)(this.props,"site.slug"),t=(0,E.get)(this.props,"site.jetpack");return!(!e||t&&this.props.isFollower)&&"/people/new/"+e}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.count,s=e.children,r=e.translate,o=this.getAddLink(),i=(0,y.default)(this.props.className,"people-list-section-header");return v.default.createElement(w.default,{className:i,count:n,label:t},s,o&&v.default.createElement(P.default,null,v.default.createElement(k.default,{compact:!0,href:o,className:"people-list-section-header__add-button",onMouseEnter:this.showAddTooltip,onMouseLeave:this.hideAddTooltip,ref:"addPeopleButton","aria-label":r("Invite user",{context:"button label"})},v.default.createElement(x.default,{icon:"plus-small",size:18}),v.default.createElement(x.default,{icon:"user",size:18}),v.default.createElement(O.default,{isVisible:this.state.addPeopleTooltip,context:this.refs&&this.refs.addPeopleButton,position:"bottom"},r("Invite user",{context:"button tooltip"})))))}}]),t}(_.Component);N.propTypes={label:m.default.string.isRequired,count:m.default.number,isFollower:m.default.bool,site:m.default.object,isSiteAutomatedTransfer:m.default.bool},N.defaultProps={isFollower:!1};var L=function(e){var t=(0,M.getSelectedSiteId)(e);return{isSiteAutomatedTransfer:!!(0,A.default)(e,t)}};t.default=(0,g.connect)(L)((0,I.localize)(N)),e.exports=t.default},"./client/my-sites/people/people-notices/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/react/react.js"),m=s(h),_=n("./node_modules/i18n-calypso/index.js"),v=s(_),g=n("./node_modules/react-redux/es/index.js"),b=n("./client/lib/people/log-store.js"),y=s(b),E=n("./client/lib/people/actions.js"),j=s(E),x=n("./client/components/notice/index.jsx"),I=s(x),S=n("./client/state/ui/selectors.js"),w=function(e,t){return e&&t.siteId&&t.siteId===e},C=function(e,t){return e&&t.user&&t.user.ID===e},k=function(e){return{user:"string"==typeof e.user?e.user:e.user.login}},R=function(e,t,n){return!e&&!t||(!(!w(e,n)||!C(t,n))||(!(t||!w(e,n))||!(e||!C(t,n))))},P=function(e){return e&&e.is_multisite},T=function(e){function t(){var e,n,s,r;(0,a.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=s=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),s.getState=function(){var e=s.props.site?s.props.site.ID:null,t=s.props.user?s.props.user.ID:null;return{errors:y.default.getErrors(R.bind(s,e,t)),inProgress:y.default.getInProgress(R.bind(s,e,t)),completed:y.default.getCompleted(R.bind(s,e,t))}},s.refreshNotices=function(){s.setState(s.getState())},s.inProgressMessage=function(){var e=s.state.inProgress[0];switch(e.action){case"UPDATE_SITE_USER":return v.default.translate("Updating @%(user)s",{args:k(e),context:"In progress message while a site is performing actions on users."});case"DELETE_SITE_USER":return P(s.props.site)?v.default.translate("Removing @%(user)s",{args:k(e),context:"In progress message while a site is performing actions on users."}):v.default.translate("Deleting @%(user)s",{args:k(e),context:"In progress message while a site is performing actions on users."})}},s.errorMessage=function(){var e=s.state.errors[s.state.errors.length-1];switch(e.action){case"RECEIVE_UPDATE_SITE_USER_FAILURE":return v.default.translate("There was an error updating @%(user)s",{args:k(e),context:"Error message after A site has failed to perform actions on a user."});case"RECEIVE_DELETE_SITE_USER_FAILURE":return P(s.props.site)?v.default.translate("There was an error removing @%(user)s",{args:k(e),context:"Error message after A site has failed to perform actions on a user."}):v.default.translate("There was an error deleting @%(user)s",{args:k(e),context:"Error message after A site has failed to perform actions on a user."});case"RECEIVE_USERS":return v.default.translate("There was an error retrieving users");case"RECEIVE_FOLLOWERS":return v.default.translate("There was an error retrieving followers");case"RECEIVE_EMAIL_FOLLOWERS":return v.default.translate("There was an error retrieving email followers");case"RECEIVE_VIEWERS":return v.default.translate("There was an error retrieving viewers")}},s.successMessage=function(){var e=s.state.completed[s.state.completed.length-1];switch(e.action){case"RECEIVE_UPDATE_SITE_USER_SUCCESS":return v.default.translate("Successfully updated @%(user)s",{args:k(e),context:"Success message after a user has been modified."});case"RECEIVE_DELETE_SITE_USER_SUCCESS":return P(s.props.site)?v.default.translate("Successfully removed @%(user)s",{args:k(e),context:"Success message after a user has been modified."}):v.default.translate("Successfully deleted @%(user)s",{args:k(e),context:"Success message after a user has been modified."})}},s.state=s.getState(),r=n,(0,c.default)(s,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){y.default.on("change",this.refreshNotices)}},{key:"componentWillUnmount",value:function(){y.default.removeListener("change",this.refreshNotices)}},{key:"render",value:function(){var e=this.state,t=function(){j.default.removePeopleNotices(e.errors)},n=function(){j.default.removePeopleNotices(e.completed)},s=null,r=void 0;return e.inProgress.length>0&&(r=this.inProgressMessage(),r&&(s=m.default.createElement(I.default,{showDismiss:!1,className:"people-notices__notice"},r))),e.errors.length>0?(r=this.errorMessage(),r&&(s=m.default.createElement(I.default,{status:"is-error",className:"people-notices__notice",onDismissClick:t},r))):e.completed.length>0&&(r=this.successMessage(),r&&(s=m.default.createElement(I.default,{status:"is-success",className:"people-notices__notice",onDismissClick:n},r))),s}}]),t}(m.default.Component);T.displayName="PeopleNotices",t.default=(0,g.connect)(function(e){return{site:(0,S.getSelectedSite)(e)}})(T),e.exports=t.default},"./client/my-sites/people/people-profile/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/i18n-calypso/index.js"),b=n("./node_modules/classnames/index.js"),y=s(b),E=n("./node_modules/lodash/lodash.js"),j=n("./client/reader/stats.js"),x=n("./node_modules/page/index.js"),I=s(x),S=n("./client/components/gravatar/index.jsx"),w=s(S),C=function(e){function t(){var e,n,s,r;(0,u.default)(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=s=(0,p.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),s.getRole=function(){var e=s.props.user;return e?e&&e.roles&&e.roles[0]?s.props.user.roles[0]:void 0:"subscriber"},s.getRoleBadgeText=function(e){var t=void 0;switch(e="undefined"==typeof e?s.getRole():e){case"super admin":t=s.props.translate("Super Admin",{context:"Noun: A user role displayed in a badge"});break;case"administrator":t=s.props.translate("Admin",{context:"Noun: A user role displayed in a badge"});break;case"editor":t=s.props.translate("Editor",{context:"Noun: A user role displayed in a badge"});break;case"author":t=s.props.translate("Author",{context:"Noun: A user role displayed in a badge"});break;case"contributor":t=s.props.translate("Contributor",{context:"Noun: A user role displayed in a badge"});break;case"subscriber":t=s.props.translate("Subscriber",{context:"Noun: A user role displayed in a badge"});break;default:t=e}return t},s.getRoleBadgeClass=function(e){return e="undefined"==typeof e?s.getRole():e,"role-"+e},s.handleLinkToReaderSiteStream=function(e){var t=e.button>0||e.metaKey||e.controlKey||e.shiftKey||e.altKey;if((0,j.recordTrack)("calypso_sites_people_followers_link_click",{modifier_pressed:t}),!t){var n=(0,E.get)(s.props.user,"follow_data.params.blog_id",!1);n&&(e.preventDefault(),(0,I.default)("/read/blogs/"+n))}},s.renderName=function(){var e=s.props.user,t=void 0;e?e.name?t=e.name:e.label&&(t=e.label):t=s.props.translate("Loading Users",{context:"Placeholder text while fetching users."});var n=(0,E.get)(e,"follow_data.params.blog_id",!1);return t&&n?t=v.default.createElement("div",{className:"people-profile__username"},v.default.createElement("a",{href:e.url,onClick:s.handleLinkToReaderSiteStream},t)):t&&(t=v.default.createElement("div",{className:"people-profile__username"},t)),t},s.renderLogin=function(){var e=void 0;return s.props.user?s.props.user.login&&(e=s.props.user.login):e=s.props.translate("Loading Users",{context:"Placeholder text while fetching users."}),e&&(e=v.default.createElement("div",{className:"people-profile__login"},v.default.createElement("span",null,"@",e))),e},s.renderRole=function(){var e=void 0,t=void 0;if(s.props.user&&s.props.user.is_super_admin&&(e=v.default.createElement("div",{className:"people-profile__role-badge role-super-admin"},s.getRoleBadgeText("super admin"))),s.getRole()&&(t=v.default.createElement("div",{className:(0,y.default)("people-profile__role-badge",s.getRoleBadgeClass())},s.getRoleBadgeText())),t||e)return v.default.createElement("div",{className:"people-profile__badges"},e,t)},s.renderSubscribedDate=function(){if(s.props.user&&s.props.user.date_subscribed)return v.default.createElement("div",{className:"people-profile__subscribed"},s.props.translate("Since %(formattedDate)s",{context:'How long a user has been subscribed to a blog. Example: "Since Sep 16, 2015"',args:{formattedDate:s.props.moment(s.props.user.date_subscribed).format("ll")}}))},s.isFollowerType=function(){return s.props.user&&!s.props.user.roles&&s.props.user.date_subscribed},r=n,(0,p.default)(s,r)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.user,t=(0,y.default)("people-profile",{"is-placeholder":!e});return v.default.createElement("div",(0,o.default)({},(0,E.omit)(this.props,"className","user","moment","numberFormat","translate"),{className:t}),v.default.createElement("div",{className:"people-profile__gravatar"},v.default.createElement(w.default,{user:e,size:72})),v.default.createElement("div",{className:"people-profile__detail"},this.renderName(),this.renderLogin(),this.isFollowerType()?this.renderSubscribedDate():this.renderRole()))}}]),t}(v.default.PureComponent);C.displayName="PeopleProfile",t.default=(0,g.localize)(C),e.exports=t.default},"./client/my-sites/people/people-section-nav/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/create-react-class/index.js"),b=s(g),y=n("./client/config/index.js"),E=s(y),j=n("./node_modules/lodash/lodash.js"),x=n("./node_modules/i18n-calypso/index.js"),I=n("./client/components/search/index.jsx"),S=s(I),w=n("./client/lib/mixins/url-search/index.js"),C=s(w),k=n("./client/components/section-nav/index.jsx"),R=s(k),P=n("./client/components/section-nav/tabs.jsx"),T=s(P),O=n("./client/components/section-nav/item.jsx"),M=s(O),D=(0,b.default)({displayName:"PeopleSearch",mixins:[C.default],render:function(){return v.default.createElement(S.default,{pinned:!0,fitsContainer:!0,onSearch:this.doSearch,initialValue:this.props.search,ref:"url-search",delaySearch:!0,analyticsGroup:"People"})}}),A=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return v.default.createElement(T.default,{selectedText:this.props.selectedText},this.props.filters.map(function(e){return v.default.createElement(M.default,{key:e.id,path:e.path,selected:e.id===this.props.filter},e.title)},this))}}]),t}(v.default.Component);A.displayName="PeopleNavTabs";var N=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"canSearch",value:function(){var e=this.props,t=e.isJetpack,n=e.jetpackPeopleSupported,s=e.filter;return!!this.props.site&&((!s||"followers"!==s&&"viewers"!==s)&&(!t||!("team"===s&&!n)))}},{key:"getFilters",value:function(){var e=(0,j.get)(this.props.site,"slug",""),t=this.props.translate,n=[{title:t("Team",{context:"Filter label for people list"}),path:"/people/team/"+e,id:"team"},{title:t("Followers",{context:"Filter label for people list"}),path:"/people/followers/"+e,id:"followers"},{title:t("Email Followers",{context:"Filter label for people list"}),path:"/people/email-followers/"+e,id:"email-followers"},{title:t("Viewers",{context:"Filter label for people list"}),path:"/people/viewers/"+e,id:"viewers"}];return n}},{key:"getNavigableFilters",value:function(){var e=this,t=["team"];return E.default.isEnabled("manage/people/readers")&&(t.push("followers"),t.push("email-followers"),this.shouldDisplayViewers()&&t.push("viewers")),this.getFilters().filter(function(n){return e.props.filter===n.id||(0,j.includes)(t,n.id)})}},{key:"shouldDisplayViewers",value:function(){return!!this.props.site&&!("viewers"!==this.props.filter&&(this.props.isJetpack||!this.props.isPrivate))}},{key:"render",value:function(){var e,t=!1,n=null;return this.canSearch()&&(t=!0,n=v.default.createElement(D,this.props)),e=(0,j.find)(this.getFilters(),{id:this.props.filter}).title,v.default.createElement(R.default,{selectedText:e,hasPinnedItems:t},v.default.createElement(A,(0,o.default)({},this.props,{selectedText:e,filters:this.getNavigableFilters()})),n)}}]),t}(_.Component);t.default=(0,x.localize)(N),e.exports=t.default},"./client/my-sites/people/role-select/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/react.js"),o=s(r),i=n("./node_modules/lodash/lodash.js"),a=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/i18n-calypso/index.js"),u=n("./client/components/forms/form-fieldset/index.jsx"),d=s(u),c=n("./client/components/forms/form-label/index.jsx"),f=s(c),p=n("./client/components/forms/form-select/index.jsx"),h=s(p),m=n("./client/components/forms/form-setting-explanation/index.jsx"),_=s(m),v=n("./client/components/data/query-sites/index.jsx"),g=s(v),b=n("./client/components/data/query-site-roles/index.jsx"),y=s(b),E=n("./client/state/sites/selectors.js"),j=n("./client/state/site-roles/selectors.js"),x=function(e){var t=e.site,n=e.translate,s=t.is_private?n("Viewer",{context:"Role that is displayed in a select"}):n("Follower",{context:"Role that is displayed in a select"});return{display_name:s,name:"follower"}},I=function(e){var t=e.siteRoles,n=e.site,s=e.includeFollower,r=e.siteId,a=e.id,l=e.explanation,u=e.translate,c=["site","key","siteId","includeFollower","explanation","siteRoles","dispatch","moment","numberFormat","translate"];return n&&t&&s&&(t=t.concat(x(e))),o.default.createElement(d.default,{key:r,disabled:!t},r&&o.default.createElement(g.default,{siteId:r}),r&&o.default.createElement(y.default,{siteId:r}),o.default.createElement(f.default,{htmlFor:a},u("Role")),o.default.createElement(h.default,(0,i.omit)(e,c),t&&(0,i.map)(t,function(e){return o.default.createElement("option",{value:e.name,key:e.name},e.display_name)})),l&&o.default.createElement(_.default,null,l))};t.default=(0,a.connect)(function(e,t){return{site:(0,E.getSite)(e,t.siteId),siteRoles:(0,j.getSiteRoles)(e,t.siteId)}})((0,l.localize)(I)),e.exports=t.default},"./client/my-sites/people/team-list/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/freeze.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/i18n-calypso/index.js"),v=n("./node_modules/react/react.js"),g=s(v),b=n("./client/components/site-users-fetcher/index.jsx"),y=s(b),E=n("./client/my-sites/people/team-list/team.jsx"),j=s(E),x=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e={siteId:this.props.site&&this.props.site.ID,order:"ASC",order_by:"display_name",search:this.props.search?"*"+this.props.search+"*":null,search_columns:["display_name","user_login"]};return(0,o.default)(e),g.default.createElement(y.default,{fetchOptions:e},g.default.createElement(j.default,this.props))}}]),t}(g.default.Component);x.displayName="TeamList",t.default=(0,_.localize)(x),e.exports=t.default},"./client/my-sites/people/team-list/team.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/assign.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/json-stable-stringify/index.js"),v=s(_),g=n("./node_modules/i18n-calypso/index.js"),b=n("./node_modules/lodash/lodash.js"),y=n("./node_modules/react/react.js"),E=s(y),j=n("./node_modules/debug/browser.js"),x=s(j),I=n("./client/components/card/index.jsx"),S=s(I),w=n("./client/my-sites/people/people-list-item/index.jsx"),C=s(w),k=n("./client/lib/users/actions.js"),R=s(k),P=n("./client/components/infinite-list/index.jsx"),T=s(P),O=n("./client/my-sites/no-results/index.jsx"),M=s(O),D=n("./client/lib/analytics/index.js"),A=s(D),N=n("./client/my-sites/people/people-list-section-header/index.jsx"),L=s(N),U=n("./client/components/list-end/index.js"),V=s(U),F=(0,
x.default)("calypso:my-sites:people:team-list"),z=function(e){function t(){var e,n,s,r;(0,u.default)(this,t);for(var i=arguments.length,l=Array(i),d=0;d<i;d++)l[d]=arguments[d];return n=s=(0,p.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(l))),s.state={bulkEditing:!1},s.isLastPage=function(){return s.props.totalUsers<=s.props.users.length+s.props.excludedUsers.length},s._renderPerson=function(e){return E.default.createElement(C.default,{key:e.ID,user:e,type:"user",site:s.props.site,isSelectable:s.state.bulkEditing})},s._fetchNextPage=function(){var e=s.props.users.length,t=(0,o.default)({},s.props.fetchOptions,{offset:e});A.default.ga.recordEvent("People","Fetched more users with infinite list","offset",e),F("fetching next batch of users"),R.default.fetchUsers(t)},s._getPersonRef=function(e){return"user-"+e.ID},s._renderLoadingPeople=function(){return E.default.createElement(C.default,{key:"people-list-item-placeholder"})},r=n,(0,p.default)(s,r)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e,t=(0,v.default)((0,b.omit)(this.props.fetchOptions,["number","offset"])),n=this.props.translate("Team",{context:"A navigation label."}),s=this.state.bulkEditing?"bulk-editing":null;return this.props.fetchInitialized&&!this.props.users.length&&this.props.fetchOptions.search&&!this.props.fetchingUsers?E.default.createElement(M.default,{image:"/calypso/images/people/mystery-person.svg",text:this.props.translate("No results found for {{em}}%(searchTerm)s{{/em}}",{args:{searchTerm:this.props.search},components:{em:E.default.createElement("em",null)}})}):(this.props.site&&this.props.users.length?(this.props.search&&this.props.totalUsers&&(n=this.props.translate('%(numberPeople)d Person Matching {{em}}"%(searchTerm)s"{{/em}}','%(numberPeople)d People Matching {{em}}"%(searchTerm)s"{{/em}}',{count:this.props.users.length,args:{numberPeople:this.props.totalUsers,searchTerm:this.props.search},components:{em:E.default.createElement("em",null)}})),e=E.default.createElement(T.default,{key:t,items:this.props.users,className:"people-selector__infinite-list",ref:"infiniteList",fetchingNextPage:this.props.fetchingUsers,lastPage:this.isLastPage(),fetchNextPage:this._fetchNextPage,getItemRef:this._getPersonRef,renderLoadingPlaceholders:this._renderLoadingPeople,renderItem:this._renderPerson,guessedItemHeight:126})):e=this._renderLoadingPeople(),E.default.createElement("div",null,E.default.createElement(L.default,{label:n,site:this.props.site,count:this.props.fetchingUsers||this.props.fetchOptions.search?null:this.props.totalUsers}),E.default.createElement(S.default,{className:s},e),this.isLastPage()&&E.default.createElement(V.default,null)))}}]),t}(E.default.Component);z.displayName="Team",t.default=(0,g.localize)(z),e.exports=t.default},"./client/my-sites/people/viewers-list/index.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=s(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/createClass.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/inherits.js"),p=s(f),h=n("./node_modules/react/react.js"),m=s(h),_=n("./node_modules/i18n-calypso/index.js"),v=n("./client/components/data/viewers-data/index.jsx"),g=s(v),b=n("./client/my-sites/people/viewers-list/viewers.jsx"),y=s(b),E=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement(g.default,{site:this.props.site,siteId:this.props.site.ID,label:this.props.label},m.default.createElement(y.default,null))}}]),t}(m.default.PureComponent);E.displayName="ViewersList",t.default=(0,_.localize)(E),e.exports=t.default},"./client/my-sites/people/viewers-list/viewers.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/babel-runtime/core-js/object/assign.js"),o=s(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=s(i),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=s(l),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=s(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=s(f),h=n("./node_modules/babel-runtime/helpers/inherits.js"),m=s(h),_=n("./node_modules/react/react.js"),v=s(_),g=n("./node_modules/i18n-calypso/index.js"),b=n("./client/my-sites/people/people-list-item/index.jsx"),y=s(b),E=n("./client/components/card/index.jsx"),j=s(E),x=n("./client/my-sites/people/people-list-section-header/index.jsx"),I=s(x),S=n("./client/lib/viewers/actions.js"),w=s(S),C=n("./client/lib/viewers/store.js"),k=s(C),R=n("./client/components/infinite-list/index.jsx"),P=s(R),T=n("./client/components/empty-content/index.jsx"),O=s(T),M=n("./client/lib/analytics/index.js"),D=s(M),A=n("./client/lib/accept/index.js"),N=s(A),L=n("./client/components/list-end/index.js"),U=s(L),V=function(e){function t(){var e,n,s,r;(0,u.default)(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=s=(0,p.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(i))),s.state={bulkEditing:!1},s.renderPlaceholders=function(){return v.default.createElement(y.default,{key:"people-list-item-placeholder"})},s.fetchNextPage=function(){var e=k.default.getPaginationData(s.props.siteId),t=e.currentViewersPage?e.currentViewersPage:0,n=t+1;D.default.ga.recordEvent("People","Fetched more viewers with infinite list","page",n),w.default.fetch(s.props.siteId,n)},s.removeViewer=function(e){D.default.ga.recordEvent("People","Clicked Remove Viewer Button On Viewers List"),(0,N.default)(v.default.createElement("div",null,v.default.createElement("p",null,s.props.translate("If you remove this viewer, he or she will not be able to visit this site.")),v.default.createElement("p",null,s.props.translate("Would you still like to remove this viewer?"))),function(t){t?(D.default.ga.recordEvent("People","Clicked Remove Button In Remove Viewer Confirmation"),w.default.remove(s.props.site.ID,e)):D.default.ga.recordEvent("People","Clicked Cancel Button In Remove Viewer Confirmation")},s.props.translate("Remove",{context:"Confirm Remove viewer button text."}))},s.renderViewer=function(e){var t=function(){s.removeViewer(e)};return v.default.createElement(y.default,{key:e.ID,user:e,type:"viewer",site:s.props.site,isSelectable:s.state.bulkEditing,onRemove:t})},s.getViewerRef=function(e){return"viewer-"+e.ID},s.onClickSiteSettings=function(){D.default.ga.recordEvent("People","Clicked Site Settings Link On Empty Viewers")},s.isLastPage=function(){return s.props.totalViewers<=s.props.viewers.length},r=n,(0,p.default)(s,r)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e,t={title:this.props.site&&this.props.site.jetpack?this.props.translate("Oops, Jetpack sites don't support viewers."):this.props.translate("You don't have any viewers yet.")},n=this.state.bulkEditing?"bulk-editing":null;return this.props.viewers.length||this.props.fetching?(e=this.props.viewers.length?v.default.createElement(P.default,{key:this.props.siteId,items:this.props.viewers,className:"people-selector__infinite-list",ref:"infiniteList",fetchingNextPage:this.props.fetching,lastPage:this.isLastPage(),fetchNextPage:this.fetchNextPage,getItemRef:this.getViewerRef,renderLoadingPlaceholders:this.renderPlaceholders,renderItem:this.renderViewer,guessedItemHeight:126}):this.renderPlaceholders(),v.default.createElement("div",null,v.default.createElement(I.default,{label:this.props.label,site:this.props.site,count:this.props.fetching?null:this.props.totalViewers}),v.default.createElement(j.default,{className:n},e),this.isLastPage()&&v.default.createElement(U.default,null))):(!this.props.site||this.props.site.jetpack||this.props.site.is_private||(t=(0,o.default)(t,{line:this.props.translate("Only private sites can have viewers. You can make your site private by changing its visibility settings."),action:this.props.translate("Visit Site Settings"),actionURL:"/settings/general/"+this.props.site.slug})),v.default.createElement(O.default,t))}}]),t}(v.default.PureComponent);V.displayName="Viewers",t.default=(0,g.localize)(V),e.exports=t.default},"./client/my-sites/sidebar-navigation/sidebar-navigation.jsx":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/react.js"),o=s(r),i=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/i18n-calypso/index.js"),l=n("./client/components/sidebar-navigation/index.jsx"),u=s(l),d=n("./client/blocks/site-icon/index.jsx"),c=s(d),f=n("./client/state/ui/selectors.js"),p=function(e){var t=e.site,n=e.translate,s=n("All Sites"),r="all-sites";return t&&(s=t.title,r=null),o.default.createElement(u.default,{linkClassName:r,sectionName:"site",sectionTitle:s},t&&o.default.createElement(c.default,{site:t}))};t.default=(0,i.connect)(function(e){return{site:(0,f.getSelectedSite)(e)}})((0,a.localize)(p)),e.exports=t.default},"./client/state/jetpack/modules/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{type:l.JETPACK_MODULES_RECEIVE,siteId:e,modules:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchModuleList=t.deactivateModule=t.activateModule=void 0;var o=n("./node_modules/babel-runtime/helpers/extends.js"),i=s(o);t.receiveJetpackModules=r;var a=n("./node_modules/lodash/lodash.js"),l=n("./client/state/action-types.js"),u=n("./client/lib/wp/browser.js"),d=s(u);t.activateModule=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(s){return s({type:l.JETPACK_MODULE_ACTIVATE,siteId:e,moduleSlug:t,silent:n}),d.default.undocumented().jetpackModuleActivate(e,t).then(function(){s({type:l.JETPACK_MODULE_ACTIVATE_SUCCESS,siteId:e,moduleSlug:t,silent:n})}).catch(function(r){s({type:l.JETPACK_MODULE_ACTIVATE_FAILURE,siteId:e,moduleSlug:t,silent:n,error:r.message})})}},t.deactivateModule=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(s){return s({type:l.JETPACK_MODULE_DEACTIVATE,siteId:e,moduleSlug:t,silent:n}),d.default.undocumented().jetpackModuleDeactivate(e,t).then(function(){s({type:l.JETPACK_MODULE_DEACTIVATE_SUCCESS,siteId:e,moduleSlug:t,silent:n})}).catch(function(r){s({type:l.JETPACK_MODULE_DEACTIVATE_FAILURE,siteId:e,moduleSlug:t,silent:n,error:r.message})})}},t.fetchModuleList=function(e){return function(t){return t({type:l.JETPACK_MODULES_REQUEST,siteId:e}),d.default.undocumented().getJetpackModules(e).then(function(n){var s=n.data,o=(0,a.mapValues)(s,function(e){return(0,i.default)({active:e.activated},(0,a.omit)(e,"activated"))});t(r(e,o)),t({type:l.JETPACK_MODULES_REQUEST_SUCCESS,siteId:e})}).catch(function(n){t({type:l.JETPACK_MODULES_REQUEST_FAILURE,siteId:e,error:n.message})})}}},"./client/state/site-roles/actions.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(t){return t({type:a.SITE_ROLES_REQUEST,siteId:e}),i.default.undocumented().site(e).getRoles().then(function(n){var s=n.roles;t({type:a.SITE_ROLES_REQUEST_SUCCESS,siteId:e}),t({type:a.SITE_ROLES_RECEIVE,siteId:e,roles:s})}).catch(function(){t({type:a.SITE_ROLES_REQUEST_FAILURE,siteId:e})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.requestSiteRoles=r;var o=n("./client/lib/wp/browser.js"),i=s(o),a=n("./client/state/action-types.js")},"./client/state/site-roles/selectors.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSiteRoles=t.isRequestingSiteRoles=void 0;var s=n("./node_modules/lodash/lodash.js");t.isRequestingSiteRoles=function(e,t){return(0,s.get)(e.siteRoles.requesting,[t],!1)},t.getSiteRoles=function(e,t){return(0,s.get)(e.siteRoles.items,[t])}},"./node_modules/escape-regexp-component/index.js":function(e,t){e.exports=function(e){return String(e).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")}},"./node_modules/escape-regexp/index.js":function(e,t){e.exports=function(e){return String(e).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")}},"./node_modules/immutable/dist/immutable.js":function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return o(e)?e:R(e)}function n(e){return i(e)?e:P(e)}function s(e){return a(e)?e:T(e)}function r(e){return o(e)&&!l(e)?e:O(e)}function o(e){return!(!e||!e[un])}function i(e){return!(!e||!e[dn])}function a(e){return!(!e||!e[cn])}function l(e){return i(e)||a(e)}function u(e){return!(!e||!e[fn])}function d(e){return e.value=!1,e}function c(e){e&&(e.value=!0)}function f(){}function p(e,t){t=t||0;for(var n=Math.max(0,e.length-t),s=new Array(n),r=0;r<n;r++)s[r]=e[r+t];return s}function h(e){return void 0===e.size&&(e.size=e.__iterate(_)),e.size}function m(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?h(e)+t:t}function _(){return!0}function v(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function g(e,t){return y(e,t,0)}function b(e,t){return y(e,t,t)}function y(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function E(e){this.next=e}function j(e,t,n,s){var r=0===e?t:1===e?n:[t,n];return s?s.value=r:s={value:r,done:!1},s}function x(){return{value:void 0,done:!0}}function I(e){return!!C(e)}function S(e){return e&&"function"==typeof e.next}function w(e){var t=C(e);return t&&t.call(e)}function C(e){var t=e&&(xn&&e[xn]||e[In]);if("function"==typeof t)return t}function k(e){return e&&"number"==typeof e.length}function R(e){return null===e||void 0===e?U():o(e)?e.toSeq():z(e)}function P(e){return null===e||void 0===e?U().toKeyedSeq():o(e)?i(e)?e.toSeq():e.fromEntrySeq():V(e)}function T(e){return null===e||void 0===e?U():o(e)?i(e)?e.entrySeq():e.toIndexedSeq():F(e)}function O(e){return(null===e||void 0===e?U():o(e)?i(e)?e.entrySeq():e:F(e)).toSetSeq()}function M(e){this._array=e,this.size=e.length}function D(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function A(e){this._iterable=e,this.size=e.length||e.size}function N(e){this._iterator=e,this._iteratorCache=[]}function L(e){return!(!e||!e[wn])}function U(){return Cn||(Cn=new M([]))}function V(e){var t=Array.isArray(e)?new M(e).fromEntrySeq():S(e)?new N(e).fromEntrySeq():I(e)?new A(e).fromEntrySeq():"object"==typeof e?new D(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function F(e){var t=H(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function z(e){var t=H(e)||"object"==typeof e&&new D(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function H(e){return k(e)?new M(e):S(e)?new N(e):I(e)?new A(e):void 0}function q(e,t,n,s){var r=e._cache;if(r){for(var o=r.length-1,i=0;i<=o;i++){var a=r[n?o-i:i];if(t(a[1],s?a[0]:i,e)===!1)return i+1}return i}return e.__iterateUncached(t,n)}function W(e,t,n,s){var r=e._cache;if(r){var o=r.length-1,i=0;return new E(function(){var e=r[n?o-i:i];return i++>o?x():j(t,s?e[0]:i-1,e[1])})}return e.__iteratorUncached(t,n)}function B(e,t){return t?K(t,e,"",{"":e}):J(e)}function K(e,t,n,s){return Array.isArray(t)?e.call(s,n,T(t).map(function(n,s){return K(e,n,s,t)})):G(t)?e.call(s,n,P(t).map(function(n,s){return K(e,n,s,t)})):t}function J(e){return Array.isArray(e)?T(e).map(J).toList():G(e)?P(e).map(J).toMap():e}function G(e){return e&&(e.constructor===Object||void 0===e.constructor)}function Y(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function Q(e,t){if(e===t)return!0;if(!o(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||i(e)!==i(t)||a(e)!==a(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(u(e)){var s=e.entries();return t.every(function(e,t){var r=s.next().value;return r&&Y(r[1],e)&&(n||Y(r[0],t))})&&s.next().done}var r=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{r=!0;var d=e;e=t,t=d}var c=!0,f=t.__iterate(function(t,s){if(n?!e.has(t):r?!Y(t,e.get(s,vn)):!Y(e.get(s,vn),t))return c=!1,!1});return c&&e.size===f}function $(e,t){if(!(this instanceof $))return new $(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(kn)return kn;kn=this}}function Z(e,t){if(!e)throw new Error(t)}function X(e,t,n){if(!(this instanceof X))return new X(e,t,n);if(Z(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Rn)return Rn;Rn=this}}function ee(){throw TypeError("Abstract")}function te(){}function ne(){}function se(){}function re(e){return e>>>1&1073741824|3221225471&e}function oe(e){if(e===!1||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(e=e.valueOf(),e===!1||null===e||void 0===e))return 0;if(e===!0)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)e/=4294967295,n^=e;return re(n)}if("string"===t)return e.length>Ln?ie(e):ae(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return le(e);if("function"==typeof e.toString)return ae(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ie(e){var t=Fn[e];return void 0===t&&(t=ae(e),Vn===Un&&(Vn=0,Fn={}),Vn++,Fn[e]=t),t}function ae(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return re(t)}function le(e){var t;if(Dn&&(t=Pn.get(e),void 0!==t))return t;if(t=e[Nn],void 0!==t)return t;if(!Mn){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Nn],void 0!==t)return t;if(t=ue(e),void 0!==t)return t}if(t=++An,1073741824&An&&(An=0),Dn)Pn.set(e,t);else{if(void 0!==On&&On(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Mn)Object.defineProperty(e,Nn,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Nn]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Nn]=t}}return t}function ue(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function de(e){Z(e!==1/0,"Cannot perform this action with an infinite size.")}function ce(e){return null===e||void 0===e?je():fe(e)&&!u(e)?e:je().withMutations(function(t){var s=n(e);de(s.size),s.forEach(function(e,n){return t.set(n,e)})})}function fe(e){return!(!e||!e[zn])}function pe(e,t){this.ownerID=e,this.entries=t}function he(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function me(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function _e(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function ve(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function ge(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&ye(e._root)}function be(e,t){return j(e,t[0],t[1])}function ye(e,t){return{node:e,index:0,__prev:t}}function Ee(e,t,n,s){var r=Object.create(Hn);return r.size=e,r._root=t,r.__ownerID=n,r.__hash=s,r.__altered=!1,r}function je(){return qn||(qn=Ee(0))}function xe(e,t,n){var s,r;if(e._root){var o=d(gn),i=d(bn);if(s=Ie(e._root,e.__ownerID,0,void 0,t,n,o,i),!i.value)return e;r=e.size+(o.value?n===vn?-1:1:0)}else{if(n===vn)return e;r=1,s=new pe(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=r,e._root=s,e.__hash=void 0,e.__altered=!0,e):s?Ee(r,s):je()}function Ie(e,t,n,s,r,o,i,a){return e?e.update(t,n,s,r,o,i,a):o===vn?e:(c(a),c(i),new ve(t,s,[r,o]))}function Se(e){return e.constructor===ve||e.constructor===_e}function we(e,t,n,s,r){if(e.keyHash===s)return new _e(t,s,[e.entry,r]);var o,i=(0===n?e.keyHash:e.keyHash>>>n)&_n,a=(0===n?s:s>>>n)&_n,l=i===a?[we(e,t,n+hn,s,r)]:(o=new ve(t,s,r),i<a?[e,o]:[o,e]);return new he(t,1<<i|1<<a,l)}function Ce(e,t,n,s){e||(e=new f);for(var r=new ve(e,oe(n),[n,s]),o=0;o<t.length;o++){var i=t[o];r=r.update(e,0,void 0,i[0],i[1])}return r}function ke(e,t,n,s){for(var r=0,o=0,i=new Array(n),a=0,l=1,u=t.length;a<u;a++,l<<=1){var d=t[a];void 0!==d&&a!==s&&(r|=l,i[o++]=d)}return new he(e,r,i)}function Re(e,t,n,s,r){for(var o=0,i=new Array(mn),a=0;0!==n;a++,n>>>=1)i[a]=1&n?t[o++]:void 0;return i[s]=r,new me(e,o+1,i)}function Pe(e,t,s){for(var r=[],i=0;i<s.length;i++){var a=s[i],l=n(a);o(a)||(l=l.map(function(e){return B(e)})),r.push(l)}return Me(e,t,r)}function Te(e,t,n){return e&&e.mergeDeep&&o(t)?e.mergeDeep(t):Y(e,t)?e:t}function Oe(e){return function(t,n,s){if(t&&t.mergeDeepWith&&o(n))return t.mergeDeepWith(e,n);var r=e(t,n,s);return Y(t,r)?t:r}}function Me(e,t,n){return n=n.filter(function(e){return 0!==e.size}),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var s=t?function(n,s){e.update(s,vn,function(e){return e===vn?n:t(e,n,s)})}:function(t,n){e.set(n,t)},r=0;r<n.length;r++)n[r].forEach(s)}):e.constructor(n[0])}function De(e,t,n,s){var r=e===vn,o=t.next();if(o.done){var i=r?n:e,a=s(i);return a===i?e:a}Z(r||e&&e.set,"invalid keyPath");var l=o.value,u=r?vn:e.get(l,vn),d=De(u,t,n,s);return d===u?e:d===vn?e.remove(l):(r?je():e).set(l,d)}function Ae(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,127&e}function Ne(e,t,n,s){var r=s?e:p(e);return r[t]=n,r}function Le(e,t,n,s){var r=e.length+1;if(s&&t+1===r)return e[t]=n,e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t?(o[a]=n,i=-1):o[a]=e[a+i];return o}function Ue(e,t,n){var s=e.length-1;if(n&&t===s)return e.pop(),e;for(var r=new Array(s),o=0,i=0;i<s;i++)i===t&&(o=1),r[i]=e[i+o];return r}function Ve(e){var t=We();if(null===e||void 0===e)return t;if(Fe(e))return e;var n=s(e),r=n.size;return 0===r?t:(de(r),r>0&&r<mn?qe(0,r,hn,null,new ze(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function Fe(e){return!(!e||!e[Jn])}function ze(e,t){this.array=e,this.ownerID=t}function He(e,t){function n(e,t,n){return 0===t?s(e,n):r(e,t,n)}function s(e,n){var s=n===a?l&&l.array:e&&e.array,r=n>o?0:o-n,u=i-n;return u>mn&&(u=mn),function(){if(r===u)return Qn;var e=t?--u:r++;return s&&s[e]}}function r(e,s,r){var a,l=e&&e.array,u=r>o?0:o-r>>s,d=(i-r>>s)+1;return d>mn&&(d=mn),function(){for(;;){if(a){var e=a();if(e!==Qn)return e;a=null}if(u===d)return Qn;var o=t?--d:u++;a=n(l&&l[o],s-hn,r+(o<<s))}}}var o=e._origin,i=e._capacity,a=$e(i),l=e._tail;return n(e._root,e._level,0)}function qe(e,t,n,s,r,o,i){var a=Object.create(Gn);return a.size=t-e,a._origin=e,a._capacity=t,a._level=n,a._root=s,a._tail=r,a.__ownerID=o,a.__hash=i,a.__altered=!1,a}function We(){return Yn||(Yn=qe(0,0,hn))}function Be(e,t,n){if(t=m(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Ye(e,t).set(0,n):Ye(e,0,t+1).set(t,n)});t+=e._origin;var s=e._tail,r=e._root,o=d(bn);return t>=$e(e._capacity)?s=Ke(s,e.__ownerID,0,t,n,o):r=Ke(r,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=r,e._tail=s,e.__hash=void 0,e.__altered=!0,e):qe(e._origin,e._capacity,e._level,r,s):e}function Ke(e,t,n,s,r,o){var i=s>>>n&_n,a=e&&i<e.array.length;if(!a&&void 0===r)return e;var l;if(n>0){var u=e&&e.array[i],d=Ke(u,t,n-hn,s,r,o);return d===u?e:(l=Je(e,t),l.array[i]=d,l)}return a&&e.array[i]===r?e:(c(o),l=Je(e,t),void 0===r&&i===l.array.length-1?l.array.pop():l.array[i]=r,l)}function Je(e,t){return t&&e&&t===e.ownerID?e:new ze(e?e.array.slice():[],t)}function Ge(e,t){if(t>=$e(e._capacity))return e._tail;if(t<1<<e._level+hn){for(var n=e._root,s=e._level;n&&s>0;)n=n.array[t>>>s&_n],s-=hn;return n}}function Ye(e,t,n){void 0!==t&&(t=0|t),void 0!==n&&(n=0|n);var s=e.__ownerID||new f,r=e._origin,o=e._capacity,i=r+t,a=void 0===n?o:n<0?o+n:r+n;if(i===r&&a===o)return e;if(i>=a)return e.clear();for(var l=e._level,u=e._root,d=0;i+d<0;)u=new ze(u&&u.array.length?[void 0,u]:[],s),l+=hn,d+=1<<l;d&&(i+=d,r+=d,a+=d,o+=d);for(var c=$e(o),p=$e(a);p>=1<<l+hn;)u=new ze(u&&u.array.length?[u]:[],s),l+=hn;var h=e._tail,m=p<c?Ge(e,a-1):p>c?new ze([],s):h;if(h&&p>c&&i<o&&h.array.length){u=Je(u,s);for(var _=u,v=l;v>hn;v-=hn){var g=c>>>v&_n;_=_.array[g]=Je(_.array[g],s)}_.array[c>>>hn&_n]=h}if(a<o&&(m=m&&m.removeAfter(s,0,a)),i>=p)i-=p,a-=p,l=hn,u=null,m=m&&m.removeBefore(s,0,i);else if(i>r||p<c){for(d=0;u;){var b=i>>>l&_n;if(b!==p>>>l&_n)break;b&&(d+=(1<<l)*b),l-=hn,u=u.array[b]}u&&i>r&&(u=u.removeBefore(s,l,i-d)),u&&p<c&&(u=u.removeAfter(s,l,p-d)),d&&(i-=d,a-=d)}return e.__ownerID?(e.size=a-i,e._origin=i,e._capacity=a,e._level=l,e._root=u,e._tail=m,e.__hash=void 0,e.__altered=!0,e):qe(i,a,l,u,m)}function Qe(e,t,n){for(var r=[],i=0,a=0;a<n.length;a++){var l=n[a],u=s(l);u.size>i&&(i=u.size),o(l)||(u=u.map(function(e){return B(e)})),r.push(u)}return i>e.size&&(e=e.setSize(i)),Me(e,t,r)}function $e(e){return e<mn?0:e-1>>>hn<<hn}function Ze(e){return null===e||void 0===e?tt():Xe(e)?e:tt().withMutations(function(t){var s=n(e);de(s.size),s.forEach(function(e,n){return t.set(n,e)})})}function Xe(e){return fe(e)&&u(e)}function et(e,t,n,s){var r=Object.create(Ze.prototype);return r.size=e?e.size:0,r._map=e,r._list=t,r.__ownerID=n,r.__hash=s,r}function tt(){return $n||($n=et(je(),We()))}function nt(e,t,n){var s,r,o=e._map,i=e._list,a=o.get(t),l=void 0!==a;if(n===vn){if(!l)return e;i.size>=mn&&i.size>=2*o.size?(r=i.filter(function(e,t){return void 0!==e&&a!==t}),s=r.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=r.__ownerID=e.__ownerID)):(s=o.remove(t),r=a===i.size-1?i.pop():i.set(a,void 0))}else if(l){if(n===i.get(a)[1])return e;s=o,r=i.set(a,[t,n])}else s=o.set(t,i.size),r=i.set(i.size,[t,n]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=r,e.__hash=void 0,e):et(s,r)}function st(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function rt(e){this._iter=e,this.size=e.size}function ot(e){this._iter=e,this.size=e.size}function it(e){this._iter=e,this.size=e.size}function at(e){var t=kt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Rt,t.__iterateUncached=function(t,n){var s=this;return e.__iterate(function(e,n){return t(n,e,s)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===jn){var s=e.__iterator(t,n);return new E(function(){var e=s.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===En?yn:En,n)},t}function lt(e,t,n){var s=kt(e);return s.size=e.size,s.has=function(t){return e.has(t)},s.get=function(s,r){var o=e.get(s,vn);return o===vn?r:t.call(n,o,s,e)},s.__iterateUncached=function(s,r){var o=this;return e.__iterate(function(e,r,i){return s(t.call(n,e,r,i),r,o)!==!1},r)},s.__iteratorUncached=function(s,r){var o=e.__iterator(jn,r);return new E(function(){var r=o.next();if(r.done)return r;var i=r.value,a=i[0];return j(s,a,t.call(n,i[1],a,e),r)})},s}function ut(e,t){var n=kt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=at(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,s){return e.get(t?n:-1-n,s)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Rt,n.__iterate=function(t,n){var s=this;return e.__iterate(function(e,n){return t(e,n,s)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function dt(e,t,n,s){var r=kt(e);return s&&(r.has=function(s){var r=e.get(s,vn);return r!==vn&&!!t.call(n,r,s,e)},r.get=function(s,r){var o=e.get(s,vn);return o!==vn&&t.call(n,o,s,e)?o:r}),r.__iterateUncached=function(r,o){var i=this,a=0;return e.__iterate(function(e,o,l){if(t.call(n,e,o,l))return a++,r(e,s?o:a-1,i)},o),a},r.__iteratorUncached=function(r,o){var i=e.__iterator(jn,o),a=0;return new E(function(){for(;;){var o=i.next();if(o.done)return o;var l=o.value,u=l[0],d=l[1];if(t.call(n,d,u,e))return j(r,s?u:a++,d,o)}})},r}function ct(e,t,n){var s=ce().asMutable();return e.__iterate(function(r,o){s.update(t.call(n,r,o,e),0,function(e){return e+1})}),s.asImmutable()}function ft(e,t,n){var s=i(e),r=(u(e)?Ze():ce()).asMutable();e.__iterate(function(o,i){r.update(t.call(n,o,i,e),function(e){return e=e||[],e.push(s?[i,o]:o),e})});var o=Ct(e);return r.map(function(t){return It(e,o(t))})}function pt(e,t,n,s){var r=e.size;if(void 0!==t&&(t=0|t),void 0!==n&&(n=0|n),v(t,n,r))return e;var o=g(t,r),i=b(n,r);if(o!==o||i!==i)return pt(e.toSeq().cacheResult(),t,n,s);var a,l=i-o;l===l&&(a=l<0?0:l);var u=kt(e);return u.size=0===a?a:e.size&&a||void 0,!s&&L(e)&&a>=0&&(u.get=function(t,n){return t=m(this,t),t>=0&&t<a?e.get(t+o,n):n}),u.__iterateUncached=function(t,n){var r=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(t,n);var i=0,l=!0,u=0;return e.__iterate(function(e,n){if(!l||!(l=i++<o))return u++,t(e,s?n:u-1,r)!==!1&&u!==a}),u},u.__iteratorUncached=function(t,n){if(0!==a&&n)return this.cacheResult().__iterator(t,n);var r=0!==a&&e.__iterator(t,n),i=0,l=0;return new E(function(){for(;i++<o;)r.next();if(++l>a)return x();var e=r.next();return s||t===En?e:t===yn?j(t,l-1,void 0,e):j(t,l-1,e.value[1],e)})},u}function ht(e,t,n){var s=kt(e);return s.__iterateUncached=function(s,r){var o=this;if(r)return this.cacheResult().__iterate(s,r);var i=0;return e.__iterate(function(e,r,a){return t.call(n,e,r,a)&&++i&&s(e,r,o)}),i},s.__iteratorUncached=function(s,r){var o=this;if(r)return this.cacheResult().__iterator(s,r);var i=e.__iterator(jn,r),a=!0;return new E(function(){if(!a)return x();var e=i.next();if(e.done)return e;var r=e.value,l=r[0],u=r[1];return t.call(n,u,l,o)?s===jn?e:j(s,l,u,e):(a=!1,x())})},s}function mt(e,t,n,s){var r=kt(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=!0,l=0;return e.__iterate(function(e,o,u){if(!a||!(a=t.call(n,e,o,u)))return l++,r(e,s?o:l-1,i)}),l},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(jn,o),l=!0,u=0;return new E(function(){var e,o,d;do{if(e=a.next(),e.done)return s||r===En?e:r===yn?j(r,u++,void 0,e):j(r,u++,e.value[1],e);var c=e.value;o=c[0],d=c[1],l&&(l=t.call(n,d,o,i))}while(l);return r===jn?e:j(r,o,d,e)})},r}function _t(e,t){var s=i(e),r=[e].concat(t).map(function(e){return o(e)?s&&(e=n(e)):e=s?V(e):F(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var l=r[0];if(l===e||s&&i(l)||a(e)&&a(l))return l}var u=new M(r);return s?u=u.toKeyedSeq():a(e)||(u=u.toSetSeq()),u=u.flatten(!0),u.size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),u}function vt(e,t,n){var s=kt(e);return s.__iterateUncached=function(s,r){function i(e,u){var d=this;e.__iterate(function(e,r){return(!t||u<t)&&o(e)?i(e,u+1):s(e,n?r:a++,d)===!1&&(l=!0),!l},r)}var a=0,l=!1;return i(e,0),a},s.__iteratorUncached=function(s,r){var i=e.__iterator(s,r),a=[],l=0;return new E(function(){for(;i;){var e=i.next();if(e.done===!1){var u=e.value;if(s===jn&&(u=u[1]),t&&!(a.length<t)||!o(u))return n?e:j(s,l++,u,e);
a.push(i),i=u.__iterator(s,r)}else i=a.pop()}return x()})},s}function gt(e,t,n){var s=Ct(e);return e.toSeq().map(function(r,o){return s(t.call(n,r,o,e))}).flatten(!0)}function bt(e,t){var n=kt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,s){var r=this,o=0;return e.__iterate(function(e,s){return(!o||n(t,o++,r)!==!1)&&n(e,o++,r)!==!1},s),o},n.__iteratorUncached=function(n,s){var r,o=e.__iterator(En,s),i=0;return new E(function(){return(!r||i%2)&&(r=o.next(),r.done)?r:i%2?j(n,i++,t):j(n,i++,r.value,r)})},n}function yt(e,t,n){t||(t=Pt);var s=i(e),r=0,o=e.toSeq().map(function(t,s){return[s,t,r++,n?n(t,s,e):t]}).toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(s?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),s?P(o):a(e)?T(o):O(o)}function Et(e,t,n){if(t||(t=Pt),n){var s=e.toSeq().map(function(t,s){return[t,n(t,s,e)]}).reduce(function(e,n){return jt(t,e[1],n[1])?n:e});return s&&s[0]}return e.reduce(function(e,n){return jt(t,e,n)?n:e})}function jt(e,t,n){var s=e(n,t);return 0===s&&n!==t&&(void 0===n||null===n||n!==n)||s>0}function xt(e,n,s){var r=kt(e);return r.size=new M(s).map(function(e){return e.size}).min(),r.__iterate=function(e,t){for(var n,s=this.__iterator(En,t),r=0;!(n=s.next()).done&&e(n.value,r++,this)!==!1;);return r},r.__iteratorUncached=function(e,r){var o=s.map(function(e){return e=t(e),w(r?e.reverse():e)}),i=0,a=!1;return new E(function(){var t;return a||(t=o.map(function(e){return e.next()}),a=t.some(function(e){return e.done})),a?x():j(e,i++,n.apply(null,t.map(function(e){return e.value})))})},r}function It(e,t){return L(e)?t:e.constructor(t)}function St(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function wt(e){return de(e.size),h(e)}function Ct(e){return i(e)?n:a(e)?s:r}function kt(e){return Object.create((i(e)?P:a(e)?T:O).prototype)}function Rt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):R.prototype.cacheResult.call(this)}function Pt(e,t){return e>t?1:e<t?-1:0}function Tt(e){var n=w(e);if(!n){if(!k(e))throw new TypeError("Expected iterable or array-like: "+e);n=w(t(e))}return n}function Ot(e,t){var n,s=function(o){if(o instanceof s)return o;if(!(this instanceof s))return new s(o);if(!n){n=!0;var i=Object.keys(e);At(r,i),r.size=i.length,r._name=t,r._keys=i,r._defaultValues=e}this._map=ce(o)},r=s.prototype=Object.create(Zn);return r.constructor=s,s}function Mt(e,t,n){var s=Object.create(Object.getPrototypeOf(e));return s._map=t,s.__ownerID=n,s}function Dt(e){return e._name||e.constructor.name||"Record"}function At(e,t){try{t.forEach(Nt.bind(void 0,e))}catch(e){}}function Nt(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Z(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Lt(e){return null===e||void 0===e?zt():Ut(e)&&!u(e)?e:zt().withMutations(function(t){var n=r(e);de(n.size),n.forEach(function(e){return t.add(e)})})}function Ut(e){return!(!e||!e[Xn])}function Vt(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Ft(e,t){var n=Object.create(es);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function zt(){return ts||(ts=Ft(je()))}function Ht(e){return null===e||void 0===e?Bt():qt(e)?e:Bt().withMutations(function(t){var n=r(e);de(n.size),n.forEach(function(e){return t.add(e)})})}function qt(e){return Ut(e)&&u(e)}function Wt(e,t){var n=Object.create(ns);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Bt(){return ss||(ss=Wt(tt()))}function Kt(e){return null===e||void 0===e?Yt():Jt(e)?e:Yt().unshiftAll(e)}function Jt(e){return!(!e||!e[rs])}function Gt(e,t,n,s){var r=Object.create(os);return r.size=e,r._head=t,r.__ownerID=n,r.__hash=s,r.__altered=!1,r}function Yt(){return is||(is=Gt(0))}function Qt(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function $t(e,t){return t}function Zt(e,t){return[t,e]}function Xt(e){return function(){return!e.apply(this,arguments)}}function en(e){return function(){return-e.apply(this,arguments)}}function tn(e){return"string"==typeof e?JSON.stringify(e):e}function nn(){return p(arguments)}function sn(e,t){return e<t?1:e>t?-1:0}function rn(e){if(e.size===1/0)return 0;var t=u(e),n=i(e),s=t?1:0,r=e.__iterate(n?t?function(e,t){s=31*s+an(oe(e),oe(t))|0}:function(e,t){s=s+an(oe(e),oe(t))|0}:t?function(e){s=31*s+oe(e)|0}:function(e){s=s+oe(e)|0});return on(r,s)}function on(e,t){return t=Tn(t,3432918353),t=Tn(t<<15|t>>>-15,461845907),t=Tn(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Tn(t^t>>>16,2246822507),t=Tn(t^t>>>13,3266489909),t=re(t^t>>>16)}function an(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var ln=Array.prototype.slice;e(n,t),e(s,t),e(r,t),t.isIterable=o,t.isKeyed=i,t.isIndexed=a,t.isAssociative=l,t.isOrdered=u,t.Keyed=n,t.Indexed=s,t.Set=r;var un="@@__IMMUTABLE_ITERABLE__@@",dn="@@__IMMUTABLE_KEYED__@@",cn="@@__IMMUTABLE_INDEXED__@@",fn="@@__IMMUTABLE_ORDERED__@@",pn="delete",hn=5,mn=1<<hn,_n=mn-1,vn={},gn={value:!1},bn={value:!1},yn=0,En=1,jn=2,xn="function"==typeof Symbol&&Symbol.iterator,In="@@iterator",Sn=xn||In;E.prototype.toString=function(){return"[Iterator]"},E.KEYS=yn,E.VALUES=En,E.ENTRIES=jn,E.prototype.inspect=E.prototype.toSource=function(){return this.toString()},E.prototype[Sn]=function(){return this},e(R,t),R.of=function(){return R(arguments)},R.prototype.toSeq=function(){return this},R.prototype.toString=function(){return this.__toString("Seq {","}")},R.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},R.prototype.__iterate=function(e,t){return q(this,e,t,!0)},R.prototype.__iterator=function(e,t){return W(this,e,t,!0)},e(P,R),P.prototype.toKeyedSeq=function(){return this},e(T,R),T.of=function(){return T(arguments)},T.prototype.toIndexedSeq=function(){return this},T.prototype.toString=function(){return this.__toString("Seq [","]")},T.prototype.__iterate=function(e,t){return q(this,e,t,!1)},T.prototype.__iterator=function(e,t){return W(this,e,t,!1)},e(O,R),O.of=function(){return O(arguments)},O.prototype.toSetSeq=function(){return this},R.isSeq=L,R.Keyed=P,R.Set=O,R.Indexed=T;var wn="@@__IMMUTABLE_SEQ__@@";R.prototype[wn]=!0,e(M,T),M.prototype.get=function(e,t){return this.has(e)?this._array[m(this,e)]:t},M.prototype.__iterate=function(e,t){for(var n=this._array,s=n.length-1,r=0;r<=s;r++)if(e(n[t?s-r:r],r,this)===!1)return r+1;return r},M.prototype.__iterator=function(e,t){var n=this._array,s=n.length-1,r=0;return new E(function(){return r>s?x():j(e,r,n[t?s-r++:r++])})},e(D,P),D.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},D.prototype.has=function(e){return this._object.hasOwnProperty(e)},D.prototype.__iterate=function(e,t){for(var n=this._object,s=this._keys,r=s.length-1,o=0;o<=r;o++){var i=s[t?r-o:o];if(e(n[i],i,this)===!1)return o+1}return o},D.prototype.__iterator=function(e,t){var n=this._object,s=this._keys,r=s.length-1,o=0;return new E(function(){var i=s[t?r-o:o];return o++>r?x():j(e,i,n[i])})},D.prototype[fn]=!0,e(A,T),A.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,s=w(n),r=0;if(S(s))for(var o;!(o=s.next()).done&&e(o.value,r++,this)!==!1;);return r},A.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,s=w(n);if(!S(s))return new E(x);var r=0;return new E(function(){var t=s.next();return t.done?t:j(e,r++,t.value)})},e(N,T),N.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,s=this._iteratorCache,r=0;r<s.length;)if(e(s[r],r++,this)===!1)return r;for(var o;!(o=n.next()).done;){var i=o.value;if(s[r]=i,e(i,r++,this)===!1)break}return r},N.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,s=this._iteratorCache,r=0;return new E(function(){if(r>=s.length){var t=n.next();if(t.done)return t;s[r]=t.value}return j(e,r,s[r++])})};var Cn;e($,T),$.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},$.prototype.get=function(e,t){return this.has(e)?this._value:t},$.prototype.includes=function(e){return Y(this._value,e)},$.prototype.slice=function(e,t){var n=this.size;return v(e,t,n)?this:new $(this._value,b(t,n)-g(e,n))},$.prototype.reverse=function(){return this},$.prototype.indexOf=function(e){return Y(this._value,e)?0:-1},$.prototype.lastIndexOf=function(e){return Y(this._value,e)?this.size:-1},$.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},$.prototype.__iterator=function(e,t){var n=this,s=0;return new E(function(){return s<n.size?j(e,s++,n._value):x()})},$.prototype.equals=function(e){return e instanceof $?Y(this._value,e._value):Q(e)};var kn;e(X,T),X.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},X.prototype.get=function(e,t){return this.has(e)?this._start+m(this,e)*this._step:t},X.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},X.prototype.slice=function(e,t){return v(e,t,this.size)?this:(e=g(e,this.size),t=b(t,this.size),t<=e?new X(0,0):new X(this.get(e,this._end),this.get(t,this._end),this._step))},X.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},X.prototype.lastIndexOf=function(e){return this.indexOf(e)},X.prototype.__iterate=function(e,t){for(var n=this.size-1,s=this._step,r=t?this._start+n*s:this._start,o=0;o<=n;o++){if(e(r,o,this)===!1)return o+1;r+=t?-s:s}return o},X.prototype.__iterator=function(e,t){var n=this.size-1,s=this._step,r=t?this._start+n*s:this._start,o=0;return new E(function(){var i=r;return r+=t?-s:s,o>n?x():j(e,o++,i)})},X.prototype.equals=function(e){return e instanceof X?this._start===e._start&&this._end===e._end&&this._step===e._step:Q(this,e)};var Rn;e(ee,t),e(te,ee),e(ne,ee),e(se,ee),ee.Keyed=te,ee.Indexed=ne,ee.Set=se;var Pn,Tn="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(e,t){e=0|e,t=0|t;var n=65535&e,s=65535&t;return n*s+((e>>>16)*s+n*(t>>>16)<<16>>>0)|0},On=Object.isExtensible,Mn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Dn="function"==typeof WeakMap;Dn&&(Pn=new WeakMap);var An=0,Nn="__immutablehash__";"function"==typeof Symbol&&(Nn=Symbol(Nn));var Ln=16,Un=255,Vn=0,Fn={};e(ce,te),ce.prototype.toString=function(){return this.__toString("Map {","}")},ce.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},ce.prototype.set=function(e,t){return xe(this,e,t)},ce.prototype.setIn=function(e,t){return this.updateIn(e,vn,function(){return t})},ce.prototype.remove=function(e){return xe(this,e,vn)},ce.prototype.deleteIn=function(e){return this.updateIn(e,function(){return vn})},ce.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},ce.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var s=De(this,Tt(e),t,n);return s===vn?void 0:s},ce.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):je()},ce.prototype.merge=function(){return Pe(this,void 0,arguments)},ce.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return Pe(this,e,t)},ce.prototype.mergeIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,je(),function(e){return"function"==typeof e.merge?e.merge.apply(e,t):t[t.length-1]})},ce.prototype.mergeDeep=function(){return Pe(this,Te,arguments)},ce.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return Pe(this,Oe(e),t)},ce.prototype.mergeDeepIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,je(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]})},ce.prototype.sort=function(e){return Ze(yt(this,e))},ce.prototype.sortBy=function(e,t){return Ze(yt(this,t,e))},ce.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},ce.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new f)},ce.prototype.asImmutable=function(){return this.__ensureOwner()},ce.prototype.wasAltered=function(){return this.__altered},ce.prototype.__iterator=function(e,t){return new ge(this,e,t)},ce.prototype.__iterate=function(e,t){var n=this,s=0;return this._root&&this._root.iterate(function(t){return s++,e(t[1],t[0],n)},t),s},ce.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ee(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},ce.isMap=fe;var zn="@@__IMMUTABLE_MAP__@@",Hn=ce.prototype;Hn[zn]=!0,Hn[pn]=Hn.remove,Hn.removeIn=Hn.deleteIn,pe.prototype.get=function(e,t,n,s){for(var r=this.entries,o=0,i=r.length;o<i;o++)if(Y(n,r[o][0]))return r[o][1];return s},pe.prototype.update=function(e,t,n,s,r,o,i){for(var a=r===vn,l=this.entries,u=0,d=l.length;u<d&&!Y(s,l[u][0]);u++);var f=u<d;if(f?l[u][1]===r:a)return this;if(c(i),(a||!f)&&c(o),!a||1!==l.length){if(!f&&!a&&l.length>=Wn)return Ce(e,l,s,r);var h=e&&e===this.ownerID,m=h?l:p(l);return f?a?u===d-1?m.pop():m[u]=m.pop():m[u]=[s,r]:m.push([s,r]),h?(this.entries=m,this):new pe(e,m)}},he.prototype.get=function(e,t,n,s){void 0===t&&(t=oe(n));var r=1<<((0===e?t:t>>>e)&_n),o=this.bitmap;return 0===(o&r)?s:this.nodes[Ae(o&r-1)].get(e+hn,t,n,s)},he.prototype.update=function(e,t,n,s,r,o,i){void 0===n&&(n=oe(s));var a=(0===t?n:n>>>t)&_n,l=1<<a,u=this.bitmap,d=0!==(u&l);if(!d&&r===vn)return this;var c=Ae(u&l-1),f=this.nodes,p=d?f[c]:void 0,h=Ie(p,e,t+hn,n,s,r,o,i);if(h===p)return this;if(!d&&h&&f.length>=Bn)return Re(e,f,u,a,h);if(d&&!h&&2===f.length&&Se(f[1^c]))return f[1^c];if(d&&h&&1===f.length&&Se(h))return h;var m=e&&e===this.ownerID,_=d?h?u:u^l:u|l,v=d?h?Ne(f,c,h,m):Ue(f,c,m):Le(f,c,h,m);return m?(this.bitmap=_,this.nodes=v,this):new he(e,_,v)},me.prototype.get=function(e,t,n,s){void 0===t&&(t=oe(n));var r=(0===e?t:t>>>e)&_n,o=this.nodes[r];return o?o.get(e+hn,t,n,s):s},me.prototype.update=function(e,t,n,s,r,o,i){void 0===n&&(n=oe(s));var a=(0===t?n:n>>>t)&_n,l=r===vn,u=this.nodes,d=u[a];if(l&&!d)return this;var c=Ie(d,e,t+hn,n,s,r,o,i);if(c===d)return this;var f=this.count;if(d){if(!c&&(f--,f<Kn))return ke(e,u,f,a)}else f++;var p=e&&e===this.ownerID,h=Ne(u,a,c,p);return p?(this.count=f,this.nodes=h,this):new me(e,f,h)},_e.prototype.get=function(e,t,n,s){for(var r=this.entries,o=0,i=r.length;o<i;o++)if(Y(n,r[o][0]))return r[o][1];return s},_e.prototype.update=function(e,t,n,s,r,o,i){void 0===n&&(n=oe(s));var a=r===vn;if(n!==this.keyHash)return a?this:(c(i),c(o),we(this,e,t,n,[s,r]));for(var l=this.entries,u=0,d=l.length;u<d&&!Y(s,l[u][0]);u++);var f=u<d;if(f?l[u][1]===r:a)return this;if(c(i),(a||!f)&&c(o),a&&2===d)return new ve(e,this.keyHash,l[1^u]);var h=e&&e===this.ownerID,m=h?l:p(l);return f?a?u===d-1?m.pop():m[u]=m.pop():m[u]=[s,r]:m.push([s,r]),h?(this.entries=m,this):new _e(e,this.keyHash,m)},ve.prototype.get=function(e,t,n,s){return Y(n,this.entry[0])?this.entry[1]:s},ve.prototype.update=function(e,t,n,s,r,o,i){var a=r===vn,l=Y(s,this.entry[0]);return(l?r===this.entry[1]:a)?this:(c(i),a?void c(o):l?e&&e===this.ownerID?(this.entry[1]=r,this):new ve(e,this.keyHash,[s,r]):(c(o),we(this,e,t,oe(s),[s,r])))},pe.prototype.iterate=_e.prototype.iterate=function(e,t){for(var n=this.entries,s=0,r=n.length-1;s<=r;s++)if(e(n[t?r-s:s])===!1)return!1},he.prototype.iterate=me.prototype.iterate=function(e,t){for(var n=this.nodes,s=0,r=n.length-1;s<=r;s++){var o=n[t?r-s:s];if(o&&o.iterate(e,t)===!1)return!1}},ve.prototype.iterate=function(e,t){return e(this.entry)},e(ge,E),ge.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,s=t.node,r=t.index++;if(s.entry){if(0===r)return be(e,s.entry)}else if(s.entries){if(n=s.entries.length-1,r<=n)return be(e,s.entries[this._reverse?n-r:r])}else if(n=s.nodes.length-1,r<=n){var o=s.nodes[this._reverse?n-r:r];if(o){if(o.entry)return be(e,o.entry);t=this._stack=ye(o,t)}continue}t=this._stack=this._stack.__prev}return x()};var qn,Wn=mn/4,Bn=mn/2,Kn=mn/4;e(Ve,ne),Ve.of=function(){return this(arguments)},Ve.prototype.toString=function(){return this.__toString("List [","]")},Ve.prototype.get=function(e,t){if(e=m(this,e),e>=0&&e<this.size){e+=this._origin;var n=Ge(this,e);return n&&n.array[e&_n]}return t},Ve.prototype.set=function(e,t){return Be(this,e,t)},Ve.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Ve.prototype.insert=function(e,t){return this.splice(e,0,t)},Ve.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=hn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):We()},Ve.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Ye(n,0,t+e.length);for(var s=0;s<e.length;s++)n.set(t+s,e[s])})},Ve.prototype.pop=function(){return Ye(this,0,-1)},Ve.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Ye(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},Ve.prototype.shift=function(){return Ye(this,1)},Ve.prototype.merge=function(){return Qe(this,void 0,arguments)},Ve.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return Qe(this,e,t)},Ve.prototype.mergeDeep=function(){return Qe(this,Te,arguments)},Ve.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return Qe(this,Oe(e),t)},Ve.prototype.setSize=function(e){return Ye(this,0,e)},Ve.prototype.slice=function(e,t){var n=this.size;return v(e,t,n)?this:Ye(this,g(e,n),b(t,n))},Ve.prototype.__iterator=function(e,t){var n=0,s=He(this,t);return new E(function(){var t=s();return t===Qn?x():j(e,n++,t)})},Ve.prototype.__iterate=function(e,t){for(var n,s=0,r=He(this,t);(n=r())!==Qn&&e(n,s++,this)!==!1;);return s},Ve.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?qe(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Ve.isList=Fe;var Jn="@@__IMMUTABLE_LIST__@@",Gn=Ve.prototype;Gn[Jn]=!0,Gn[pn]=Gn.remove,Gn.setIn=Hn.setIn,Gn.deleteIn=Gn.removeIn=Hn.removeIn,Gn.update=Hn.update,Gn.updateIn=Hn.updateIn,Gn.mergeIn=Hn.mergeIn,Gn.mergeDeepIn=Hn.mergeDeepIn,Gn.withMutations=Hn.withMutations,Gn.asMutable=Hn.asMutable,Gn.asImmutable=Hn.asImmutable,Gn.wasAltered=Hn.wasAltered,ze.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var s=n>>>t&_n;if(s>=this.array.length)return new ze([],e);var r,o=0===s;if(t>0){var i=this.array[s];if(r=i&&i.removeBefore(e,t-hn,n),r===i&&o)return this}if(o&&!r)return this;var a=Je(this,e);if(!o)for(var l=0;l<s;l++)a.array[l]=void 0;return r&&(a.array[s]=r),a},ze.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var s=n-1>>>t&_n;if(s>=this.array.length)return this;var r;if(t>0){var o=this.array[s];if(r=o&&o.removeAfter(e,t-hn,n),r===o&&s===this.array.length-1)return this}var i=Je(this,e);return i.array.splice(s+1),r&&(i.array[s]=r),i};var Yn,Qn={};e(Ze,ce),Ze.of=function(){return this(arguments)},Ze.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ze.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Ze.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):tt()},Ze.prototype.set=function(e,t){return nt(this,e,t)},Ze.prototype.remove=function(e){return nt(this,e,vn)},Ze.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ze.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Ze.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Ze.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?et(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Ze.isOrderedMap=Xe,Ze.prototype[fn]=!0,Ze.prototype[pn]=Ze.prototype.remove;var $n;e(st,P),st.prototype.get=function(e,t){return this._iter.get(e,t)},st.prototype.has=function(e){return this._iter.has(e)},st.prototype.valueSeq=function(){return this._iter.valueSeq()},st.prototype.reverse=function(){var e=this,t=ut(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},st.prototype.map=function(e,t){var n=this,s=lt(this,e,t);return this._useKeys||(s.valueSeq=function(){return n._iter.toSeq().map(e,t)}),s},st.prototype.__iterate=function(e,t){var n,s=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,s)}:(n=t?wt(this):0,function(r){return e(r,t?--n:n++,s)}),t)},st.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(En,t),s=t?wt(this):0;return new E(function(){var r=n.next();return r.done?r:j(e,t?--s:s++,r.value,r)})},st.prototype[fn]=!0,e(rt,T),rt.prototype.includes=function(e){return this._iter.includes(e)},rt.prototype.__iterate=function(e,t){var n=this,s=0;return this._iter.__iterate(function(t){return e(t,s++,n)},t)},rt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(En,t),s=0;return new E(function(){var t=n.next();return t.done?t:j(e,s++,t.value,t)})},e(ot,O),ot.prototype.has=function(e){return this._iter.includes(e)},ot.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},ot.prototype.__iterator=function(e,t){var n=this._iter.__iterator(En,t);return new E(function(){var t=n.next();return t.done?t:j(e,t.value,t.value,t)})},e(it,P),it.prototype.entrySeq=function(){return this._iter.toSeq()},it.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){St(t);var s=o(t);return e(s?t.get(1):t[1],s?t.get(0):t[0],n)}},t)},it.prototype.__iterator=function(e,t){var n=this._iter.__iterator(En,t);return new E(function(){for(;;){var t=n.next();if(t.done)return t;var s=t.value;if(s){St(s);var r=o(s);return j(e,r?s.get(0):s[0],r?s.get(1):s[1],t)}}})},rt.prototype.cacheResult=st.prototype.cacheResult=ot.prototype.cacheResult=it.prototype.cacheResult=Rt,e(Ot,te),Ot.prototype.toString=function(){return this.__toString(Dt(this)+" {","}")},Ot.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Ot.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Ot.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Mt(this,je()))},Ot.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Dt(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Mt(this,n)},Ot.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Mt(this,t)},Ot.prototype.wasAltered=function(){return this._map.wasAltered()},Ot.prototype.__iterator=function(e,t){var s=this;return n(this._defaultValues).map(function(e,t){return s.get(t)}).__iterator(e,t)},Ot.prototype.__iterate=function(e,t){var s=this;return n(this._defaultValues).map(function(e,t){return s.get(t)}).__iterate(e,t)},Ot.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Mt(this,t,e):(this.__ownerID=e,this._map=t,this)};var Zn=Ot.prototype;Zn[pn]=Zn.remove,Zn.deleteIn=Zn.removeIn=Hn.removeIn,Zn.merge=Hn.merge,Zn.mergeWith=Hn.mergeWith,Zn.mergeIn=Hn.mergeIn,Zn.mergeDeep=Hn.mergeDeep,Zn.mergeDeepWith=Hn.mergeDeepWith,Zn.mergeDeepIn=Hn.mergeDeepIn,Zn.setIn=Hn.setIn,Zn.update=Hn.update,Zn.updateIn=Hn.updateIn,Zn.withMutations=Hn.withMutations,Zn.asMutable=Hn.asMutable,Zn.asImmutable=Hn.asImmutable,e(Lt,se),Lt.of=function(){return this(arguments)},Lt.fromKeys=function(e){return this(n(e).keySeq())},Lt.prototype.toString=function(){return this.__toString("Set {","}")},Lt.prototype.has=function(e){return this._map.has(e)},Lt.prototype.add=function(e){return Vt(this,this._map.set(e,!0))},Lt.prototype.remove=function(e){return Vt(this,this._map.remove(e))},Lt.prototype.clear=function(){return Vt(this,this._map.clear())},Lt.prototype.union=function(){var e=ln.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)r(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},Lt.prototype.intersect=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return r(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.every(function(e){return e.includes(t)})||n.remove(t)})})},Lt.prototype.subtract=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return r(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.remove(t)})})},Lt.prototype.merge=function(){return this.union.apply(this,arguments)},Lt.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return this.union.apply(this,t)},Lt.prototype.sort=function(e){return Ht(yt(this,e))},Lt.prototype.sortBy=function(e,t){return Ht(yt(this,t,e))},Lt.prototype.wasAltered=function(){return this._map.wasAltered()},Lt.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,s){return e(s,s,n)},t)},Lt.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Lt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Lt.isSet=Ut;var Xn="@@__IMMUTABLE_SET__@@",es=Lt.prototype;es[Xn]=!0,es[pn]=es.remove,es.mergeDeep=es.merge,es.mergeDeepWith=es.mergeWith,es.withMutations=Hn.withMutations,es.asMutable=Hn.asMutable,es.asImmutable=Hn.asImmutable,es.__empty=zt,es.__make=Ft;var ts;e(Ht,Lt),Ht.of=function(){return this(arguments)},Ht.fromKeys=function(e){return this(n(e).keySeq())},Ht.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ht.isOrderedSet=qt;var ns=Ht.prototype;ns[fn]=!0,ns.__empty=Bt,ns.__make=Wt;var ss;e(Kt,ne),Kt.of=function(){return this(arguments)},Kt.prototype.toString=function(){return this.__toString("Stack [","]")},Kt.prototype.get=function(e,t){var n=this._head;for(e=m(this,e);n&&e--;)n=n.next;return n?n.value:t},Kt.prototype.peek=function(){return this._head&&this._head.value},Kt.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Gt(e,t)},Kt.prototype.pushAll=function(e){if(e=s(e),0===e.size)return this;de(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Gt(t,n)},Kt.prototype.pop=function(){return this.slice(1)},Kt.prototype.unshift=function(){return this.push.apply(this,arguments)},Kt.prototype.unshiftAll=function(e){return this.pushAll(e)},Kt.prototype.shift=function(){return this.pop.apply(this,arguments)},Kt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yt()},Kt.prototype.slice=function(e,t){if(v(e,t,this.size))return this;var n=g(e,this.size),s=b(t,this.size);if(s!==this.size)return ne.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Gt(r,o)},Kt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Gt(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Kt.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,s=this._head;s&&e(s.value,n++,this)!==!1;)s=s.next;return n},Kt.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,s=this._head;return new E(function(){if(s){var t=s.value;return s=s.next,j(e,n++,t)}return x()})},Kt.isStack=Jt;var rs="@@__IMMUTABLE_STACK__@@",os=Kt.prototype;os[rs]=!0,os.withMutations=Hn.withMutations,os.asMutable=Hn.asMutable,os.asImmutable=Hn.asImmutable,os.wasAltered=Hn.wasAltered;var is;t.Iterator=E,Qt(t,{toArray:function(){de(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new rt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new st(this,(!0))},toMap:function(){return ce(this.toKeyedSeq())},toObject:function(){de(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Ze(this.toKeyedSeq())},toOrderedSet:function(){return Ht(i(this)?this.valueSeq():this)},toSet:function(){return Lt(i(this)?this.valueSeq():this)},toSetSeq:function(){return new ot(this)},toSeq:function(){return a(this)?this.toIndexedSeq():i(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Kt(i(this)?this.valueSeq():this)},toList:function(){return Ve(i(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=ln.call(arguments,0);return It(this,_t(this,e))},includes:function(e){return this.some(function(t){return Y(t,e)})},entries:function(){return this.__iterator(jn)},every:function(e,t){de(this.size);var n=!0;return this.__iterate(function(s,r,o){if(!e.call(t,s,r,o))return n=!1,!1}),n},filter:function(e,t){return It(this,dt(this,e,t,!0))},find:function(e,t,n){var s=this.findEntry(e,t);return s?s[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(s,r,o){if(e.call(t,s,r,o))return n=[r,s],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return de(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){de(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(s){n?n=!1:t+=e,t+=null!==s&&void 0!==s?s.toString():""}),t},keys:function(){return this.__iterator(yn)},map:function(e,t){return It(this,lt(this,e,t))},reduce:function(e,t,n){de(this.size);var s,r;return arguments.length<2?r=!0:s=t,this.__iterate(function(t,o,i){r?(r=!1,s=t):s=e.call(n,s,t,o,i)}),s},reduceRight:function(e,t,n){var s=this.toKeyedSeq().reverse();return s.reduce.apply(s,arguments)},reverse:function(){return It(this,ut(this,!0))},slice:function(e,t){return It(this,pt(this,e,t,!0))},some:function(e,t){return!this.every(Xt(e),t)},sort:function(e){return It(this,yt(this,e))},values:function(){return this.__iterator(En)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return h(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return ct(this,e,t)},equals:function(e){return Q(this,e)},entrySeq:function(){var e=this;if(e._cache)return new M(e._cache);var t=e.toSeq().map(Zt).toIndexedSeq();return t.fromEntrySeq=function(){
return e.toSeq()},t},filterNot:function(e,t){return this.filter(Xt(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(_)},flatMap:function(e,t){return It(this,gt(this,e,t))},flatten:function(e){return It(this,vt(this,e,!0))},fromEntrySeq:function(){return new it(this)},get:function(e,t){return this.find(function(t,n){return Y(n,e)},void 0,t)},getIn:function(e,t){for(var n,s=this,r=Tt(e);!(n=r.next()).done;){var o=n.value;if(s=s&&s.get?s.get(o,vn):vn,s===vn)return t}return s},groupBy:function(e,t){return ft(this,e,t)},has:function(e){return this.get(e,vn)!==vn},hasIn:function(e){return this.getIn(e,vn)!==vn},isSubset:function(e){return e="function"==typeof e.includes?e:t(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e="function"==typeof e.isSubset?e:t(e),e.isSubset(this)},keySeq:function(){return this.toSeq().map($t).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return Et(this,e)},maxBy:function(e,t){return Et(this,t,e)},min:function(e){return Et(this,e?en(e):sn)},minBy:function(e,t){return Et(this,t?en(t):sn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return It(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return It(this,mt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Xt(e),t)},sortBy:function(e,t){return It(this,yt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return It(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return It(this,ht(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Xt(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=rn(this))}});var as=t.prototype;as[un]=!0,as[Sn]=as.values,as.__toJS=as.toArray,as.__toStringMapper=tn,as.inspect=as.toSource=function(){return this.toString()},as.chain=as.flatMap,as.contains=as.includes,function(){try{Object.defineProperty(as,"length",{get:function(){if(!t.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(e.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Qt(n,{flip:function(){return It(this,at(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return Y(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return Y(t,e)})},mapEntries:function(e,t){var n=this,s=0;return It(this,this.toSeq().map(function(r,o){return e.call(t,[o,r],s++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return It(this,this.toSeq().flip().map(function(s,r){return e.call(t,s,r,n)}).flip())}});var ls=n.prototype;ls[dn]=!0,ls[Sn]=as.entries,ls.__toJS=as.toObject,ls.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+tn(e)},Qt(s,{toKeyedSeq:function(){return new st(this,(!1))},filter:function(e,t){return It(this,dt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return It(this,ut(this,!1))},slice:function(e,t){return It(this,pt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=g(e,e<0?this.count():this.size);var s=this.slice(0,e);return It(this,1===n?s:s.concat(p(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return It(this,vt(this,e,!1))},get:function(e,t){return e=m(this,e),e<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=m(this,e),e>=0&&(void 0!==this.size?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return It(this,bt(this,e))},interleave:function(){var e=[this].concat(p(arguments)),t=xt(this.toSeq(),T.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),It(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return It(this,mt(this,e,t,!1))},zip:function(){var e=[this].concat(p(arguments));return It(this,xt(this,nn,e))},zipWith:function(e){var t=p(arguments);return t[0]=this,It(this,xt(this,e,t))}}),s.prototype[cn]=!0,s.prototype[fn]=!0,Qt(r,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),r.prototype.has=as.includes,Qt(P,n.prototype),Qt(T,s.prototype),Qt(O,r.prototype),Qt(te,n.prototype),Qt(ne,s.prototype),Qt(se,r.prototype);var us={Iterable:t,Seq:R,Collection:ee,Map:ce,OrderedMap:Ze,List:Ve,Stack:Kt,Set:Lt,OrderedSet:Ht,Record:Ot,Range:X,Repeat:$,is:Y,fromJS:B};return us})},"./node_modules/react-pure-render/function.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return!(0,i.default)(this.props,e)||!(0,i.default)(this.state,t)}t.__esModule=!0,t.default=r;var o=n("./node_modules/react-pure-render/shallowEqual.js"),i=s(o);e.exports=t.default},"./node_modules/react-pure-render/mixin.js":function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n("./node_modules/react-pure-render/function.js"),o=s(r);t.default={shouldComponentUpdate:o.default},e.exports=t.default},"./node_modules/title-case-minors/index.js":function(e,t){e.exports=["a","an","and","as","at","but","by","en","for","from","how","if","in","neither","nor","of","on","only","onto","out","or","per","so","than","that","the","to","until","up","upon","v","v.","versus","vs","vs.","via","when","with","without","yet"]},"./node_modules/to-capital-case/index.js":function(e,t,n){function s(e){return r(e).replace(/(^|\s)(\w)/g,function(e,t,n){return t+n.toUpperCase()})}var r=n("./node_modules/to-capital-case/node_modules/to-no-case/index.js");e.exports=s},"./node_modules/to-capital-case/node_modules/to-no-case/index.js":function(e,t){function n(e){return o.test(e)?e.toLowerCase():(a.test(e)&&(e=s(e)),i.test(e)&&(e=r(e)),e.toLowerCase())}function s(e){return e.replace(l,function(e,t){return t?" "+t:""})}function r(e){return e.replace(u,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}e.exports=n;var o=/\s/,i=/[a-z][A-Z]/,a=/[\W_]/,l=/[\W_]+(.|$)/g,u=/(.)([A-Z]+)/g},"./node_modules/to-title-case/index.js":function(e,t,n){function s(e){return o(e).replace(l,function(e){return e.toLowerCase()}).replace(u,function(e){return e.toUpperCase()})}try{var r=n("./node_modules/escape-regexp/index.js")}catch(e){var r=n("./node_modules/escape-regexp-component/index.js")}var o=n("./node_modules/to-capital-case/index.js"),i=n("./node_modules/title-case-minors/index.js");e.exports=s;var a=i.map(r),l=new RegExp("[^^]\\b("+a.join("|")+")\\b","ig"),u=/:\s*(\w)/g}});