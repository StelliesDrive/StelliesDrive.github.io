webpackJsonp(["async-load-post-editor-editor-post-formats-accordion"],{"./client/components/data/query-post-formats/index.jsx":function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o(r),n=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),l=o(n),u=s("./node_modules/babel-runtime/helpers/createClass.js"),d=o(u),i=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=o(i),m=s("./node_modules/babel-runtime/helpers/inherits.js"),f=o(m),p=s("./node_modules/prop-types/index.js"),_=o(p),j=s("./node_modules/react/react.js"),b=s("./node_modules/react-redux/es/index.js"),h=s("./client/state/post-formats/selectors.js"),g=s("./client/state/post-formats/actions.js"),F=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId!==e.siteId&&this.request(e)}},{key:"request",value:function(e){e.requestingPostFormats||e.requestPostFormats(e.siteId)}},{key:"render",value:function(){return null}}]),t}(j.Component);F.propTypes={siteId:_.default.number.isRequired,requestingPostFormats:_.default.bool,requestPostFormats:_.default.func},t.default=(0,b.connect)(function(e,t){return{requestingPostFormats:(0,h.isRequestingPostFormats)(e,t.siteId)}},{requestPostFormats:g.requestPostFormats})(F),e.exports=t.default},"./client/post-editor/editor-post-formats/accordion.jsx":function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o(r),n=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),l=o(n),u=s("./node_modules/babel-runtime/helpers/createClass.js"),d=o(u),i=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=o(i),m=s("./node_modules/babel-runtime/helpers/inherits.js"),f=o(m),p=s("./node_modules/prop-types/index.js"),_=o(p),j=s("./node_modules/i18n-calypso/index.js"),b=s("./node_modules/react/react.js"),h=o(b),g=s("./node_modules/react-redux/es/index.js"),F=s("./node_modules/lodash/lodash.js"),v=s("./node_modules/classnames/index.js"),P=o(v),y=s("./client/components/accordion/index.jsx"),x=o(y),E=s("./client/components/data/query-post-formats/index.jsx"),S=o(E),I=s("./client/post-editor/editor-post-formats/index.jsx"),C=o(I),q=s("./client/state/ui/selectors.js"),R=s("./client/state/post-formats/selectors.js"),k=s("./client/state/selectors/get-site-default-post-format.js"),T=o(k),M=function(e){function t(){var e,s,o,r;(0,l.default)(this,t);for(var n=arguments.length,u=Array(n),d=0;d<n;d++)u[d]=arguments[d];return s=o=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(u))),o.getFormatValue=function(){var e=o.props,t=e.post,s=e.defaultPostFormat;if(t)return t.format?t.format:s},o.getSubtitle=function(){var e=o.getFormatValue(),t=o.props,s=t.post,r=t.postFormats;if(s&&r)return(0,F.has)(r,e)?r[e]:o.props.translate("Standard",{context:"Post format"})},r=s,(0,c.default)(o,r)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,s=e.post,o=e.postFormats,r=(0,P.default)("editor-post-formats__accordion",t,{"is-loading":!s||!o});return h.default.createElement("div",null,h.default.createElement(S.default,{siteId:this.props.siteId}),!(0,F.isEmpty)(o)&&h.default.createElement(x.default,{title:this.props.translate("Post Format"),subtitle:this.getSubtitle(),className:r,e2eTitle:"post-format"},h.default.createElement(C.default,{value:this.getFormatValue()})))}}]),t}(h.default.Component);M.propTypes={siteId:_.default.number,site:_.default.object,post:_.default.object,postFormats:_.default.object,defaultPostFormat:_.default.string},t.default=(0,g.connect)(function(e){var t=(0,q.getSelectedSiteId)(e);return{siteId:t,site:(0,q.getSelectedSite)(e),postFormats:(0,R.getPostFormats)(e,t),defaultPostFormat:(0,T.default)(e,t)}})((0,j.localize)(M)),e.exports=t.default},"./client/post-editor/editor-post-formats/index.jsx":function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s("./node_modules/babel-runtime/core-js/object/assign.js"),a=o(r),n=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=o(n),u=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),d=o(u),i=s("./node_modules/babel-runtime/helpers/createClass.js"),c=o(i),m=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=o(m),p=s("./node_modules/babel-runtime/helpers/inherits.js"),_=o(p),j=s("./node_modules/prop-types/index.js"),b=o(j),h=s("./node_modules/i18n-calypso/index.js"),g=s("./node_modules/react/react.js"),F=o(g),v=s("./node_modules/react-redux/es/index.js"),P=s("./node_modules/lodash/lodash.js"),y=s("./node_modules/gridicons/build/index.js"),x=o(y),E=s("./client/components/forms/form-radio/index.jsx"),S=o(E),I=s("./client/components/data/query-post-formats/index.jsx"),C=o(I),q=s("./client/lib/posts/actions.js"),R=o(q),k=s("./client/lib/posts/stats.js"),T=s("./client/components/accordion/section.jsx"),M=o(T),O=s("./client/post-editor/editor-theme-help/index.jsx"),A=o(O),N=s("./client/state/ui/selectors.js"),U=s("./client/state/post-formats/selectors.js"),V=function(e){function t(){var e,s,o,r;(0,d.default)(this,t);for(var n=arguments.length,u=Array(n),i=0;i<n;i++)u[i]=arguments[i];return s=o=(0,f.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(u))),o.getSelectedPostFormat=function(){var e=o.props.value,t=!!o.getPostFormats()[e];return t?e:"standard"},o.getPostFormats=function(){var e={standard:o.props.translate("Standard",{context:"Post format"})};return o.props.postFormats&&(e=(0,a.default)(e,o.props.postFormats)),e},o.getPostFormatIcon=function(e){var t={aside:"aside",image:"image",video:"video-camera",quote:"quote",link:"link",gallery:"image-multiple",status:"pencil",audio:"audio",chat:"comment"};return t[e]?t[e]:"posts"},o.onChange=function(e){R.default.edit({format:e.target.value}),(0,k.recordStat)("post_format_changed"),(0,k.recordEvent)("Changed Post Format",e.target.value)},o.renderPostFormats=function(){var e=o.getSelectedPostFormat();return(0,P.map)(o.getPostFormats(),function(t,s){return F.default.createElement("li",{key:s,className:"editor-post-formats__format"},F.default.createElement("label",null,F.default.createElement(S.default,{name:"format",value:s,checked:s===e,onChange:o.onChange}),F.default.createElement("span",{className:"editor-post-formats__format-label"},F.default.createElement("span",{className:"editor-post-formats__format-icon"},F.default.createElement(x.default,{icon:o.getPostFormatIcon(s),size:18})),t)))})},r=s,(0,f.default)(o,r)}return(0,_.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return F.default.createElement(M.default,null,F.default.createElement(A.default,{className:"editor-post-formats__help-link"}),F.default.createElement(C.default,{siteId:this.props.siteId}),F.default.createElement("ul",{className:"editor-post-formats"},this.renderPostFormats()))}}]),t}(F.default.Component);V.propTypes={siteId:b.default.number,value:b.default.string,postFormats:b.default.object},V.defaultProps={value:"standard"},t.default=(0,v.connect)(function(e){var t=(0,N.getSelectedSiteId)(e);return{siteId:t,postFormats:(0,U.getPostFormats)(e,t)}})((0,h.localize)(V)),e.exports=t.default},"./client/state/post-formats/actions.js":function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(t){return t({type:l.POST_FORMATS_REQUEST,siteId:e}),n.default.undocumented().site(e).postFormatsList().then(function(s){var o=s.formats;t({type:l.POST_FORMATS_RECEIVE,siteId:e,formats:o}),t({type:l.POST_FORMATS_REQUEST_SUCCESS,siteId:e})}).catch(function(s){t({type:l.POST_FORMATS_REQUEST_FAILURE,siteId:e,error:s})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.requestPostFormats=r;var a=s("./client/lib/wp/browser.js"),n=o(a),l=s("./client/state/action-types.js")},"./client/state/post-formats/selectors.js":function(e,t,s){"use strict";function o(e,t){return!!e.postFormats.requesting[t]}function r(e,t){return e.postFormats.items[t]||null}Object.defineProperty(t,"__esModule",{value:!0}),t.isRequestingPostFormats=o,t.getPostFormats=r}});