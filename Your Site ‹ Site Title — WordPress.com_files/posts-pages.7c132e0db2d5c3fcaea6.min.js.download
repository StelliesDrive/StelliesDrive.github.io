webpackJsonp(["posts-pages"],{"./client/blocks/calendar-button/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/assign.js"),i=n(l),r=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/createClass.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=n(m),g=s("./node_modules/babel-runtime/helpers/inherits.js"),_=n(g),b=s("./node_modules/prop-types/index.js"),v=n(b),y=s("./node_modules/react/react.js"),j=n(y),x=s("./node_modules/gridicons/build/index.js"),P=n(x),E=s("./node_modules/classnames/index.js"),C=n(E),S=s("./node_modules/lodash/lodash.js"),I=s("./client/components/button/index.jsx"),k=n(I),w=s("./client/components/async-load/index.jsx"),T=n(w),N=function(e){s.e("async-load-blocks-calendar-popover").then(function(t){e(s("./client/blocks/calendar-popover/index.jsx").__esModule?s("./client/blocks/calendar-popover/index.jsx").default:s("./client/blocks/calendar-popover/index.jsx"))}.bind(null,s)).catch(s.oe)},R=function(e){function t(){var e,s,n,o;(0,c.default)(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return s=n=(0,h.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.state={showPopover:!1},n.setDate=function(e){n.setState({date:e}),n.props.onDateChange(e)},n.closePopover=function(){n.setState({showPopover:!1}),n.props.onClose()},n.togglePopover=function(){return n.props.disabled?null:n.setState({showPopover:!n.state.showPopover})},n.setPopoverReference=function(e){return n.reference=e},o=s,(0,h.default)(n,o)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"renderCalendarPopover",value:function(){var e=this.state.showPopover;if(!e)return null;var t=(0,i.default)({},(0,S.pick)(this.props,["autoPosition","closeOnEsc","disabledDays","events","enableOutsideDays","ignoreContext","isVisible","modifiers","rootClassName","selectedDay","showDelay","siteId","onDateChange","onMonthChange","onDayMouseEnter","onDayMouseLeave","onShow","onClose"]));return j.default.createElement(T.default,(0,a.default)({},t,{require:N,context:this.reference,isVisible:e,position:this.props.popoverPosition,onClose:this.closePopover}))}},{key:"renderCalendarContent",value:function(){return this.props.children?this.props.children:j.default.createElement(P.default,{icon:this.props.icon})}},{key:"render",value:function(){var e=(0,i.default)({},(0,S.pick)(this.props,["compact","disabled","primary","scary","busy","href","borderless","target","rel"]));return j.default.createElement(k.default,(0,a.default)({},e,{className:(0,C.default)("calendar-button",this.props.className),ref:this.setPopoverReference,onClick:this.togglePopover}),this.renderCalendarContent(),this.renderCalendarPopover())}}]),t}(y.Component);R.propTypes={icon:v.default.string,popoverPosition:v.default.string,type:v.default.string,autoPosition:v.default.bool,closeOnEsc:v.default.bool,disabledDays:v.default.array,events:v.default.array,ignoreContext:v.default.shape({getDOMNode:v.default.function}),isVisible:v.default.bool,rootClassName:v.default.string,selectedDay:v.default.object,showDelay:v.default.number,siteId:v.default.number,onClose:v.default.func,onDateChange:v.default.func,onDayMouseEnter:v.default.func,onDayMouseLeave:v.default.func,onMonthChange:v.default.func,onShow:v.default.func},R.defaultProps={icon:"calendar",type:"button",popoverPosition:"bottom",onDateChange:S.noop,onDayMouseEnter:S.noop,onDayMouseLeave:S.noop,onClose:S.noop},t.default=R,e.exports=t.default},"./client/blocks/comments/comment-count.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/prop-types/index.js"),a=n(o),l=s("./node_modules/react/react.js"),i=n(l),r=s("./node_modules/i18n-calypso/index.js"),u=function(e){var t=e.count,s=e.translate,n=void 0;return n=t>0?s("%(commentCount)d comment","%(commentCount)d comments",{count:t,args:{commentCount:t}}):s("No comments"),i.default.createElement("div",{className:"comments__comment-count"},i.default.createElement("span",{className:"comments__comment-count-phrase"},n),0===t&&s(" - Add the first! "))};u.propTypes={count:a.default.number.isRequired},t.default=(0,r.localize)(u),e.exports=t.default},"./client/blocks/comments/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./client/blocks/comments/post-comment-list.jsx"),a=n(o);t.default=a.default,e.exports=t.default},"./client/blocks/comments/post-comment-list.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/react-redux/es/index.js"),v=s("./node_modules/i18n-calypso/index.js"),y=s("./node_modules/lodash/lodash.js"),j=s("./client/state/selectors/get-active-reply-comment-id.js"),x=n(j),P=s("./client/state/comments/selectors.js"),E=s("./client/state/comments/actions.js"),C=s("./client/state/comments/constants.js"),S=s("./client/reader/stats.js"),I=s("./client/blocks/comments/post-comment.jsx"),k=n(I),w=s("./client/blocks/comments/form-root.jsx"),T=n(w),N=s("./client/blocks/comments/comment-count.jsx"),R=n(N),D=s("./client/components/segmented-control/index.jsx"),M=n(D),L=s("./client/components/segmented-control/item.jsx"),O=n(L),A=s("./client/blocks/conversation-follow-button/index.jsx"),U=n(A),q=s("./client/blocks/conversation-follow-button/helper.js"),H=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),n.state={amountOfCommentsToTake:n.props.initialSize,commentsFilter:"all",activeEditCommentId:null},n.shouldScrollToComment=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props;return!!(e.startingCommentId&&e.commentsTree[n.props.startingCommentId]&&e.commentsFetchingStatus.hasReceivedBefore&&e.commentsFetchingStatus.hasReceivedAfter&&!n.hasScrolledToComment&&window.document.getElementById("comment-"+e.startingCommentId))},n.shouldFetchInitialComment=function(e){var t=e.startingCommentId,s=e.initialComment;return!(!t||s)},n.shouldFetchInitialPages=function(e){var t=e.startingCommentId,s=e.commentsTree;return t&&s[t]&&n.props.commentsTree[t]&&!n.alreadyLoadedInitialSet},n.shouldNormalFetchAfterPropsChange=function(e){var t=(0,y.get)(n.props,"post.site_ID"),s=(0,y.get)(n.props,"post.ID"),o=n.props.commentsFilter,a=n.props.initialComment,l=(0,y.get)(e,"post.site_ID"),i=(0,y.get)(e,"post.ID"),r=e.commentsFilter,u=e.initialComment,d=l&&i&&r,c=t!==l||s!==i||o!==r,p=a!==u&&u&&(u.error||u.post&&u.post.ID!==i);return d&&c||p},n.renderComment=function(e){if(!e)return null;var t=n.onEditCommentClick.bind(n,e);return _.default.createElement(k.default,{post:n.props.post,commentsTree:n.props.commentsTree,commentId:e,key:e,showModerationTools:n.props.showModerationTools,activeEditCommentId:n.state.activeEditCommentId,activeReplyCommentId:n.props.activeReplyCommentId,onEditCommentClick:t,onEditCommentCancel:n.onEditCommentCancel,onReplyClick:n.onReplyClick,onReplyCancel:n.onReplyCancel,commentText:n.commentText,onUpdateCommentText:n.onUpdateCommentText,onCommentSubmit:n.resetActiveReplyComment,depth:0,maxDepth:n.props.maxDepth,showNestingReplyArrow:n.props.showNestingReplyArrow})},n.onEditCommentClick=function(e){n.setState({activeEditCommentId:e})},n.onEditCommentCancel=function(){return n.setState({activeEditCommentId:null})},n.onReplyClick=function(e){n.setActiveReplyComment(e),(0,S.recordAction)("comment_reply_click"),(0,S.recordGaEvent)("Clicked Reply to Comment"),(0,S.recordTrack)("calypso_reader_comment_reply_click",{blog_id:n.props.post.site_ID,comment_id:e})},n.onReplyCancel=function(){n.setState({commentText:null}),(0,S.recordAction)("comment_reply_cancel_click"),(0,S.recordGaEvent)("Clicked Cancel Reply to Comment"),(0,S.recordTrack)("calypso_reader_comment_reply_cancel_click",{blog_id:n.props.post.site_ID,comment_id:n.state.activeReplyCommentId}),n.resetActiveReplyComment()},n.onUpdateCommentText=function(e){n.setState({commentText:e})},n.setActiveReplyComment=function(e){var t=(0,y.get)(n.props,"post.site_ID"),s=(0,y.get)(n.props,"post.ID");t&&s&&n.props.setActiveReply({siteId:t,postId:s,commentId:e})},n.resetActiveReplyComment=function(){n.setActiveReplyComment(null)},n.renderCommentsList=function(e){return _.default.createElement("ol",{className:"comments__list is-root"},e.map(function(e){return n.renderComment(e)}))},n.scrollToComment=function(){var e=window.document.getElementById(window.location.hash.substring(1));e.scrollIntoView(),window.scrollBy(0,-50),n.hasScrolledToComment=!0},n.getCommentsCount=function(e){return e.reduce(function(e,t){return e+n.getCommentsCount((0,y.get)(n.props.commentsTree,[t,"children"]))+1},0)},n.getDisplayedComments=function(e,t){if(!e)return null;var s=(0,y.takeRight)(e,t);return{displayedComments:s,displayedCommentsCount:n.getCommentsCount(s)}},n.viewEarlierCommentsHandler=function(){var e=n.props.commentsFetchingStatus.haveEarlierCommentsToFetch?"before":"after";n.loadMoreCommentsHandler(e)},n.viewLaterCommentsHandler=function(){var e=n.props.commentsFetchingStatus.haveLaterCommentsToFetch?"after":"before";n.loadMoreCommentsHandler(e)},n.loadMoreCommentsHandler=function(e){var t=n.props,s=t.post,o=s.ID,a=s.site_ID,l=t.commentsFilter,i=n.state.amountOfCommentsToTake+n.props.pageSize;n.setState({amountOfCommentsToTake:i}),n.props.requestPostComments({siteId:a,postId:o,status:l,direction:e})},n.handleFilterClick=function(e){return function(){return n.props.onFilterChange(e)}},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.post,s=t.ID,n=t.site_ID,o=e.commentsFilter;this.shouldFetchInitialComment(this.props)?this.props.requestComment({siteId:n,commentId:this.props.startingCommentId}):this.shouldFetchInitialPages(this.props)?(this.viewEarlierCommentsHandler(),this.viewLaterCommentsHandler(),this.alreadyLoadedInitialSet=!0):this.props.requestPostComments({siteId:n,postId:s,status:o})}},{key:"componentDidMount",value:function(){this.resetActiveReplyComment()}},{key:"componentWillReceiveProps",value:function(e){var t=this,s=(0,y.get)(e,"post.site_ID"),n=(0,y.get)(e,"post.ID"),o=(0,y.get)(e,"commentsFilter");this.shouldFetchInitialComment(e)?(this.props.commentsTree?this.viewEarlierCommentsHandler():this.props.requestComment({siteId:s,commentId:e.startingCommentId}),this.hasScrolledToComment=!1):this.shouldFetchInitialPages(e)?(this.viewEarlierCommentsHandler(),this.viewLaterCommentsHandler(),this.alreadyLoadedInitialSet=!0):this.shouldNormalFetchAfterPropsChange(e)&&e.requestPostComments({siteId:s,postId:n,status:o}),(0,y.delay)(function(){t.shouldScrollToComment(e)&&(0,y.delay)(function(){return t.scrollToComment()},50)},50)}},{key:"render",value:function(){if(!this.props.commentsTree)return null;var e=this.props,t=e.post,s=t.ID,n=t.site_ID,o=e.commentsFilter,a=e.commentsTree,l=e.showFilters,i=e.commentCount,r=this.props.commentsFetchingStatus,u=r.haveEarlierCommentsToFetch,d=r.haveLaterCommentsToFetch,c=this.props.startingCommentId?1/0:this.state.amountOfCommentsToTake,p=this.getDisplayedComments(a.children,c),f=p.displayedComments,m=p.displayedCommentsCount,h=(0,y.size)(a.children)>c||u||d,g=u||d?i:this.getCommentsCount(a.children),b=this.props.showConversationFollowButton&&(0,q.shouldShowConversationFollowButton)(this.props.post);return _.default.createElement("div",{className:"comments__comment-list"},b&&_.default.createElement(U.default,{className:"comments__conversation-follow-button",siteId:n,postId:s}),(this.props.showCommentCount||h)&&_.default.createElement("div",{className:"comments__info-bar"},this.props.showCommentCount&&_.default.createElement(R.default,{count:g}),h?_.default.createElement("span",{className:"comments__view-more",onClick:this.viewEarlierCommentsHandler},(0,v.translate)("Load more comments (Showing %(shown)d of %(total)d)",{args:{shown:m,total:g}})):null),l&&_.default.createElement(M.default,{compact:!0,primary:!0},_.default.createElement(O.default,{selected:"all"===o,onClick:this.handleFilterClick("all")},(0,v.translate)("All")),_.default.createElement(O.default,{selected:"approved"===o,onClick:this.handleFilterClick("approved")},(0,v.translate)("Approved",{context:"comment status"})),_.default.createElement(O.default,{selected:"unapproved"===o,onClick:this.handleFilterClick("unapproved")},(0,v.translate)("Pending",{context:"comment status"})),_.default.createElement(O.default,{selected:"spam"===o,onClick:this.handleFilterClick("spam")},(0,v.translate)("Spam",{context:"comment status"})),_.default.createElement(O.default,{selected:"trash"===o,onClick:this.handleFilterClick("trash")},(0,v.translate)("Trash",{context:"comment status"}))),this.renderCommentsList(f),h&&this.props.startingCommentId&&_.default.createElement("span",{className:"comments__view-more",onClick:this.viewLaterCommentsHandler},(0,v.translate)("Load more comments (Showing %(shown)d of %(total)d)",{args:{shown:m,total:g}})),_.default.createElement(T.default,{post:this.props.post,commentsTree:this.props.commentsTree,commentText:this.state.commentText,onUpdateCommentText:this.onUpdateCommentText,activeReplyCommentId:this.props.activeReplyCommentId}))}}]),t}(_.default.Component);H.propTypes={post:h.default.shape({ID:h.default.number.isRequired,site_ID:h.default.number.isRequired}).isRequired,pageSize:h.default.number,initialSize:h.default.number,showCommentCount:h.default.bool,startingCommentId:h.default.number,commentCount:h.default.number,maxDepth:h.default.number,showNestingReplyArrow:h.default.bool,showConversationFollowButton:h.default.bool,commentsFilter:h.default.string,commentsFilterDisplay:h.default.string,commentsTree:h.default.object,requestPostComments:h.default.func.isRequired,requestComment:h.default.func.isRequired},H.defaultProps={pageSize:C.NUMBER_OF_COMMENTS_PER_FETCH,initialSize:C.NUMBER_OF_COMMENTS_PER_FETCH,showCommentCount:!0,maxDepth:1/0,showNestingReplyArrow:!1,showConversationFollowButton:!1},t.default=(0,b.connect)(function(e,t){return{commentsTree:(0,P.getPostCommentsTree)(e,t.post.site_ID,t.post.ID,t.commentsFilterDisplay?t.commentsFilterDisplay:t.commentsFilter),commentsFetchingStatus:(0,P.commentsFetchingStatus)(e,t.post.site_ID,t.post.ID,t.commentCount),initialComment:(0,P.getCommentById)({state:e,siteId:t.post.site_ID,commentId:t.startingCommentId}),activeReplyCommentId:(0,x.default)({state:e,siteId:t.post.site_ID,postId:t.post.ID})}},{requestPostComments:E.requestPostComments,requestComment:E.requestComment,setActiveReply:E.setActiveReply})(H),e.exports=t.default},"./client/blocks/post-actions/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/prop-types/index.js"),a=n(o),l=s("./node_modules/react/react.js"),i=n(l),r=s("./node_modules/react-redux/es/index.js"),u=s("./node_modules/redux/lib/index.js"),d=s("./node_modules/lodash/lodash.js"),c=s("./node_modules/classnames/index.js"),p=n(c),f=s("./node_modules/i18n-calypso/index.js"),m=s("./client/config/index.js"),h=n(m),g=s("./client/state/analytics/actions.js"),_=s("./client/my-sites/post-relative-time-status/index.jsx"),b=n(_),v=s("./client/blocks/comment-button/index.jsx"),y=n(v),j=s("./client/my-sites/post-like-button/index.jsx"),x=n(j),P=s("./client/my-sites/posts/post-total-views.jsx"),E=n(P),C=s("./client/state/selectors/can-current-user.js"),S=n(C),I=s("./client/state/sites/selectors.js"),k=s("./client/state/ui/editor/selectors.js"),w=function(e,t,s){var n=s.URL,o="_blank";return(0,S.default)(e,t,"edit_post")&&"trash"!==s.status?(n=(0,k.getEditorPath)(e,t,s.ID),o=null):"trash"===s.status&&(n=null),{contentLinkURL:n,contentLinkTarget:o}},T=(0,d.partial)(g.recordGoogleEvent,"Posts"),N=function(e){var t=e.className,s=e.contentLink,n=e.post,o=e.showComments,a=e.showLikes,l=e.showStats,r=e.siteSlug,u=e.toggleComments,d=e.trackRelativeTimeStatusOnClick,c=e.trackTotalViewsOnClick,f=s.contentLinkURL,m=s.contentLinkTarget,g="draft"===n.status;return i.default.createElement("ul",{className:(0,p.default)("post-actions",t)},i.default.createElement("li",{className:"post-actions__item post-actions__relative-time"},i.default.createElement(b.default,{post:n,link:f,target:m,onClick:d})),!g&&o&&i.default.createElement("li",{className:"post-actions__item"},h.default.isEnabled("comments/management/post-view")?i.default.createElement(y.default,{key:"comment-button",post:n,showLabel:!1,commentCount:n.discussion.comment_count,tagName:"a",href:"/comments/all/"+r+"/"+n.ID}):i.default.createElement(y.default,{key:"comment-button",post:n,showLabel:!1,commentCount:n.discussion.comment_count,onClick:u,tagName:"div"})),!g&&a&&i.default.createElement("li",{className:"post-actions__item"},i.default.createElement(x.default,{key:"like-button",siteId:+n.site_ID,postId:+n.ID,post:n})),!g&&l&&i.default.createElement("li",{className:"post-actions__item post-actions__total-views"},i.default.createElement(E.default,{post:n,clickHandler:c})))};N.propTypes={className:a.default.string,post:a.default.object.isRequired,siteId:a.default.number.isRequired,toggleComments:a.default.func.isRequired,trackRelativeTimeStatusOnClick:a.default.func,trackTotalViewsOnClick:a.default.func};var R=function(e,t){var s=t.siteId,n=t.post,o=(0,I.isJetpackSite)(e,s),a=(0,I.getSiteSlug)(e,s),l=(!o||(0,I.isJetpackModuleActive)(e,s,"comments"))&&n.discussion&&n.discussion.comments_open,i=!o||(0,I.isJetpackModuleActive)(e,s,"likes"),r=(0,S.default)(e,s,"view_stats")&&(!o||(0,I.isJetpackModuleActive)(e,s,"stats"));return{contentLink:w(e,s,n),showComments:l,showLikes:i,showStats:r,siteSlug:a}},D=function(e){return(0,u.bindActionCreators)({trackRelativeTimeStatusOnClick:function(){return T("Clicked Post Date")},trackTotalViewsOnClick:function(){return T("Clicked View Post Stats")}},e)};t.default=(0,r.connect)(R,D)((0,f.localize)(N)),e.exports=t.default},"./client/blocks/post-item/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/classnames/index.js"),v=n(b),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/i18n-calypso/index.js"),x=s("./client/lib/abtest/index.js"),P=s("./client/config/index.js"),E=s("./client/state/ui/editor/selectors.js"),C=s("./client/state/ui/selectors.js"),S=s("./client/state/posts/selectors.js"),I=s("./client/state/sites/selectors.js"),k=s("./client/state/selectors/are-all-sites-single-user.js"),w=n(k),T=s("./client/state/selectors/can-current-user-edit-post.js"),N=n(T),R=s("./client/state/ui/post-type-list/selectors.js"),D=s("./client/state/ui/post-type-list/actions.js"),M=s("./client/components/external-link/index.jsx"),L=n(M),O=s("./client/components/forms/form-checkbox/index.jsx"),A=n(O),U=s("./client/blocks/post-time/index.jsx"),q=n(U),H=s("./client/blocks/post-status/index.jsx"),F=n(H),z=s("./client/blocks/post-share/index.jsx"),B=n(z),W=s("./client/my-sites/post-type-list/post-thumbnail.jsx"),V=n(W),G=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/index.jsx"),Q=n(G),K=s("./client/my-sites/post-type-list/post-type-site-info/index.jsx"),Z=n(K),Y=s("./client/my-sites/post-type-list/post-type-post-author/index.jsx"),J=n(Y),$=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),n.hideCurrentSharePanel=function(){n.props.hideSharePanel(n.props.globalId)},n.toggleCurrentPostSelection=function(e){n.props.togglePostSelection(n.props.globalId),e.stopPropagation()},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"inAllSitesModeWithMultipleUsers",value:function(){return this.props.isAllSitesModeSelected&&!this.props.allSitesSingleUser&&!this.props.singleUserQuery}},{key:"inSingleSiteModeWithMultipleUsers",value:function(){return!this.props.isAllSitesModeSelected&&!this.props.singleUserSite&&!this.props.singleUserQuery}},{key:"hasMultipleUsers",value:function(){return this.inAllSitesModeWithMultipleUsers()||this.inSingleSiteModeWithMultipleUsers()}},{key:"renderSelectionCheckbox",value:function(){var e=this.props,t=e.multiSelectEnabled,s=e.isCurrentPostSelected;return t&&h.default.createElement("div",{className:"post-item__select",onClick:this.toggleCurrentPostSelection},h.default.createElement(A.default,{checked:s,onClick:this.toggleCurrentPostSelection}))}},{key:"renderExpandedContent",value:function(){var e=this.props,t=e.post,s=e.isCurrentSharePanelOpen;return t&&s?h.default.createElement(B.default,{post:t,siteId:t.site_ID,showClose:!0,onClose:this.hideCurrentSharePanel}):null}},{key:"render",value:function(){var e=this.props,t=e.className,s=e.post,n=e.externalPostLink,o=e.postUrl,a=e.globalId,l=e.isAllSitesModeSelected,i=e.translate,r=s?s.title:null,u=!a,d=(0,v.default)("post-item__panel",t,{"is-untitled":!r,"is-placeholder":u}),c=(0,P.isEnabled)("posts/post-type-list")&&"condensedPosts"===(0,x.abtest)("condensedPostList"),p=c&&l,f=c&&this.hasMultipleUsers()&&s&&s.author,m=this.renderExpandedContent(),g=(0,v.default)("post-item",{"is-expanded":!!m});return h.default.createElement("div",{className:g,ref:this.setDomNode},h.default.createElement("div",{className:d},this.renderSelectionCheckbox(),h.default.createElement("div",{className:"post-item__detail"},h.default.createElement("div",{className:"post-item__info"},p&&h.default.createElement(Z.default,{globalId:a}),f&&h.default.createElement(J.default,{globalId:a})),h.default.createElement("h1",{className:"post-item__title"},!n&&h.default.createElement("a",{href:u?null:o,className:"post-item__title-link"},r||i("Untitled")),!u&&n&&h.default.createElement(L.default,{icon:!0,href:o,target:"_blank",className:"post-item__title-link"},r||i("Untitled"))),h.default.createElement("div",{className:"post-item__meta"},h.default.createElement(q.default,{globalId:a}),h.default.createElement(F.default,{globalId:a}))),h.default.createElement(V.default,{globalId:a}),h.default.createElement(Q.default,{globalId:a})),m)}}]),t}(h.default.Component);$.propTypes={translate:_.default.func,globalId:_.default.string,post:_.default.object,canEdit:_.default.bool,postUrl:_.default.string,isAllSitesModeSelected:_.default.bool,allSitesSingleUser:_.default.bool,singleUserSite:_.default.bool,singleUserQuery:_.default.bool,className:_.default.string,compact:_.default.bool,isCurrentSharePanelOpen:_.default.bool,hideSharePanel:_.default.func},t.default=(0,y.connect)(function(e,t){var s=t.globalId,n=(0,S.getNormalizedPost)(e,s);if(!n)return{};var o=n.site_ID,a=!1===(0,N.default)(e,s),l=a?n.URL:(0,E.getEditorPath)(e,o,n.ID);return{post:n,externalPostLink:a,postUrl:l,isAllSitesModeSelected:null===(0,C.getSelectedSiteId)(e),allSitesSingleUser:(0,w.default)(e),singleUserSite:(0,I.isSingleUserSite)(e,o),isCurrentSharePanelOpen:(0,R.isSharePanelOpen)(e,s),isCurrentPostSelected:(0,R.isPostSelected)(e,s),multiSelectEnabled:(0,R.isMultiSelectEnabled)(e)}},{hideSharePanel:D.hideSharePanel,togglePostSelection:D.togglePostSelection})((0,j.localize)($)),e.exports=t.default},"./client/blocks/post-share/connection.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/defineProperty.js"),a=n(o),l=s("./node_modules/react/react.js"),i=n(l),r=s("./client/lib/css-safe-url/index.js"),u=n(r),d=s("./client/components/forms/form-toggle/compact.jsx"),c=n(d),p=s("./node_modules/classnames/index.js"),f=n(p),m=s("./node_modules/social-logos/build/index.js"),h=n(m),g=function(e){var t,s=e.connection,n=e.isActive,o=e.onToggle,l=s.external_display,r=s.external_profile_picture,d=s.keyring_connection_ID,p=s.service,m=function(){return o(d)},g=(0,f.default)((t={"post-share__service":!0},(0,a.default)(t,p,!0),(0,a.default)(t,"is-active",n),(0,a.default)(t,"is-broken","broken"===status),t)),_={};return r?_.backgroundImage="url( "+(0,u.default)(r)+" )":_.backgroundColor="rgb( 168, 190, 206 )",i.default.createElement("div",{onClick:m,className:g},i.default.createElement("div",{className:"post-share__service-account-image",style:_}," "),i.default.createElement("div",{className:"post-share__service-account-social-logo"},i.default.createElement(h.default,{icon:"google_plus"===p?"google-plus":p})),i.default.createElement("div",{className:"post-share__service-account-name"},i.default.createElement("span",null,l)),i.default.createElement(c.default,{checked:n}))};t.default=g,e.exports=t.default},"./client/blocks/post-share/connections-list.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NoConnectionsNotice=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/i18n-calypso/index.js"),v=s("./client/blocks/post-share/connection.jsx"),y=n(v),j=s("./client/components/notice/index.jsx"),x=n(j),P=s("./client/components/notice/notice-action.jsx"),E=n(P),C=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"renderEmptyPlaceholder",value:function(){return _.default.createElement("div",{className:"post-share__main"},_.default.createElement("div",{className:"post-share__form is-placeholder"}),_.default.createElement("div",{className:"post-share__services is-placeholder"}))}},{key:"render",value:function(){var e=this.props,t=e.connections,s=e.onToggle,n=e.siteId;return n&&t.length?this.props.hasFetchedConnections?_.default.createElement("div",{className:"post-share__connections"},t.map(function(e){return _.default.createElement(y.default,{connection:e,onToggle:s,isActive:e.isActive,key:e.keyring_connection_ID})})):this.renderEmptyPlaceholder():null}}]),t}(g.PureComponent);C.propTypes={connections:h.default.array,onToggle:h.default.func,siteId:h.default.number,siteSlug:h.default.string,moment:h.default.func,numberFormat:h.default.func,translater:h.default.func},C.defaultProps={connections:[]};t.NoConnectionsNotice=function(e){var t=e.siteSlug,s=e.translate;return _.default.createElement(x.default,{status:"is-warning",showDismiss:!1,text:s("Connect an account to get started.")},_.default.createElement(E.default,{href:"/sharing/"+t},s("Settings")))};t.default=(0,b.localize)(C)},"./client/blocks/post-share/constants.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SCHEDULED="scheduled",t.PUBLISHED="published"},"./client/blocks/post-share/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/react/react.js"),v=n(b),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/classnames/index.js"),x=n(j),P=s("./node_modules/lodash/lodash.js"),E=s("./node_modules/i18n-calypso/index.js"),C=s("./client/config/index.js"),S=s("./node_modules/gridicons/build/index.js"),I=n(S),k=s("./node_modules/page/index.js"),w=s("./client/components/data/query-post-types/index.jsx"),T=n(w),N=s("./client/components/data/query-posts/index.jsx"),R=n(N),D=s("./client/components/data/query-publicize-connections/index.jsx"),M=n(D),L=s("./client/components/data/query-site-plans/index.jsx"),O=n(L),A=s("./client/components/button/index.jsx"),U=n(A),q=s("./client/components/button-group/index.jsx"),H=n(q),F=s("./client/components/notice/notice-action.jsx"),z=n(F),B=s("./client/state/selectors/get-post-share-scheduled-actions.js"),W=n(B),V=s("./client/state/selectors/get-post-share-published-actions.js"),G=n(V),Q=s("./client/state/selectors/is-publicize-enabled.js"),K=n(Q),Z=s("./client/state/selectors/is-scheduling-publicize-share-action.js"),Y=n(Z),J=s("./client/state/selectors/get-scheduled-publicize-share-action-time.js"),$=n(J),X=s("./client/state/selectors/is-scheduling-publicize-share-action-error.js"),ee=n(X),te=s("./client/state/sites/selectors.js"),se=s("./client/state/current-user/selectors.js"),ne=s("./client/state/sharing/publicize/selectors.js"),oe=s("./client/state/sharing/publicize/actions.js"),ae=s("./client/state/sharing/publicize/publicize-actions/actions.js"),le=s("./client/lib/post-metadata/index.js"),ie=n(le),re=s("./client/post-editor/editor-sharing/publicize-message.jsx"),ue=n(re),de=s("./client/components/notice/index.jsx"),ce=n(de),pe=s("./client/state/sites/plans/selectors.js"),fe=s("./client/lib/plans/constants.js"),me=s("./client/blocks/post-share/nudges.jsx"),he=s("./client/blocks/post-share/sharing-preview-modal.jsx"),ge=n(he),_e=s("./client/blocks/post-share/connections-list.jsx"),be=n(_e),ve=s("./client/blocks/post-share/publicize-actions-list.jsx"),ye=n(ve),je=s("./client/blocks/calendar-button/index.jsx"),xe=n(je),Pe=s("./client/components/date-picker/events-tooltip.jsx"),Ee=n(Pe),Ce=s("./client/components/section-header/index.jsx"),Se=n(Ce),Ie=s("./client/components/tooltip/index.jsx"),ke=n(Ie),we=s("./client/lib/analytics/index.js"),Te=n(we),Ne=s("./client/lib/analytics/track-component-view/index.jsx"),Re=n(Ne),De=s("./client/lib/route/path.js"),Me=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var l=arguments.length,r=Array(l),d=0;d<l;d++)r[d]=arguments[d];return s=n=(0,f.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(r))),n.state={message:ie.default.publicizeMessage(n.props.post)||"",skipped:ie.default.publicizeSkipped(n.props.post)||[],showSharingPreview:!1,showAccountTooltip:!1,scheduledDate:null,showTooltip:!1,tooltipContext:null,eventsByDay:[]
},n.toggleConnection=function(e){var t=n.state.skipped.slice(),s=t.indexOf(e);s!==-1?t.splice(s,1):t.push(e),n.setState({skipped:t})},n.scheduleDate=function(e){e.isBefore(Date.now())&&(e=null),n.setState({scheduledDate:e})},n.isConnectionActive=function(e){return"broken"!==e.status&&n.skipConnection(e)},n.toggleSharingPreview=function(){var e=!n.state.showSharingPreview;e?document.documentElement.classList.add("no-scroll","is-previewing"):document.documentElement.classList.remove("no-scroll","is-previewing"),Te.default.tracks.recordEvent("calypso_publicize_share_preview_toggle",{show:e}),n.setState({showSharingPreview:e})},n.setMessage=function(e){return n.setState({message:e})},n.dismiss=function(){n.props.dismissShareConfirmation(n.props.siteId,n.props.postId)},n.sharePost=function(){var e=n.props,t=e.postId,s=e.siteId,o=e.connections,l=o.filter(function(e){return n.state.skipped.indexOf(e.keyring_connection_ID)===-1}),i=l.reduce(function(e,t){return e.service_all=e.service_all+1,e["service_"+t.service]||(e["service_"+t.service]=0),e["service_"+t.service]=e["service_"+t.service]+1,e},{service_all:0}),r={context_path:(0,De.sectionify)(k.current)},u=(0,a.default)({},i,r);n.state.scheduledDate?(Te.default.tracks.recordEvent("calypso_publicize_share_schedule",u),n.props.schedulePostShareAction(s,t,n.state.message,n.state.scheduledDate.format("X"),l.map(function(e){return e.ID}))):(Te.default.tracks.recordEvent("calypso_publicize_share_instantly",u),n.props.sharePost(s,t,n.state.skipped,n.state.message))},n.previewSharingPost=function(){},n.showCalendarTooltip=function(e,t,s,o){n.setState({eventsByDay:o,context:s.target,showTooltip:!0})},n.hideEventsTooltip=function(){n.setState({eventsByDay:[],context:null,showTooltip:!1})},n.showAddTooltip=function(){return n.setState({showAccountTooltip:!0})},n.hideAddTooltip=function(){return n.setState({showAccountTooltip:!1})},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"hasConnections",value:function(){return!!(0,P.get)(this.props,"connections.length")}},{key:"skipConnection",value:function(e){var t=e.keyring_connection_ID;return this.state.skipped.indexOf(t)===-1}},{key:"activeConnections",value:function(){return this.props.connections.filter(this.isConnectionActive)}},{key:"isDisabled",value:function(){if(this.props.disabled||this.props.requesting||this.activeConnections().length<1)return!0}},{key:"renderMessage",value:function(){if(this.hasConnections()){var e=this.hasConnections()?this.props.connections.filter(this.isConnectionActive):[],t=(0,P.includes)((0,P.map)(e,"service"),"twitter"),s=t?94:null;return v.default.createElement(ue.default,{disabled:this.isDisabled(),message:this.state.message,requireCount:t,onChange:this.setMessage,acceptableLength:s})}}},{key:"renderSharingButtons",value:function(){var e=this.props,t=e.siteId,s=e.translate,n=e.publishedActions,o=e.scheduledActions,a=v.default.createElement(U.default,{className:"post-share__share-button",busy:this.props.requesting,primary:!0,onClick:this.sharePost,disabled:this.isDisabled()},s(this.state.scheduledDate?"Schedule post":"Share post")),l=(0,C.isEnabled)("publicize-preview")&&v.default.createElement(U.default,{disabled:this.isDisabled(),className:"post-share__preview-button",onClick:this.toggleSharingPreview},s("Preview")),i=(0,P.map)((0,P.concat)(n,o),function(e){var t=e.ID,s=e.message,n=e.date,o=e.service;return{id:t,type:"published-action",title:s,date:n,socialIcon:"google_plus"===o?"google-plus":o}}),r=this.state.eventsByDay,u=this.props.translate("%d share","%d shares",{count:r.length,args:r.length}),d=8,c=r.length-d,p=this.props.translate("… and %d more share","… and %d more shares",{count:c,args:c});return v.default.createElement("div",{className:"post-share__button-actions"},l,v.default.createElement(H.default,{className:"post-share__share-combo",primary:!0,busy:this.props.requesting,disabled:this.isDisabled()},a,v.default.createElement(xe.default,{primary:!0,events:i,className:"post-share__schedule-button",disabled:this.isDisabled(),disabledDays:[{before:new Date}],enableOutsideDays:!1,title:s("Set date and time"),selectedDay:this.state.scheduledDate,tabIndex:3,siteId:t,onDateChange:this.scheduleDate,onDayMouseEnter:this.showCalendarTooltip,onDayMouseLeave:this.hideEventsTooltip,onClose:this.hideEventsTooltip,popoverPosition:"bottom left"})),v.default.createElement(Ee.default,{events:r,context:this.state.context,isVisible:this.state.showTooltip,title:u,moreEventsLabel:p,maxEvents:d}))}},{key:"renderConnectionsWarning",value:function(){var e=this.props,t=e.connections,s=e.hasFetchedConnections,n=e.siteSlug,o=e.translate;if(!s||!t.length)return null;var a=t.filter(function(e){return"broken"===e.status});return a.length?v.default.createElement("div",null,a.map(function(e){return v.default.createElement(ce.default,{key:e.keyring_connection_ID,status:"is-warning",showDismiss:!1,text:o("There is an issue connecting to %s.",{args:e.label})},v.default.createElement(z.default,{href:"/sharing/"+n},o("Reconnect")))})):null}},{key:"renderRequestSharingNotice",value:function(){var e=this.props,t=e.failure,s=e.requesting,n=e.success,o=e.translate;return this.props.scheduling?v.default.createElement(ce.default,{status:"is-warning",showDismiss:!1},o("We are writing your shares to the calendar…")):this.props.scheduledAt?v.default.createElement(ce.default,{status:"is-success",onDismissClick:this.dismiss},o("We'll share your post on %s.",{args:this.props.scheduledAt.format("ddd, MMMM Do YYYY, h:mm:ss a")})):this.props.schedulingFailed?v.default.createElement(ce.default,{status:"is-error",onDismissClick:this.dismiss},o("Scheduling share failed. Please don't be mad.")):s?v.default.createElement(ce.default,{status:"is-warning",showDismiss:!1},o("Sharing…")):n?v.default.createElement(ce.default,{status:"is-success",onDismissClick:this.dismiss},o("Post shared. Please check your social media accounts.")):t?v.default.createElement(ce.default,{status:"is-error",onDismissClick:this.dismiss},o("Something went wrong. Please don't be mad.")):void 0}},{key:"renderConnectionsSection",value:function(){var e=this,t=this.props,s=t.hasFetchedConnections,n=t.siteId,o=t.siteSlug,l=t.translate,i=(0,P.map)(this.props.connections,function(t){return(0,a.default)({},t,{isActive:e.isConnectionActive(t)})});return v.default.createElement("div",{className:"post-share__services"},v.default.createElement(Se.default,{className:"post-share__services-header",label:l("Connected accounts")},v.default.createElement(U.default,{compact:!0,href:"/sharing/"+n,className:"post-share__add-button",onMouseEnter:this.showAddTooltip,onMouseLeave:this.hideAddTooltip,ref:"addAccountButton","aria-label":l("Add account")},v.default.createElement(I.default,{icon:"plus-small",size:18}),v.default.createElement(I.default,{icon:"user",size:18}),v.default.createElement(ke.default,{isVisible:this.state.showAccountTooltip,context:this.refs&&this.refs.addAccountButton,position:"bottom"},l("Add account")))),v.default.createElement(be.default,(0,a.default)({connections:i,hasFetchedConnections:s,siteId:n,siteSlug:o},{onToggle:this.toggleConnection})))}},{key:"renderPrimarySection",value:function(){var e=this.props,t=e.hasFetchedConnections,s=e.hasRepublicizeFeature,n=e.siteSlug,o=e.translate;return t?this.hasConnections()?s?v.default.createElement("div",null,v.default.createElement("div",{className:"post-share__main"},v.default.createElement("div",{className:"post-share__form"},this.renderMessage(),this.renderSharingButtons()),this.renderConnectionsSection()),v.default.createElement(ye.default,this.props)):v.default.createElement("div",null,v.default.createElement(me.UpgradeToPremiumNudge,this.props),v.default.createElement(ye.default,this.props)):v.default.createElement(_e.NoConnectionsNotice,{siteSlug:n,translate:o}):null}},{key:"render",value:function(){if(!this.props.isPublicizeEnabled)return null;var e=this.props,t=e.hasRepublicizeFeature,s=e.hasFetchedConnections,n=e.isRequestingSitePlans,o=e.postId,a=e.siteId,l=e.siteSlug,i=e.translate,r=e.showClose,u=e.onClose;if(!a||!o)return null;var d=(0,x.default)("post-share__wrapper",{"is-placeholder":!s||n,"has-connections":this.hasConnections(),"has-republicize-scheduling-feature":t});return v.default.createElement("div",{className:"post-share"},v.default.createElement(Re.default,{eventName:"calypso_publicize_post_share_view"}),v.default.createElement(T.default,{siteId:a}),v.default.createElement(M.default,{siteId:a}),v.default.createElement(O.default,{siteId:a}),v.default.createElement("div",{className:d},v.default.createElement("div",{className:"post-share__head"},v.default.createElement("h4",{className:"post-share__title"},v.default.createElement("span",null,i("Share this post")),r&&v.default.createElement(U.default,{borderless:!0,"aria-label":i("Close post sharing"),className:"post-share__close","data-tip-target":"post-share__close",onClick:u},v.default.createElement(I.default,{icon:"cross"}))),v.default.createElement("div",{className:"post-share__subtitle"},i("Share your post on all of your connected social media accounts using {{a}}Publicize{{/a}}.",{components:{a:v.default.createElement("a",{href:"/sharing/"+l})}}))),!s&&v.default.createElement("div",{className:"post-share__placeholder"}),this.renderRequestSharingNotice(),this.renderConnectionsWarning(),this.renderPrimarySection()),v.default.createElement(R.default,{siteId:a,postId:o}),v.default.createElement(ge.default,{siteId:a,postId:o,message:this.state.message,isVisible:this.state.showSharingPreview,onClose:this.toggleSharingPreview}))}}]),t}(b.Component);Me.propTypes={post:_.default.object,siteId:_.default.number,disabled:_.default.bool,showClose:_.default.bool,onClose:_.default.func,connections:_.default.array,failed:_.default.bool,hasFetchedConnections:_.default.bool,hasRepublicizeFeature:_.default.bool,isPublicizeEnabled:_.default.bool,planSlug:_.default.string,postId:_.default.number,requestConnections:_.default.func,requesting:_.default.bool,siteSlug:_.default.string,success:_.default.bool,userCurrency:_.default.string},Me.defaultProps={connections:[],disabled:!1,post:{}};var Le=function(e,t,s){return(0,pe.getPlanDiscountedRawPrice)(e,t,s,{isMonthly:!0})||(0,pe.getSitePlanRawPrice)(e,t,s,{isMonthly:!0})};t.default=(0,y.connect)(function(e,t){var s=t.siteId,n=(0,P.get)(t,"post.ID"),o=(0,P.get)(t,"post.type"),a=(0,se.getCurrentUserId)(e),l=(0,te.getSitePlanSlug)(e,s);return{siteId:s,postId:n,planSlug:l,isJetpack:(0,te.isJetpackSite)(e,s),hasFetchedConnections:(0,ne.hasFetchedConnections)(e,s),isRequestingSitePlans:(0,pe.isRequestingSitePlans)(e,s),hasRepublicizeFeature:(0,pe.hasFeature)(e,s,fe.FEATURE_REPUBLICIZE),siteSlug:(0,te.getSiteSlug)(e,s),isPublicizeEnabled:(0,K.default)(e,s,o),scheduling:(0,Y.default)(e,s,n),connections:(0,ne.getSiteUserConnections)(e,s,a),requesting:(0,ne.isRequestingSharePost)(e,s,n),schedulingFailed:(0,ee.default)(e,s,n),failed:(0,ne.sharePostFailure)(e,s,n),success:(0,ne.sharePostSuccessMessage)(e,s,n),scheduledAt:(0,$.default)(e,s,n),premiumPrice:Le(e,s,fe.PLAN_PREMIUM),jetpackPremiumPrice:Le(e,s,fe.PLAN_JETPACK_PREMIUM),userCurrency:(0,se.getCurrentUserCurrencyCode)(e),scheduledActions:(0,W.default)(e,s,n),publishedActions:(0,G.default)(e,s,n)}},{requestConnections:oe.fetchConnections,sharePost:oe.sharePost,dismissShareConfirmation:oe.dismissShareConfirmation,schedulePostShareAction:ae.schedulePostShareAction})((0,E.localize)(Me)),e.exports=t.default},"./client/blocks/post-share/nudges.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UpgradeToPremiumNudge=void 0;var o=s("./node_modules/react/react.js"),a=n(o),l=s("./client/components/banner/index.jsx"),i=n(l),r=s("./client/lib/plans/constants.js"),u=s("./client/lib/format-currency/index.js"),d=n(u);t.UpgradeToPremiumNudge=function(e){var t=e.premiumPrice,s=e.jetpackPremiumPrice,n=e.translate,o=e.userCurrency,l=e.isJetpack,u=void 0,c=void 0,p=void 0;return l?(u=s,c=[n("Schedule your social messages in advance."),n("Easy monetization options"),n("VideoPress support"),n("Daily Malware Scanning")],p=r.PLAN_JETPACK_PREMIUM):(u=t,c=[n("Schedule your social messages in advance."),n("Remove all advertising from your site."),n("Enjoy live chat support."),n("Easy monetization options"),n("Unlimited premium themes.")],p=r.PLAN_PREMIUM),a.default.createElement(i.default,{className:"post-share__actions-list-upgrade-nudge",callToAction:n("Upgrade for %s",{args:(0,d.default)(u,o),comment:"%s will be replaced by a formatted price, i.e $9.99"}),list:c,plan:p,title:n("Upgrade to a Premium Plan!")})}},"./client/blocks/post-share/publicize-actions-list.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/react-redux/es/index.js"),v=s("./node_modules/i18n-calypso/index.js"),y=s("./node_modules/gridicons/build/index.js"),j=n(y),x=s("./client/state/selectors/get-post-share-scheduled-actions.js"),P=n(x),E=s("./client/state/selectors/get-post-share-published-actions.js"),C=n(E),S=s("./client/components/data/query-share-post-actions/index.jsx"),I=n(S),k=s("./node_modules/social-logos/build/index.js"),w=n(k),T=s("./client/components/ellipsis-menu/index.jsx"),N=n(T),R=s("./client/components/popover/menu-item.jsx"),D=n(R),M=s("./client/blocks/post-share/constants.js"),L=s("./client/components/section-nav/index.jsx"),O=n(L),A=s("./client/components/section-nav/tabs.jsx"),U=n(A),q=s("./client/components/section-nav/item.jsx"),H=n(q),F=s("./client/config/index.js"),z=s("./client/components/dialog/index.jsx"),B=n(z),W=s("./client/state/sharing/publicize/publicize-actions/actions.js"),V=s("./client/lib/analytics/index.js"),G=n(V),Q=s("./client/blocks/post-share/sharing-preview-modal.jsx"),K=n(Q),Z=s("./client/components/notice/index.jsx"),Y=n(Z),J=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),n.state={selectedShareTab:M.PUBLISHED,showDeleteDialog:!1,selectedScheduledShareId:null,showPreviewModal:!1,previewMessage:"",previewService:""},n.setFooterSection=function(e){return function(){G.default.tracks.recordEvent("calypso_publicize_action_tab_click",{tab:e}),n.setState({selectedShareTab:e})}},n.togglePreviewModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){return n.state.showPreviewModal?n.setState({showPreviewModal:!1}):void n.setState({showPreviewModal:!0,previewMessage:e,previewService:t})}},n.closeDeleteDialog=function(e){if("delete"===e){var t=n.props,s=t.siteId,o=t.postId;G.default.tracks.recordEvent("calypso_publicize_scheduled_delete"),n.props.deletePostShareAction(s,o,n.state.selectedScheduledShareId)}n.setState({showDeleteDialog:!1})},n.renderActionsList=function(){var e=n.props,t=e.publishedActions,s=e.scheduledActions,o=e.translate;return n.state.selectedShareTab===M.PUBLISHED?_.default.createElement("div",{className:"post-share__published-list"},t.map(function(e,t){return n.renderActionItem(e,t)})):0===s.length?_.default.createElement(Y.default,{status:"is-info",showDismiss:!1,text:o('Did you know you can decide exactly when Publicize shares your post? You can! Click the calendar icon next to "Share post" to schedule your social shares.')}):_.default.createElement("div",{className:"post-share__scheduled-list"},s.map(function(e,t){return n.renderActionItem(e,t)}))},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"renderActionItem",value:function(e,t){var s=e.service,n=e.connectionName,o=e.shareDate,a=e.message;return _.default.createElement("div",{className:"post-share__footer-items",key:t},_.default.createElement("div",{className:"post-share__footer-item"},_.default.createElement("div",{className:"post-share__handle"},_.default.createElement(w.default,{icon:"google_plus"===s?"google-plus":s}),_.default.createElement("span",{className:"post-share__handle-value"},n)),_.default.createElement("div",{className:"post-share__timestamp"},_.default.createElement(j.default,{icon:"time",size:18}),_.default.createElement("span",{className:"post-share__timestamp-value"},o)),_.default.createElement("div",{className:"post-share__message"},a)),this.renderFooterSectionItemActions(e))}},{key:"renderFooterSectionItemActions",value:function(e){var t=e.ID,s=e.message,n=e.service,o=e.url;return this.state.selectedShareTab===M.SCHEDULED?this.renderScheduledMenu(t,s,n):o&&_.default.createElement("a",{className:"post-share__external-url",href:o,target:"_blank",rel:"noopener noreferrer"},_.default.createElement(j.default,{icon:"external",size:24}))}},{key:"renderScheduledMenu",value:function(e,t,s){var n=[],o=this.props.translate;return(0,F.isEnabled)("publicize-preview")&&n.push(_.default.createElement(D.default,{onClick:this.togglePreviewModal(t,s),key:"1",icon:"visible"},o("Preview"))),n.push(_.default.createElement(D.default,{onClick:this.deleteScheduledAction(e),key:"2",icon:"trash"},o("Trash"))),0===n.length?_.default.createElement("div",null):_.default.createElement(N.default,null,n)}},{key:"deleteScheduledAction",value:function(e){var t=this;return function(){t.setState({showDeleteDialog:!0,selectedScheduledShareId:e})}}},{key:"renderDeleteDialog",value:function(){var e=this.props.translate,t=[{action:"cancel",label:e("Cancel")},{action:"delete",label:e("Delete scheduled share"),isPrimary:!0}];return _.default.createElement(B.default,{isVisible:this.state.showDeleteDialog,buttons:t,onClose:this.closeDeleteDialog},_.default.createElement("h1",null,e("Confirmation")),_.default.createElement("p",null,e("Do you want to delete the scheduled share?")))}},{key:"getShareTabLabel",value:function(e){var t=this.props.translate;return t(e===M.SCHEDULED?"Scheduled":"Published")}},{key:"getShareTabCount",value:function(e){return e===M.SCHEDULED?this.props.scheduledActions.length:this.props.publishedActions.length}},{key:"renderShareTab",value:function(e){return _.default.createElement(H.default,{key:e,selected:this.state.selectedShareTab===e,count:this.getShareTabCount(e),onClick:this.setFooterSection(e)},this.getShareTabLabel(e))}},{key:"render",value:function(){var e=this.props,t=e.hasRepublicizeFeature,s=e.postId,n=e.siteId,o=t?[M.SCHEDULED,M.PUBLISHED]:[M.PUBLISHED];return _.default.createElement("div",null,_.default.createElement(O.default,{className:"post-share__footer-nav",selectedText:this.getShareTabLabel(this.state.selectedShareTab),selectedCount:this.getShareTabCount(this.state.selectedShareTab)},_.default.createElement(U.default,null,o.map(this.renderShareTab,this))),_.default.createElement("div",{className:"post-share__actions-list"},_.default.createElement(I.default,{siteId:n,postId:s,status:M.SCHEDULED}),_.default.createElement(I.default,{siteId:n,postId:s,status:M.PUBLISHED}),this.renderActionsList()),this.renderDeleteDialog(),_.default.createElement(K.default,{siteId:n,postId:s,message:this.state.previewMessage,selectedService:this.state.previewService,isVisible:this.state.showPreviewModal,onClose:this.togglePreviewModal()}))}}]),t}(g.PureComponent);J.propTypes={siteId:h.default.number,postId:h.default.number,scheduledActions:h.default.array,publishedActions:h.default.array},t.default=(0,b.connect)(function(e,t){var s=t.postId,n=t.siteId;return{scheduledActions:(0,P.default)(e,n,s),publishedActions:(0,C.default)(e,n,s)}},{deletePostShareAction:W.deletePostShareAction})((0,v.localize)(J)),e.exports=t.default},"./client/blocks/post-share/sharing-preview-modal.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),a=n(o),l=s("./node_modules/prop-types/index.js"),i=n(l),r=s("./node_modules/react/react.js"),u=n(r),d=s("./node_modules/gridicons/build/index.js"),c=n(d),p=s("./client/components/dialog/index.jsx"),f=n(p),m=s("./client/blocks/sharing-preview-pane/index.jsx"),h=n(m),g=function(e){var t=e.isVisible,s=e.onClose,n=(0,a.default)(e,["isVisible","onClose"]);return u.default.createElement(f.default,{isVisible:t,additionalClassNames:"post-share__sharing-preview-modal"},u.default.createElement("header",{className:"post-share__sharing-preview-modal-header"},u.default.createElement("button",{onClick:s,className:"post-share__sharing-preview-modal-close"},u.default.createElement(c.default,{icon:"cross"}))),u.default.createElement(h.default,n))};g.propTypes={isVisible:i.default.bool.isRequired,onClose:i.default.func.isRequired,siteId:i.default.number,postId:i.default.number,message:i.default.string,selectedService:i.default.string},t.default=g,e.exports=t.default},"./client/blocks/post-status/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.translate,s=e.post,n=e.showAll,o=e.showIcon,a=void 0===o||o;if(!s)return null;var l=s.sticky,i=s.status,u=void 0,d=void 0,p=void 0;if(l?(u=t("Sticky"),d="is-sticky",p="bookmark-outline"):"pending"===i?(u=t("Pending Review"),d="is-pending",p="aside"):"future"===i?(u=t("Scheduled"),d="is-scheduled",p="calendar"):"trash"===i?(u=t("Trashed"),d="is-trash",p="trash"):n&&"draft"===i?(u=t("Draft"),d="is-draft",p="aside"):n&&"publish"===i&&(u=t("Published"),d="is-published",p="aside"),!u)return null;var f=(0,c.default)("post-status",d);return r.default.createElement("span",{className:f},a&&r.default.createElement(m.default,{icon:p,size:18,className:"post-status__icon"}),r.default.createElement("span",{className:"post-status__text"},u))}Object.defineProperty(t,"__esModule",{value:!0}),t.PostStatus=o;var a=s("./node_modules/prop-types/index.js"),l=n(a),i=s("./node_modules/react/react.js"),r=n(i),u=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/classnames/index.js"),c=n(d),p=s("./node_modules/i18n-calypso/index.js"),f=s("./node_modules/gridicons/build/index.js"),m=n(f),h=s("./client/state/posts/selectors.js");o.displayName="PostStatus",o.propTypes={globalId:l.default.string,translate:l.default.func,post:l.default.object,showAll:l.default.bool,showIcon:l.default.bool},t.default=(0,u.connect)(function(e,t){var s=t.globalId;return{post:(0,h.getNormalizedPost)(e,s)}})((0,p.localize)(o))},"./client/blocks/post-time/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!t)return e().fromNow();var s=t.status,n=t.modified,o=t.date,a=e((0,f.includes)(["draft","pending"],s)?n:o);return a.isBefore(e().subtract(7,"days"))?a.format("LLL"):a.fromNow()}function a(e){var t=e.moment,s=e.post,n=(0,c.default)("post-time",{"is-placeholder":!s});return i.default.createElement("span",{className:n},o(t,s))}Object.defineProperty(t,"__esModule",{value:!0}),t.PostTime=a;var l=s("./node_modules/react/react.js"),i=n(l),r=s("./node_modules/prop-types/index.js"),u=n(r),d=s("./node_modules/classnames/index.js"),c=n(d),p=s("./node_modules/react-redux/es/index.js"),f=s("./node_modules/lodash/lodash.js"),m=s("./node_modules/i18n-calypso/index.js"),h=s("./client/state/posts/selectors.js");a.propTypes={globalId:u.default.string,moment:u.default.func,post:u.default.object},t.default=(0,p.connect)(function(e,t){var s=t.globalId;return{post:(0,h.getNormalizedPost)(e,s)}})((0,m.localize)(a))},"./client/blocks/sharing-preview-pane/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/keys.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/extends.js"),i=n(l),r=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/createClass.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=n(m),g=s("./node_modules/babel-runtime/helpers/inherits.js"),_=n(g),b=s("./node_modules/prop-types/index.js"),v=n(b),y=s("./node_modules/react/react.js"),j=n(y),x=s("./node_modules/react-redux/es/index.js"),P=s("./node_modules/i18n-calypso/index.js"),E=s("./node_modules/lodash/lodash.js"),C=s("./client/blocks/sharing-preview-pane/utils.js"),S=s("./client/components/share/facebook-share-preview/index.jsx"),I=n(S),k=s("./client/components/share/google-plus-share-preview/index.js"),w=n(k),T=s("./client/components/share/linkedin-share-preview/index.jsx"),N=n(T),R=s("./client/components/share/twitter-share-preview/index.jsx"),D=n(R),M=s("./client/components/share/tumblr-share-preview/index.jsx"),L=n(M),O=s("./client/components/vertical-menu/index.jsx"),A=n(O),U=s("./client/components/vertical-menu/items/index.js"),q=s("./client/state/posts/selectors.js"),H=s("./client/state/sites/selectors.js"),F=s("./client/state/sharing/publicize/selectors.js"),z=s("./client/state/current-user/selectors.js"),B=s("./client/components/notice/index.jsx"),W=n(B),V=s("./client/components/notice/notice-action.jsx"),G=n(V),Q={facebook:"Facebook",twitter:"Twitter",google_plus:"Google Plus",linkedin:"LinkedIn",tumblr:"Tumblr"},K=function(e){function t(e){(0,c.default)(this,t);var s=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));Z.call(s);var n=(0,E.map)(e.connections,"service"),o=(0,E.find)(e.services,function(e){return(0,E.find)(n,function(t){return e===t})}),a=e.selectedService||o;return s.state={selectedService:a},s}return(0,_.default)(t,e),(0,f.default)(t,[{key:"renderPreview",value:function(){var e=this.props,t=e.post,s=e.site,n=e.message,o=e.connections,a=e.translate,l=e.siteSlug,r=this.state.selectedService,u=(0,E.find)(o,{service:r});if(!u)return j.default.createElement(W.default,{text:a("Connect to %s to see the preview",{args:Q[r]}),status:"is-info",showDismiss:!1},j.default.createElement(G.default,{href:"/sharing/"+l},a("Settings")));var d=(0,E.get)(t,"URL",""),c=(0,E.get)(t,"title",""),p=(0,C.getExcerptForPost)(t),f=(0,E.get)(s,"domain",""),m=(0,C.getPostImage)(t),h=u.external_name,g=u.external_profile_url,_=u.external_profile_picture,b=u.external_display,v={articleUrl:d,articleTitle:c,articleContent:p,externalDisplay:b,externalName:h,externalProfileURL:g,externalProfilePicture:_,message:n,imageUrl:m,siteDomain:f};switch(r){case"facebook":return j.default.createElement(I.default,v);case"google_plus":return j.default.createElement(w.default,v);case"tumblr":return j.default.createElement(L.default,v);case"linkedin":return j.default.createElement(N.default,v);case"twitter":return j.default.createElement(D.default,(0,i.default)({},v,{externalDisplay:b}));default:return null}}},{key:"render",value:function(){var e=this.props,t=e.translate,s=e.services,n=s.indexOf(this.state.selectedService);return j.default.createElement("div",{className:"sharing-preview-pane"},j.default.createElement("div",{className:"sharing-preview-pane__sidebar"},j.default.createElement("div",{className:"sharing-preview-pane__explanation"},j.default.createElement("h1",{className:"sharing-preview-pane__title"},t("Social Previews")),j.default.createElement("p",{className:"sharing-preview-pane__description"},t("This is how your post will appear when people view or share it on any of the networks below"))),j.default.createElement(A.default,{onClick:this.selectPreview,initialItemIndex:n},s.map(function(e){return j.default.createElement(U.SocialItem,{key:e,service:e})}))),j.default.createElement("div",{className:"sharing-preview-pane__preview-area"},j.default.createElement("div",{className:"sharing-preview-pane__preview"},this.renderPreview())))}}]),t}(y.PureComponent);K.propTypes={siteId:v.default.number,postId:v.default.number,services:v.default.array,message:v.default.string,site:v.default.object,post:v.default.object,seoTitle:v.default.string,selectedService:v.default.string},K.defaultProps={services:(0,a.default)(Q)};var Z=function(){var e=this;this.selectPreview=function(t){e.setState({selectedService:t})}},Y=function(e,t){var s=t.siteId,n=t.postId,o=(0,H.getSite)(e,s),a=(0,q.getSitePost)(e,s,n),l=(0,H.getSeoTitle)(e,"posts",{site:o,post:a}),i=(0,z.getCurrentUserId)(e),r=(0,F.getSiteUserConnections)(e,s,i),u=(0,H.getSiteSlug)(e,s);return{site:o,post:a,seoTitle:l,connections:r,siteSlug:u}};t.default=(0,x.connect)(Y)((0,P.localize)(K)),e.exports=t.default},"./client/blocks/sharing-preview-pane/utils.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getExcerptForPost=t.getPostImage=void 0;var o=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/striptags/striptags.js"),l=n(a),i=s("./client/lib/post-normalizer/rule-create-better-excerpt.js"),r=s("./client/lib/post-metadata/index.js"),u=n(r),d=s("./client/lib/formatting/index.js"),c=512;t.getPostImage=function(e){if(!e)return null;if(e.featured_image)return e.featured_image;var t=e.content;if(!t)return null;var s=(0,d.parseHtml)(t).querySelectorAll("img"),n=(0,o.get)((0,o.find)(s,function(e){var t=e.width;return t>=c}),"src",null);return n?n+"?s="+c:null},t.getExcerptForPost=function(e){return e?(0,o.trim)((0,l.default)((0,i.formatExcerpt)((0,o.find)([u.default.metaDescription(e),e.excerpt,e.content],o.identity)))):null}},"./client/components/button-group/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/classnames/index.js"),_=n(g),b=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=(0,_.default)("button-group",this.props.className,{"is-busy":this.props.busy,"is-primary":this.props.primary});return h.default.createElement("span",{className:e},this.props.children)}}]),t}(m.PureComponent);b.propTypes={children:function(e){var t=null;return h.default.Children.forEach(e.children,function(e){!e||e.props&&"button"===e.props.type||(t=new Error("All children elements should be a Button."))}),t}},t.default=b,e.exports=t.default},"./client/components/card/compact.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return r.default.createElement(p.default,(0,l.default)({},e,{className:(0,d.default)(e.className,"is-compact")}),e.children)}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/helpers/extends.js"),l=n(a);t.default=o;var i=s("./node_modules/react/react.js"),r=n(i),u=s("./node_modules/classnames/index.js"),d=n(u),c=s("./client/components/card/index.jsx"),p=n(c);e.exports=t.default},"./client/components/data/query-post-counts/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=s("./node_modules/react-redux/es/index.js"),b=s("./client/state/posts/counts/actions.js"),v=s("./client/state/posts/counts/selectors.js"),y=function(e){
function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId===e.siteId&&this.props.type===e.type||this.request(e)}},{key:"request",value:function(e){e.requesting||e.requestPostCounts(e.siteId,e.type)}},{key:"render",value:function(){return null}}]),t}(g.Component);y.propTypes={siteId:h.default.number.isRequired,type:h.default.string.isRequired,requesting:h.default.bool,requestPostCounts:h.default.func},t.default=(0,_.connect)(function(e,t){var s=t.siteId,n=t.type;return{requesting:(0,v.isRequestingPostCounts)(e,s,n)}},{requestPostCounts:b.requestPostCounts})(y),e.exports=t.default},"./client/components/data/query-post-stats/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=s("./node_modules/react-redux/es/index.js"),b=s("./node_modules/lodash/lodash.js"),v=s("./client/state/stats/posts/selectors.js"),y=s("./client/state/stats/posts/actions.js"),j=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.requestingPostStats,s=e.siteId,n=e.postId;t||!s||(0,b.isUndefined)(n)||this.requestPostStats(this.props)}},{key:"componentWillUnmount",value:function(){this.clearInterval()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,s=t.siteId,n=t.postId,o=t.fields,a=t.heartbeat;!s||(0,b.isUndefined)(n)||s===e.siteId&&n===e.postId&&(0,b.isEqual)(o,e.fields)&&a===e.heartbeat||this.requestPostStats(e)}},{key:"requestPostStats",value:function(e){var t=e.siteId,s=e.postId,n=e.fields,o=e.heartbeat;e.requestPostStats(t,s,n),this.clearInterval(),o&&(this.interval=setInterval(function(){e.requestPostStats(t,s,n)},o))}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.interval&&clearInterval(this.interval)})},{key:"render",value:function(){return null}}]),t}(g.Component);j.defaultProps={requestPostStats:function(){},heartbeat:0},j.propTypes={siteId:h.default.number,postId:h.default.number,fields:h.default.array,requestingPostStats:h.default.bool,requestPostStats:h.default.func,heartbeat:h.default.number},t.default=(0,_.connect)(function(e,t){var s=t.siteId,n=t.postId,o=t.fields;return{requestingPostStats:(0,v.isRequestingPostStats)(e,s,n,o)}},{requestPostStats:y.requestPostStats})(j),e.exports=t.default},"./client/components/data/query-publicize-connections/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=s("./node_modules/react-redux/es/index.js"),b=s("./client/state/sharing/publicize/selectors.js"),v=s("./client/state/sharing/publicize/actions.js"),y=s("./client/state/ui/selectors.js"),j=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){!this.props.requestingConnections&&this.props.siteId&&this.props.requestConnections(this.props.siteId)}},{key:"componentDidUpdate",value:function(e){var t=e.siteId;this.props.siteId&&t!==this.props.siteId&&!this.props.requestingConnections&&this.props.requestConnections(this.props.siteId)}},{key:"render",value:function(){return null}}]),t}(g.Component);j.propTypes={requestConnections:h.default.func,requestingConnections:h.default.bool,selectedSite:h.default.bool,siteId:h.default.number},j.defaultProps={requestConnections:function(){},requestingConnections:!1,selectedSite:!1,siteId:0},t.default=(0,_.connect)(function(e,t){var s=t.siteId,n=t.selectedSite;return s=s||n&&(0,y.getSelectedSiteId)(e),{requestingConnections:(0,b.isFetchingConnections)(e,s),siteId:s}},{requestConnections:v.fetchConnections})(j),e.exports=t.default},"./client/components/data/query-share-post-actions/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=s("./node_modules/react-redux/es/index.js"),b=s("./client/state/selectors/is-fetching-publicize-share-actions-scheduled.js"),v=n(b),y=s("./client/state/selectors/is-fetching-publicize-share-actions-published.js"),j=n(y),x=s("./client/state/sharing/publicize/publicize-actions/actions.js"),P=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.request(this.props)}},{key:"shouldComponentUpdate",value:function(e){return this.props.siteId!==e.siteId||this.props.postId!==e.postId||this.props.status!==e.status}},{key:"componentDidUpdate",value:function(){this.request(this.props)}},{key:"request",value:function(e){"scheduled"!==e.status||e.isRequestingScheduled||e.fetchPostShareActionsScheduled(e.siteId,e.postId),"published"!==e.status||e.isRequestingPublished||e.fetchPostShareActionsPublished(e.siteId,e.postId)}},{key:"render",value:function(){return null}}]),t}(g.Component);P.propTypes={siteId:h.default.number,postId:h.default.number,status:h.default.string,isRequestingScheduled:h.default.bool.isRequired,isRequestingPublished:h.default.bool.isRequired,fetchPostShareActionsScheduled:h.default.func.isRequired,fetchPostShareActionsPublished:h.default.func.isRequired},t.default=(0,_.connect)(function(e,t){var s=t.siteId,n=t.postId;return{isRequestingScheduled:(0,v.default)(e,s,n),isRequestingPublished:(0,j.default)(e,s,n)}},{fetchPostShareActionsScheduled:x.fetchPostShareActionsScheduled,fetchPostShareActionsPublished:x.fetchPostShareActionsPublished})(P),e.exports=t.default},"./client/components/date-picker/event.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CalendarEvent=void 0;var o=s("./node_modules/react/react.js"),a=n(o),l=s("./node_modules/gridicons/build/index.js"),i=n(l),r=s("./node_modules/social-logos/build/index.js"),u=n(r),d=s("./node_modules/classnames/index.js"),c=n(d),p=function(e){return e&&a.default.createElement("span",{className:"date-picker__icon-wrapper date-picker__icon-wrapper-"+e},a.default.createElement(i.default,{icon:e,size:18}))},f=function(e,t){if(!e)return null;var s=(0,c.default)("date-picker__social-icon-wrapper","date-picker__social-icon-wrapper-"+e,{"date-picker__social-icon-wrapper-color":t});return a.default.createElement("span",{className:s},a.default.createElement(u.default,{icon:e,size:18}))};t.CalendarEvent=function(e){var t=e.icon,s=e.socialIcon,n=e.socialIconColor,o=void 0===n||n,l=e.title;return a.default.createElement("div",{className:"date-picker__calendar-event"},p(t),f(s,o),a.default.createElement("span",{className:"date-picker__event-title"},l))}},"./client/components/date-picker/events-tooltip.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/lodash/lodash.js"),v=s("./node_modules/i18n-calypso/index.js"),y=s("./client/components/tooltip/index.jsx"),j=n(y),x=s("./client/components/date-picker/event.jsx"),P=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props,s=t.events,n=t.isVisible,o=t.maxEvents,a=this.props.title;a||(a=this.props.translate("%d post","%d posts",{count:s.length,args:s.length}));var l=!!(s&&s.length&&n),i=s.length-o,r=this.props.moreEventsLabel;return r||(r=this.props.translate("… and %(moreEvents)d more post","… and %(moreEvents)d more posts",{count:i,args:{moreEvents:i}})),h.default.createElement(j.default,{className:"date-picker__events-tooltip",context:this.props.context,isVisible:l,onClose:b.noop},h.default.createElement("span",null,a),h.default.createElement("hr",{className:"date-picker__division"}),h.default.createElement("ul",null,(0,b.map)(s,function(t,s){return s<o&&h.default.createElement("li",{key:t.id},h.default.createElement(x.CalendarEvent,{icon:t.icon,socialIcon:t.socialIcon,socialIconColor:t.socialIconColor,title:""===t.title?e.props.translate("{{em}}(No title){{/em}}",{components:{em:h.default.createElement("em",null)}}):t.title}))}),i>0&&h.default.createElement("li",null,r)))}}]),t}(m.Component);P.propTypes={title:_.default.string,events:_.default.array,moment:_.default.func.isRequired,maxEvents:_.default.number,moreEvents:_.default.string},P.defaultProps={events:[],maxEvents:8},t.default=(0,v.localize)(P),e.exports=t.default},"./client/components/forms/counted-textarea/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CountedTextarea=void 0;var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/prop-types/index.js"),v=n(b),y=s("./node_modules/i18n-calypso/index.js"),j=s("./node_modules/classnames/index.js"),x=n(j),P=s("./node_modules/lodash/lodash.js"),E=s("./client/components/forms/form-textarea/index.jsx"),C=n(E),S=t.CountedTextarea=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var a=arguments.length,l=Array(a),r=0;r<a;r++)l[r]=arguments[r];return s=n=(0,f.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.renderCountPanel=function(){var e=n.props.value.length;!e&&n.props.countPlaceholderLength&&(e=n.props.placeholder.length);var t=void 0;return t=n.props.showRemainingCharacters&&n.props.acceptableLength?n.props.translate("%d character remaining","%d characters remaining",{context:"Input length",args:[n.props.acceptableLength-e],count:n.props.acceptableLength-e}):n.props.translate("%d character","%d characters",{context:"Input length",args:[e],count:e}),_.default.createElement("div",{className:"counted-textarea__count-panel"},t,n.props.children)},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=(0,x.default)("counted-textarea",this.props.className,{"is-exceeding-acceptable-length":this.props.acceptableLength&&this.props.value.length>this.props.acceptableLength});return _.default.createElement("div",{className:e},_.default.createElement(C.default,(0,a.default)({},(0,P.omit)(this.props,"className","acceptableLength","showRemainingCharacters","children","countPlaceholderLength","moment","numberFormat","translate"),{className:"counted-textarea__input"})),this.renderCountPanel())}}]),t}(_.default.Component);S.propTypes={value:v.default.string,placeholder:v.default.string,countPlaceholderLength:v.default.bool,onChange:v.default.func,acceptableLength:v.default.number,showRemainingCharacters:v.default.bool,translate:v.default.func},S.defaultProps={value:"",placeholder:"",countPlaceholderLength:!1,onChange:P.noop,showRemainingCharacters:!1,translate:y.translate},t.default=(0,y.localize)(S)},"./client/components/forms/form-checkbox/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),i=n(l),r=s("./node_modules/react/react.js"),u=n(r),d=s("./node_modules/classnames/index.js"),c=n(d),p=function(e){var t=e.className,s=(0,i.default)(e,["className"]);return u.default.createElement("input",(0,a.default)({},s,{type:"checkbox",className:(0,c.default)(t,"form-checkbox")}))};t.default=p,e.exports=t.default},"./client/components/forms/form-textarea/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),i=n(l),r=s("./node_modules/react/react.js"),u=n(r),d=s("./node_modules/classnames/index.js"),c=n(d),p=function(e){var t=e.className,s=e.isError,n=e.isValid,o=e.children,l=(0,i.default)(e,["className","isError","isValid","children"]);return u.default.createElement("textarea",(0,a.default)({},l,{className:(0,c.default)(t,"form-textarea",{"is-error":s,"is-valid":n})}),o)};t.default=p,e.exports=t.default},"./client/components/forms/form-toggle/compact.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),i=n(l),r=s("./node_modules/react/react.js"),u=n(r),d=s("./node_modules/classnames/index.js"),c=n(d),p=s("./client/components/forms/form-toggle/index.jsx"),f=n(p),m=function(e){var t=e.className,s=e.children,n=(0,i.default)(e,["className","children"]);return u.default.createElement(f.default,(0,a.default)({},n,{className:(0,c.default)(t,"is-compact")}),s)};t.default=m,e.exports=t.default},"./client/components/forms/form-toggle/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/classnames/index.js"),v=n(b),y=s("./node_modules/lodash/lodash.js"),j=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),n.onKeyDown=function(e){n.props.disabled||("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n.props.onChange(!n.props.checked)),n.props.onKeyDown(e))},n.onClick=function(e){e&&e.stopPropagation&&e.stopPropagation(),n.props.disabled||n.props.onChange(!n.props.checked)},n.onLabelClick=function(e){if(!n.props.disabled){var t=e.target.nodeName.toLowerCase();"a"!==t&&"input"!==t&&"select"!==t&&(e.preventDefault(),n.props.onChange(!n.props.checked))}},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.id=this.constructor.idNum++}},{key:"render",value:function(){var e=this.props.id||"toggle-"+this.id,t=(0,v.default)("form-toggle__wrapper",{"is-disabled":this.props.disabled}),s=(0,v.default)("form-toggle",this.props.className,{"is-toggling":this.props.toggling});return h.default.createElement("span",{className:t},h.default.createElement("input",{id:e,className:s,type:"checkbox",checked:this.props.checked,readOnly:!0,disabled:this.props.disabled}),h.default.createElement("label",{className:"form-toggle__label",htmlFor:e},h.default.createElement("span",{className:"form-toggle__switch",onClick:this.onClick,onKeyDown:this.onKeyDown,role:"checkbox","aria-checked":this.props.checked,"aria-label":this.props["aria-label"],tabIndex:this.props.disabled?-1:0}),h.default.createElement("span",{className:"form-toggle__label-content",onClick:this.onLabelClick},this.props.children)))}}]),t}(m.PureComponent);j.propTypes={onChange:_.default.func,onKeyDown:_.default.func,checked:_.default.bool,disabled:_.default.bool,id:_.default.string,className:_.default.string,toggling:_.default.bool,"aria-label":_.default.string},j.defaultProps={checked:!1,disabled:!1,onKeyDown:y.noop,onChange:y.noop},j.idNum=0,t.default=j,e.exports=t.default},"./client/components/infinite-list/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/keys.js"),a=n(o),l=s("./node_modules/debug/browser.js"),i=n(l),r=s("./node_modules/lodash/lodash.js"),u=s("./node_modules/page/index.js"),d=n(u),c=s("./node_modules/prop-types/index.js"),p=n(c),f=s("./node_modules/react/react.js"),m=n(f),h=s("./node_modules/create-react-class/index.js"),g=n(h),_=s("./node_modules/react-dom/index.js"),b=n(_),v=s("./client/lib/detect-history-navigation/index.js"),y=n(v),j=s("./client/lib/infinite-list/actions.js"),x=n(j),P=s("./client/lib/infinite-list/positions-store.js"),E=n(P),C=s("./client/lib/infinite-list/scroll-store.js"),S=n(C),I=s("./client/components/infinite-list/scroll-helper.js"),k=n(I),w=s("./client/lib/scroll-to/index.js"),T=n(w),N=s("./client/lib/react-smart-set-state/index.js"),R=n(N),D=(0,i.default)("calypso:infinite-list");t.default=(0,g.default)({displayName:"InfiniteList",lastScrollTop:-1,scrollRAFHandle:!1,scrollHelper:null,isScrolling:!1,propTypes:{items:p.default.array.isRequired,fetchingNextPage:p.default.bool.isRequired,lastPage:p.default.bool.isRequired,guessedItemHeight:p.default.number.isRequired,itemsPerRow:p.default.number,fetchNextPage:p.default.func.isRequired,getItemRef:p.default.func.isRequired,renderItem:p.default.func.isRequired,renderLoadingPlaceholders:p.default.func.isRequired,renderTrailingItems:p.default.func,context:p.default.oneOfType([p.default.object,p.default.bool])},getDefaultProps:function(){return{itemsPerRow:1,renderTrailingItems:function(){}}},smartSetState:R.default,componentWillMount:function(){var e=d.default.current,t=void 0,s=void 0;y.default.loadedViaHistory()&&(t=E.default.get(e),s=S.default.get(e)),t&&s&&(D("overriding scrollTop:",s),t.scrollTop=s),this.scrollHelper=new k.default(this.boundsForRef),this.scrollHelper.props=this.props,this._contextLoaded()&&(this._scrollContainer=this.props.context||window,this.scrollHelper.updateContextHeight(this.getCurrentContextHeight())),this.isScrolling=!1,t?D("infinite-list positions loaded from store"):(D("infinite-list positions reset for new list"),t={firstRenderedIndex:0,topPlaceholderHeight:0,lastRenderedIndex:this.scrollHelper.initialLastRenderedIndex(),bottomPlaceholderHeight:0,scrollTop:0}),D("infinite list mounting",t),this.setState(t)},componentDidMount:function(){this._contextLoaded()&&this._setContainerY(this.state.scrollTop),y.default.loadedViaHistory()&&this._overrideHistoryScroll(),D("setting scrollTop:",this.state.scrollTop),this.updateScroll({triggeredByScroll:!1}),this._contextLoaded()&&this._scrollContainer.addEventListener("scroll",this.onScroll)},componentWillReceiveProps:function(e){this.scrollHelper.props=e,this.isScrolling||(this.cancelAnimationFrame(),this.updateScroll({triggeredByScroll:!1})),e.context!==this.props.context&&this._contextLoaded()&&this._scrollContainer.removeEventListener("scroll",this._resetScroll)},componentDidUpdate:function(e){this._contextLoaded()&&(this.props.context!==e.context&&(this._scrollContainer&&this._scrollContainer.removeEventListener("scroll",this.onScroll),this._scrollContainer=this.props.context||window,this._scrollContainer.addEventListener("scroll",this.onScroll),y.default.loadedViaHistory()&&this._overrideHistoryScroll()),this.isScrolling||(this.cancelAnimationFrame(),this.updateScroll({triggeredByScroll:!1})))},reset:function(){this.cancelAnimationFrame(),this.scrollHelper=new k.default(this.boundsForRef),this.scrollHelper.props=this.props,this._contextLoaded()&&(this._scrollContainer=this.props.context||window,this.scrollHelper.updateContextHeight(this.getCurrentContextHeight())),this.isScrolling=!1,this.setState({firstRenderedIndex:0,topPlaceholderHeight:0,lastRenderedIndex:this.scrollHelper.initialLastRenderedIndex(),bottomPlaceholderHeight:0,scrollTop:0})},componentWillUnmount:function(){this._scrollContainer.removeEventListener("scroll",this.onScroll),this._scrollContainer.removeEventListener("scroll",this._resetScroll),this.cancelAnimationFrame()},cancelAnimationFrame:function(){this.scrollRAFHandle&&(window.cancelAnimationFrame(this.scrollRAFHandle),this.scrollRAFHandle=null),this.lastScrollTop=-1},onScroll:function(){this.isScrolling||this.scrollRAFHandle||this.getCurrentScrollTop()===this.lastScrollTop||(this.scrollRAFHandle=window.requestAnimationFrame(this.scrollChecks))},getCurrentContextHeight:function(){var e=this.props.context||window.document.documentElement;return e.clientHeight},getCurrentScrollTop:function(){return this.props.context?(D("getting scrollTop from context"),this.props.context.scrollTop):window.pageYOffset},scrollChecks:function(){return this.isMounted()&&this.getCurrentScrollTop()!==this.lastScrollTop?void this.updateScroll({triggeredByScroll:!0}):void(this.scrollRAFHandle=null)},scrollToTop:function(){var e=this;this.cancelAnimationFrame(),this.isScrolling=!0,this.props.context&&this.props.context!==window?(this.props.context.scrollTop=0,this.updateScroll({triggeredByScroll:!1}),this.isScrolling=!1):(0,T.default)({x:0,y:0,duration:250,onComplete:function(){e.isMounted()&&e.updateScroll({triggeredByScroll:!1}),e.isScrolling=!1}})},updateScroll:function(e){var t=d.default.current,s=void 0;this._contextLoaded()&&(this.lastScrollTop=this.getCurrentScrollTop(),x.default.storeScroll(t,this.lastScrollTop),this.scrollHelper.updateContextHeight(this.getCurrentContextHeight()),this.scrollHelper.scrollPosition=this.lastScrollTop,this.scrollHelper.triggeredByScroll=e.triggeredByScroll,this.scrollHelper.updatePlaceholderDimensions(),this.scrollHelper.scrollChecks(this.state),this.scrollHelper.stateUpdated&&(s={firstRenderedIndex:this.scrollHelper.firstRenderedIndex,topPlaceholderHeight:this.scrollHelper.topPlaceholderHeight,lastRenderedIndex:this.scrollHelper.lastRenderedIndex,bottomPlaceholderHeight:this.scrollHelper.bottomPlaceholderHeight,scrollTop:this.lastScrollTop},this.lastScrollTop=-1,D("new scroll positions",s,this.state),this.smartSetState(s),x.default.storePositions(t,s)),this.scrollRAFHandle=window.requestAnimationFrame(this.scrollChecks))},boundsForRef:function(e){return e in this.refs?b.default.findDOMNode(this.refs[e]).getBoundingClientRect():null},getVisibleItemIndexes:function(e){var t=b.default.findDOMNode(this),s=[],n=this.state.firstRenderedIndex,o=this.state.lastRenderedIndex,a=e&&e.offsetTop?e.offsetTop:0,l=void 0,i=void 0,r=void 0,u=void 0,d=e&&e.offsetBottom?e.offsetBottom:0;if(d=d||0,o>-1)for(r=t.children,u=1;u<r.length-1;u++)i=t.children[u].getBoundingClientRect(),l=window.innerHeight||document.documentElement.clientHeight,(i.top<0&&Math.abs(i.top)<i.height-a||i.top>0&&i.top<l-d)&&s.push({index:n+u-1,bounds:i});return s},render:function(){var e=(0,r.omit)(this.props,(0,a.default)(this.constructor.propTypes)),t="infinite-list__spacer",s=void 0,n=this.state.lastRenderedIndex,o=[];for((n===-1||n>this.props.items.length-1)&&(D("resetting lastRenderedIndex, currently at %s, %d items",n,this.props.items.length),n=Math.min(this.state.firstRenderedIndex+this.scrollHelper.initialLastRenderedIndex(),this.props.items.length-1),D("reset lastRenderedIndex to %s",n)),D("rendering %d to %d",this.state.firstRenderedIndex,n),s=this.state.firstRenderedIndex;s<=n;s++)o.push(this.props.renderItem(this.props.items[s],s));return this.props.fetchingNextPage&&(o=o.concat(this.props.renderLoadingPlaceholders())),m.default.createElement("div",e,m.default.createElement("div",{ref:"topPlaceholder",className:t,style:{height:this.state.topPlaceholderHeight}}),o,this.props.renderTrailingItems(),m.default.createElement("div",{ref:"bottomPlaceholder",className:t,style:{height:this.state.bottomPlaceholderHeight}}))},_setContainerY:function(e){return this.props.context&&this.props.context!==window?void(this.props.context.scrollTop=e):void window.scrollTo(0,e)},_overrideHistoryScroll:function(){this._contextLoaded()&&this._scrollContainer.addEventListener("scroll",this._resetScroll)},_resetScroll:function(e){var t=this.state.scrollTop;this._contextLoaded()&&(D("history setting scroll position:",e),this._setContainerY(t),this._scrollContainer.removeEventListener("scroll",this._resetScroll),D("override scroll position from HTML5 history popstate:",t))},_contextLoaded:function(){return this.props.context||this.props.context===!1||!("context"in this.props)}}),e.exports=t.default},"./client/components/infinite-list/scroll-helper.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/createClass.js"),i=n(l),r=s("./node_modules/debug/browser.js"),u=n(r),d=(0,u.default)("calypso:infinite-list:helper"),c=function(){function e(t){(0,a.default)(this,e),this.boundsForRef=t,this.itemHeights={},this.contextHeight=null,this.topHideLevelHard=null,this.topHideLevelSoft=null,this.bottomHideLevelHard=null,this.bottomHideLevelSoft=null,this.bottomHideLevelUltraSoft=null,this.props=null,this.scrollPosition=null,this.containerTop=null,this.topPlaceholderHeight=null,this.bottomPlaceholderHeight=null,this.containerBottom=null,this.stateUpdated=null,this.firstRenderedIndex=null,this.lastRenderedIndex=null}return(0,i.default)(e,[{key:"storedItemHeight",value:function(e){var t=this.props.guessedItemHeight;return e in this.itemHeights&&(t=this.itemHeights[e]),t}},{key:"forEachInRow",value:function(e,t,s){if("function"==typeof t){s&&(t=t.bind(s));for(var n=e-e%this.props.itemsPerRow,o=Math.min(n+this.props.itemsPerRow,this.props.items.length)-1,a=n;a<=o;a++)t(this.props.items[a],a)}}},{key:"storeRowItemHeights",value:function(e,t){this.forEachInRow(t,function(t){var s=this.props.getItemRef(t),n=this.boundsForRef(s),o=void 0;o=n?"bottom"===e?this.containerBottom-this.bottomPlaceholderHeight-n.top:n.bottom-(this.containerTop+this.topPlaceholderHeight):this.props.guessedItemHeight,this.itemHeights[s]=o},this)}},{key:"deleteRowItemHeights",value:function(e){var t=this;this.forEachInRow(e,function(e){var s=t.props.getItemRef(e);delete t.itemHeights[s]},this)}},{key:"getRowHeight",value:function(e){var t=this,s=0;return this.forEachInRow(e,function(e){var n=t.props.getItemRef(e),o=t.storedItemHeight(n);s=Math.max(s,o)},this),s}},{key:"updateContextHeight",value:function(e){this.contextHeight!==e&&(this.contextHeight=e,this.topHideLevelHard=Math.min(-1*e,-5*this.props.guessedItemHeight),this.topHideLevelSoft=Math.min(-2*e,-10*this.props.guessedItemHeight),this.bottomHideLevelHard=e+Math.max(e,5*this.props.guessedItemHeight),this.bottomHideLevelSoft=e+Math.max(2*e,10*this.props.guessedItemHeight),this.bottomHideLevelUltraSoft=e+Math.max(3*e,15*this.props.guessedItemHeight))}},{key:"initialLastRenderedIndex",value:function(){return Math.min(this.props.items.length-1,Math.floor(this.bottomHideLevelSoft/this.props.guessedItemHeight)-1)}},{key:"updatePlaceholderDimensions",value:function(){var e=this.boundsForRef("topPlaceholder"),t=this.boundsForRef("bottomPlaceholder");this.topPlaceholderHeight=e.height,this.containerTop=e.top,this.bottomPlaceholderHeight=t.height,this.containerBottom=t.bottom}},{key:"scrollChecks",value:function(e){this.reset(e),this.adjustLastRenderedIndex(),this.shouldHideItemsAbove()?this.hideItemsAbove():this.shouldShowItemsAbove()&&this.showItemsAbove(),this.shouldHideItemsBelow()?this.hideItemsBelow():this.shouldShowItemsBelow()&&this.showItemsBelow(),this.shouldLoadNextPage()&&this.loadNextPage()}},{key:"reset",value:function(e){this.stateUpdated=!1,this.firstRenderedIndex=e.firstRenderedIndex,this.lastRenderedIndex=e.lastRenderedIndex}},{key:"adjustLastRenderedIndex",value:function(){var e=this.initialLastRenderedIndex(),t=this.lastRenderedIndex||0,s=this.firstRenderedIndex||0,n=this.props.items.length,o=t;0===n&&(o=-1),t>=n&&(o=Math.min(s+e,n-1)),o===-1&&n>0&&0===s&&(o=e),o!==this.lastRenderedIndex&&(this.stateUpdated=!0,this.lastRenderedIndex=o)}},{key:"shouldHideItemsAbove",value:function(){return this.containerTop+this.topPlaceholderHeight<this.topHideLevelSoft}},{key:"hideItemsAbove",value:function(){for(var e=void 0,t=void 0;this.firstRenderedIndex<this.props.items.length;){if(this.storeRowItemHeights("top",this.firstRenderedIndex),e=this.getRowHeight(this.firstRenderedIndex),t=this.containerTop+this.topPlaceholderHeight+e,t>this.topHideLevelHard){this.deleteRowItemHeights(this.firstRenderedIndex);break}this.topPlaceholderHeight+=e,this.firstRenderedIndex+=this.props.itemsPerRow,this.stateUpdated=!0,d("hiding top item",e,this.topPlaceholderHeight)}}},{key:"shouldShowItemsAbove",value:function(){return this.containerTop+this.topPlaceholderHeight>this.topHideLevelHard}},{key:"showItemsAbove",value:function(){for(var e=void 0,t=void 0;this.firstRenderedIndex>0&&(e=this.getRowHeight(this.firstRenderedIndex-this.props.itemsPerRow),t=this.containerTop+this.topPlaceholderHeight-e,!(t<this.topHideLevelSoft));)this.deleteRowItemHeights(this.firstRenderedIndex-this.props.itemsPerRow),this.firstRenderedIndex-=this.props.itemsPerRow,this.firstRenderedIndex=Math.max(0,this.firstRenderedIndex),this.firstRenderedIndex<=0?this.topPlaceholderHeight=0:this.topPlaceholderHeight=Math.max(0,this.topPlaceholderHeight-e),this.stateUpdated=!0,d("showing top item",e,this.topPlaceholderHeight)}},{key:"shouldHideItemsBelow",value:function(){var e=this.containerBottom-this.bottomPlaceholderHeight;return e>this.bottomHideLevelUltraSoft}},{key:"hideItemsBelow",value:function(){for(var e=void 0,t=void 0;this.lastRenderedIndex>=0;){if(this.storeRowItemHeights("bottom",this.lastRenderedIndex),
t=this.getRowHeight(this.lastRenderedIndex),e=this.containerBottom-this.bottomPlaceholderHeight-t,e<this.bottomHideLevelHard){this.deleteRowItemHeights(this.lastRenderedIndex);break}this.bottomPlaceholderHeight+=t,this.lastRenderedIndex-=this.props.itemsPerRow,this.stateUpdated=!0,d("hiding bottom item",t,this.bottomPlaceholderHeight)}}},{key:"shouldShowItemsBelow",value:function(){var e=this.containerBottom-this.bottomPlaceholderHeight;return e<this.bottomHideLevelHard}},{key:"showItemsBelow",value:function(){for(var e=void 0,t=void 0,s=void 0;this.lastRenderedIndex<this.props.items.length-1&&(e=this.getRowHeight(this.lastRenderedIndex+this.props.itemsPerRow),s=this.containerBottom-this.bottomPlaceholderHeight,t=s+e,!(t>this.bottomHideLevelSoft&&s>this.bottomHideLevelHard));)this.deleteRowItemHeights(this.lastRenderedIndex+this.props.itemsPerRow),this.bottomPlaceholderHeight-e<0?(this.containerBottom+=e-this.bottomPlaceholderHeight,this.bottomPlaceholderHeight=0):this.bottomPlaceholderHeight-=e,this.lastRenderedIndex+=this.props.itemsPerRow,this.lastRenderedIndex=Math.min(this.lastRenderedIndex,this.props.items.length-1),this.lastRenderedIndex>=this.props.items.length-1&&(this.bottomPlaceholderHeight=0),this.stateUpdated=!0,d("showing bottom item",e,this.bottomPlaceholderHeight)}},{key:"shouldLoadNextPage",value:function(){return!this.props.fetchingNextPage&&!this.props.lastPage&&(0===this.bottomPlaceholderHeight&&this.containerBottom<this.bottomHideLevelHard)}},{key:"loadNextPage",value:function(){var e=this,t=this.triggeredByScroll;d("fetching next page",this.containerBottom,this.bottomPlaceholderHeight),this.scrollPosition>this.contextHeight&&(t=!0),setTimeout(function(){return!e.props.fetchingNextPage&&!e.props.lastPage&&void e.props.fetchNextPage({triggeredByScroll:t})},0)}}]),e}();t.default=c,e.exports=t.default},"./client/components/info-popover/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/gridicons/build/index.js"),v=n(b),y=s("./node_modules/classnames/index.js"),j=n(y),x=s("./client/components/popover/index.jsx"),P=n(x),E=s("./client/lib/analytics/index.js"),C=n(E),S=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),n.state={showPopover:!1},n.handleClick=function(e){e.preventDefault(),n.setState({showPopover:!n.state.showPopover},n.recordStats)},n.handleClose=function(){return n.setState({showPopover:!1},n.recordStats)},n.recordStats=function(){var e=n.props,t=e.gaEventCategory,s=e.popoverName;if(t&&s){var o=n.state.showPopover?" Opened":" Closed";C.default.ga.recordEvent(t,"InfoPopover: "+s+o)}},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return h.default.createElement("span",{onClick:this.handleClick,ref:"infoPopover",className:(0,j.default)("info-popover",{is_active:this.state.showPopover},this.props.className)},h.default.createElement(v.default,{icon:this.props.icon,size:this.props.iconSize}),h.default.createElement(P.default,{autoRtl:this.props.autoRtl,id:this.props.id,isVisible:this.state.showPopover,context:this.refs&&this.refs.infoPopover,ignoreContext:this.props.ignoreContext,position:this.props.position,onClose:this.handleClose,className:(0,j.default)("popover","info-popover__tooltip",this.props.className),rootClassName:this.props.rootClassName},this.props.children))}}]),t}(m.Component);S.propTypes={autoRtl:_.default.bool,className:_.default.string,gaEventCategory:_.default.string,icon:_.default.string,iconSize:_.default.number,id:_.default.string,ignoreContext:_.default.shape({getDOMNode:_.default.func}),popoverName:_.default.string,position:_.default.oneOf(["top","top right","right","bottom right","bottom","bottom left","left","top left"]),rootClassName:_.default.string},S.defaultProps={autoRtl:!0,icon:"info-outline",iconSize:18,position:"bottom"},t.default=S,e.exports=t.default},"./client/components/list-end/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=s("./node_modules/react/react.js"),l=n(a),i=l.default.createElement("div",{className:"list-end"});e.exports=t.default},"./client/components/post-excerpt/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/classnames/index.js"),v=n(b),y=s("./client/components/auto-direction/index.jsx"),j=n(y),x=s("./client/components/emojify/index.jsx"),P=n(x),E=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){if(!this.props.content)return null;var e=(0,v.default)({"post-excerpt":!0,"is-long":this.props.content.length>this.props.maxLength});return h.default.createElement(j.default,null,h.default.createElement(P.default,null,h.default.createElement("div",{className:e,dangerouslySetInnerHTML:{__html:this.props.content}})))}}]),t}(h.default.Component);E.propTypes={content:_.default.string.isRequired,maxLength:_.default.number},E.defaultProps={maxLength:80},t.default=E,e.exports=t.default},"./client/components/post-format/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/gridicons/build/index.js"),_=n(g),b=s("./node_modules/i18n-calypso/index.js"),v={aside:"pages",image:"image",video:"video",quote:"quote",link:"link",gallery:"image-multiple",audio:"audio"},y=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"getIcon",value:function(){return v[this.props.format]}},{key:"getLabel",value:function(){var e=this.props,t=e.format,s=e.translate;switch(t){case"aside":return s("Aside");case"image":return s("Image");case"video":return s("Video");case"quote":return s("Quote");case"link":return s("Link");case"gallery":return s("Gallery");case"audio":return s("Audio")}}},{key:"render",value:function(){var e=this.getIcon();return e?h.default.createElement("span",{className:"post-format__icon",title:this.getLabel()},h.default.createElement(_.default,{icon:e,size:this.props.size})):null}}]),t}(m.Component);y.defaultProps={format:"standard",size:24},t.default=(0,b.localize)(y),e.exports=t.default},"./client/components/section-header/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/classnames/index.js"),_=n(g),b=s("./client/components/card/compact.jsx"),v=n(b),y=s("./client/components/count/index.jsx"),j=n(y),x=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e="number"==typeof this.props.count,t=!(this.props.label||e||this.props.children),s=(0,_.default)(this.props.className,"section-header",{"is-empty":t});return h.default.createElement(v.default,{className:s,href:this.props.href},h.default.createElement("div",{className:"section-header__label"},h.default.createElement("span",{className:"section-header__label-text"},this.props.label),e&&h.default.createElement(j.default,{count:this.props.count})),h.default.createElement("div",{className:"section-header__actions"},this.props.children))}}]),t}(m.PureComponent);x.defaultProps={label:"",href:null},t.default=x,e.exports=t.default},"./client/components/section-nav/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/classnames/index.js"),v=n(b),y=s("./node_modules/lodash/lodash.js"),j=s("./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx"),x=n(j),P=s("./client/components/section-nav/tabs.jsx"),E=n(P),C=s("./client/components/section-nav/item.jsx"),S=n(C),I=s("./client/components/search/index.jsx"),k=n(I),w=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),T.call(n),o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.checkForSiblingControls(this.props.children)}},{key:"componentWillReceiveProps",value:function(e){(0,y.isEqual)(this.props,e)||(this.checkForSiblingControls(e.children),this.hasSiblingControls||this.closeMobilePanel())}},{key:"render",value:function(){var e=this.getChildren(),t=void 0;return e?(t=(0,v.default)({"section-nav":!0,"is-open":this.state.mobileOpen,"has-pinned-items":this.hasPinnedSearch||this.props.hasPinnedItems},this.props.className),h.default.createElement("div",{className:t},this.renderDropdown(),h.default.createElement("div",{className:"section-nav__panel"},e))):(t=(0,v.default)({"section-nav":!0,"is-empty":!0},this.props.className),h.default.createElement("div",{className:t},h.default.createElement("div",{className:"section-nav__panel"},h.default.createElement(S.default,null))))}}]),t}(m.Component);w.propTypes={selectedText:_.default.node,selectedCount:_.default.number,hasPinnedItems:_.default.bool,onMobileNavPanelOpen:_.default.func,className:_.default.string,allowDropdown:_.default.bool},w.defaultProps={onMobileNavPanelOpen:function(){},allowDropdown:!0};var T=function(){var e=this;this.state={mobileOpen:!1},this.renderDropdown=function(){return e.props.allowDropdown?h.default.createElement("div",{className:"section-nav__mobile-header",onClick:e.toggleMobileOpenState},h.default.createElement("span",{className:"section-nav__mobile-header-text"},e.props.selectedText)):h.default.createElement("div",null)},this.getChildren=function(){return h.default.Children.map(e.props.children,function(e){var t={hasSiblingControls:this.hasSiblingControls,closeSectionNavMobilePanel:this.closeMobilePanel};return e?(e.type!==E.default||e.props.selectedText||"string"!=typeof this.props.selectedText||(t.selectedText=this.props.selectedText),e.type===E.default&&this.props.selectedCount&&(t.selectedCount=this.props.selectedCount),e.type===k.default&&(e.props.pinned&&(this.hasPinnedSearch=!0),t.onSearch=this.generateOnSearch(e.props.onSearch)),h.default.cloneElement(e,t)):null}.bind(e))},this.closeMobilePanel=function(){window.innerWidth<480&&e.state.mobileOpen&&e.setState({mobileOpen:!1})},this.toggleMobileOpenState=function(){var t=!e.state.mobileOpen;e.setState({mobileOpen:t}),t&&e.props.onMobileNavPanelOpen()},this.generateOnSearch=function(t){return function(){t.apply(void 0,arguments),e.closeMobilePanel()}},this.checkForSiblingControls=function(t){e.hasSiblingControls=!1;var s=[k.default,x.default];h.default.Children.forEach(t,function(e,t){t&&e&&!(0,y.includes)(s,e.type)&&(this.hasSiblingControls=!0)}.bind(e))}};t.default=w,e.exports=t.default},"./client/components/section-nav/item.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/classnames/index.js"),v=n(b),y=s("./client/components/count/index.jsx"),j=n(y),x=s("./client/sections-preload.js"),P=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),n._preloaded=!1,n.preload=function(){!n._preloaded&&n.props.preloadSectionName&&(n._preloaded=!0,(0,x.preload)(n.props.preloadSectionName))},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.itemType?this.props.itemType:"tab",t={"is-selected":this.props.selected,"is-external":this.props.isExternalLink};t["section-nav-"+e]=!0;var s=(0,v.default)(this.props.className,t),n=void 0,o=void 0;return this.props.isExternalLink&&(n="_blank"),this.props.disabled||(o=this.props.onClick),h.default.createElement("li",{className:s},h.default.createElement("a",{href:this.props.path,target:n,className:"section-nav-"+e+"__link",onClick:o,onMouseEnter:this.preload,tabIndex:this.props.tabIndex||0,"aria-selected":this.props.selected,disabled:this.props.disabled,role:"menuitem",rel:this.props.isExternalLink?"external":null},h.default.createElement("span",{className:"section-nav-"+e+"__text"},this.props.children,"number"==typeof this.props.count&&h.default.createElement(j.default,{count:this.props.count}))))}}]),t}(m.PureComponent);P.propTypes={itemType:_.default.string,path:_.default.string,selected:_.default.bool,tabIndex:_.default.number,onClick:_.default.func,isExternalLink:_.default.bool,disabled:_.default.bool,count:_.default.oneOfType([_.default.number,_.default.bool]),className:_.default.string,preloadSectionName:_.default.string},t.default=P,e.exports=t.default},"./client/components/section-nav/segmented.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/prop-types/index.js"),v=n(b),y=s("./node_modules/classnames/index.js"),j=n(y),x=s("./client/components/segmented-control/item.jsx"),P=n(x),E=s("./client/components/segmented-control/index.jsx"),C=n(E),S=1,I=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var l=arguments.length,r=Array(l),d=0;d<l;d++)r[d]=arguments[d];return s=n=(0,f.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(r))),n.getControlItems=function(){return _.default.Children.map(n.props.children,function(e,t){return _.default.createElement(P.default,(0,a.default)({},e.props,{key:"navSegmented-"+this.id+"-"+t}),e.props.children)},n)},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){this.id=S,S++}},{key:"render",value:function(){var e=(0,j.default)({"section-nav-group":!0,"section-nav__segmented":!0,"has-siblings":this.props.hasSiblingControls});return _.default.createElement("div",{className:e},this.props.label&&_.default.createElement("h6",{className:"section-nav-group__label"},this.props.label),_.default.createElement(C.default,null,this.getControlItems()))}}]),t}(g.Component);I.propTypes={label:v.default.string,hasSiblingControls:v.default.bool},I.defaultProps={hasSiblingControls:!1},t.default=I,e.exports=t.default},"./client/components/section-nav/tabs.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/react-dom/index.js"),v=n(b),y=s("./node_modules/prop-types/index.js"),j=n(y),x=s("./node_modules/classnames/index.js"),P=n(x),E=s("./node_modules/lodash/lodash.js"),C=s("./client/components/select-dropdown/item.jsx"),S=n(C),I=s("./client/components/select-dropdown/index.jsx"),k=n(I),w=s("./client/lib/viewport/index.js"),T=n(w),N=480,R=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var l=arguments.length,r=Array(l),d=0;d<l;d++)r[d]=arguments[d];return s=n=(0,f.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(r))),n.state={isDropdown:!1},n.getTabWidths=function(){var e=0;_.default.Children.forEach(n.props.children,function(t,s){if(t){var n=v.default.findDOMNode(this.refs["tab-"+s]).offsetWidth;e+=n}}.bind(n)),n.tabsWidth=Math.max(e,n.tabsWidth||0)},n.getDropdown=function(){var e=_.default.Children.map(n.props.children,function(e,t){return e?_.default.createElement(S.default,(0,a.default)({},e.props,{key:"navTabsDropdown-"+t}),e.props.children):null});return _.default.createElement(k.default,{className:"section-nav-tabs__dropdown",selectedText:n.props.selectedText,selectedCount:n.props.selectedCount},e)},n.setDropdown=function(){var e=void 0;if(window.innerWidth>N){if(!n.refs.navGroup)return;e=n.refs.navGroup.offsetWidth,n.getTabWidths(),e<=n.tabsWidth&&!n.state.isDropdown?n.setState({isDropdown:!0}):e>n.tabsWidth&&n.state.isDropdown&&n.setState({isDropdown:!1})}else window.innerWidth<=N&&n.state.isDropdown&&n.setState({isDropdown:!1})},n.keyHandler=function(e){switch(e.keyCode){case 32:case 13:e.preventDefault(),document.activeElement.click()}},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.setDropdown(),this.debouncedAfterResize=(0,E.debounce)(this.setDropdown,300),window.addEventListener("resize",this.debouncedAfterResize)}},{key:"componentDidUpdate",value:function(){this.setDropdown()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debouncedAfterResize)}},{key:"render",value:function(){var e=_.default.Children.map(this.props.children,function(e,t){return e&&_.default.cloneElement(e,{ref:"tab-"+t})}),t=(0,P.default)({"section-nav-tabs":!0,"is-dropdown":this.state.isDropdown,"is-open":this.state.isDropdownOpen,"has-siblings":this.props.hasSiblingControls}),s=T.default.getWindowInnerWidth();return _.default.createElement("div",{className:"section-nav-group",ref:"navGroup"},_.default.createElement("div",{className:t},this.props.label&&_.default.createElement("h6",{className:"section-nav-group__label"},this.props.label),_.default.createElement("ul",{className:"section-nav-tabs__list",role:"menu",onKeyDown:this.keyHandler},e),this.state.isDropdown&&s>N&&this.getDropdown()))}}]),t}(g.Component);R.propTypes={selectedText:j.default.string,selectedCount:j.default.number,label:j.default.string,hasSiblingControls:j.default.bool},R.defaultProps={hasSiblingControls:!1},t.default=R,e.exports=t.default},"./client/components/segmented-control/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/lodash/lodash.js"),h=s("./node_modules/prop-types/index.js"),g=n(h),_=s("./node_modules/react-dom/index.js"),b=n(_),v=s("./node_modules/react/react.js"),y=n(v),j=s("./node_modules/classnames/index.js"),x=n(j),P=s("./client/components/segmented-control/item.jsx"),E=n(P),C=1,S=function(e){function t(e){(0,i.default)(this,t);var s=(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));s.getSegmentedItems=function(){var e=0;return s.props.children?y.default.Children.map(s.props.children,function(t,s){var n=y.default.cloneElement(t,{ref:t.type===E.default?"item-"+e:null,key:"item-"+s,onClick:function(e){this.setKeyboardNavigation(!1),"function"==typeof t.props.onClick&&t.props.onClick(e)}.bind(this)});return t.type===E.default&&e++,n},s):s.props.options.map(function(e,t){return y.default.createElement(E.default,{key:"segmented-control-"+this.id+"-"+e.value,ref:"item-"+t,selected:this.state.selected===e.value,onClick:this.selectItem.bind(this,e),path:e.path,index:t,value:e.value},e.label)},s)},s.selectItem=function(e){e&&(s.props.onSelect&&s.props.onSelect(e),s.setState({selected:e.value,keyboardNavigation:!1}))},s.setKeyboardNavigation=function(e){s.setState({keyboardNavigation:e})},s.navigateItem=function(e){switch(e.keyCode){case 9:s.navigateItemByTabKey(e);break;case 32:case 13:e.preventDefault(),document.activeElement.click();break;case 37:e.preventDefault(),s.focusSibling("previous");break;case 39:e.preventDefault(),s.focusSibling("next")}},s.navigateItemByTabKey=function(e){var t=e.shiftKey?"previous":"next",n=s.focusSibling(t);n!==!1&&e.preventDefault()},s.focusSibling=function(e){var t,n,o;return n=s.props.options?(0,m.filter)((0,m.map)(s.props.options,"value"),Boolean):(0,m.filter)(s.props.children,function(e){return e.type===E.default}),"number"!=typeof s.focused&&(s.focused=s.getCurrentFocusedIndex()),t="previous"===e?-1:1,o=s.focused+t,!(o>=n.length||o<0)&&(b.default.findDOMNode(s.refs["item-"+o].refs.itemLink).focus(),s.focused=o,o)},s.getCurrentFocusedIndex=function(){var e=document.activeElement.parentNode,t=Array.prototype.slice(e.parentNode.children),s=t.indexOf(e);return s>-1?s:0};var n;return e.options&&(n=e.initialSelected||e.options[0].value),s.state={selected:n,keyboardNavigation:!1},s}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.id=C,C++}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.navigateItem)}},{key:"render",value:function(){var e={"segmented-control":!0,"keyboard-navigation":this.state.keyboardNavigation,"is-compact":this.props.compact,"is-primary":this.props.primary};return this.props.className&&this.props.className.split(" ").forEach(function(t){e[t]=!0}),y.default.createElement("ul",{className:(0,x.default)(e),style:this.props.style,role:"radiogroup",onKeyDown:this.navigateItem,onKeyUp:this.setKeyboardNavigation.bind(this,!0)},this.getSegmentedItems())}}]),t}(y.default.Component);S.propTypes={initialSelected:g.default.string,compact:g.default.bool,className:g.default.string,style:g.default.object,onSelect:g.default.func,options:g.default.arrayOf(g.default.shape({value:g.default.string.isRequired,label:g.default.string.isRequired,path:g.default.string}))},S.defaultProps={compact:!1},t.default=S,e.exports=t.default},"./client/components/segmented-control/item.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/defineProperty.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/react/react.js"),v=n(b),y=s("./node_modules/classnames/index.js"),j=n(y),x=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=(0,j.default)({"segmented-control__item":!0,"is-selected":this.props.selected}),t=(0,j.default)("segmented-control__link",(0,a.default)({},"item-index-"+this.props.index,null!=this.props.index));return v.default.createElement("li",{className:e},v.default.createElement("a",{href:this.props.path,className:t,ref:"itemLink",onClick:this.props.onClick,title:this.props.title,"data-e2e-value":this.props.value,role:"radio",tabIndex:0,"aria-selected":this.props.selected},v.default.createElement("span",{className:"segmented-control__text"},this.props.children)))}}]),t}(v.default.Component);x.propTypes={children:_.default.node.isRequired,path:_.default.string,selected:_.default.bool,title:_.default.string,value:_.default.string,onClick:_.default.func},x.defaultProps={selected:!1},t.default=x,e.exports=t.default},"./client/components/share/facebook-share-preview/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FacebookSharePreview=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/i18n-calypso/index.js"),v=t.FacebookSharePreview=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.articleUrl,s=e.externalProfilePicture,n=e.externalProfileUrl,o=e.externalDisplay,a=e.imageUrl,l=e.message,i=e.translate;return _.default.createElement("div",{className:"facebook-share-preview"},_.default.createElement("div",{className:"facebook-share-preview__content"},_.default.createElement("div",{className:"facebook-share-preview__header"},_.default.createElement("div",{className:"facebook-share-preview__profile-picture-part"},_.default.createElement("img",{className:"facebook-share-preview__profile-picture",src:s})),_.default.createElement("div",{className:"facebook-share-preview__profile-line-part"},_.default.createElement("div",{className:"facebook-share-preview__profile-line"},_.default.createElement("a",{className:"facebook-share-preview__profile-name",href:n},o),_.default.createElement("span",null,i("published an article on {{a}}WordPress{{/a}}",{components:{a:_.default.createElement("a",{href:"#"})}}))),_.default.createElement("div",{className:"facebook-share-preview__meta-line"},_.default.createElement("a",{href:"https://wordpress.com"},i("WordPress"))))),_.default.createElement("div",{className:"facebook-share-preview__body"},_.default.createElement("div",{className:"facebook-share-preview__message"},l),_.default.createElement("div",{className:"facebook-share-preview__article-url-line"},_.default.createElement("a",{className:"facebook-share-preview__article-url",href:t},t)),a&&_.default.createElement("div",{className:"facebook-share-preview__image-wrapper"},_.default.createElement("img",{className:"facebook-share-preview__image",src:a})))))}}]),t}(g.PureComponent);v.PropTypes={articleUrl:h.default.string,externalProfilePicture:h.default.string,externalProfileUrl:h.default.string,externalName:h.default.string,imageUrl:h.default.string,message:h.default.string},t.default=(0,b.localize)(v)},"./client/components/share/google-plus-share-preview/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GooglePlusSharePreview=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/i18n-calypso/index.js"),v=s("./client/components/share/helpers.js"),y=t.GooglePlusSharePreview=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.articleUrl,s=e.articleTitle,n=e.articleContent,o=e.externalProfilePicture,a=e.externalProfileUrl,l=e.externalName,i=e.imageUrl,r=e.message,u=(0,v.truncateArticleContent)(255,n);return h.default.createElement("div",{className:"google-plus-share-preview"},h.default.createElement("div",{className:"google-plus-share-preview__content"},h.default.createElement("div",{className:"google-plus-share-preview__header"},h.default.createElement("div",{className:"google-plus-share-preview__profile-picture-part"},h.default.createElement("img",{className:"google-plus-share-preview__profile-picture",src:o})),h.default.createElement("div",{className:"google-plus-share-preview__profile-line-part"},h.default.createElement("div",{className:"google-plus-share-preview__profile-line"},h.default.createElement("a",{className:"google-plus-share-preview__profile-name",href:a},l)))),h.default.createElement("div",{className:"google-plus-share-preview__body"},h.default.createElement("div",{className:"google-plus-share-preview__message"},r),h.default.createElement("div",{className:"google-plus-share-preview__article-summary"
},u),h.default.createElement("div",{className:"google-plus-share-preview__article-title"},h.default.createElement("a",{className:"google-plus-share-preview__article-url",href:t},s)),i&&h.default.createElement("div",{className:"google-plus-share-preview__image-wrapper"},h.default.createElement("a",{href:t},h.default.createElement("img",{className:"google-plus-share-preview__image",src:i}))))))}}]),t}(m.PureComponent);y.propTypes={articleUrl:_.default.string,externalProfilePicture:_.default.string,externalProfileUrl:_.default.string,externalName:_.default.string,imageUrl:_.default.string,message:_.default.string},t.default=(0,b.localize)(y)},"./client/components/share/helpers.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.truncateArticleContent=t.firstValid=t.hardTruncation=t.truncatedAtSpace=t.shortEnough=void 0;var n=s("./node_modules/lodash/lodash.js");t.shortEnough=function(e){return function(t){return t.length<=e&&t}},t.truncatedAtSpace=function(e,t){return function(s){var n=s.slice(0,t),o=n.lastIndexOf(" ");return o>e&&o<t&&n.slice(0,o).concat("…")}},t.hardTruncation=function(e){return function(t){return t.slice(0,e).concat("…")}},t.firstValid=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(e){return(0,n.find)(t,function(t){return!1!==t(e)})(e)}},t.truncateArticleContent=function(e,t){if(t.length<=e)return t;var s=t.slice(0,e);if(" "===t[e+1])return t+"…";var n=s.lastIndexOf(" ");return s.slice(0,n).concat("…")}},"./client/components/share/linkedin-share-preview/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedinSharePreview=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/i18n-calypso/index.js"),v=t.LinkedinSharePreview=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.articleUrl,s=e.externalDisplay,n=e.externalProfilePicture,o=e.externalProfileUrl,a=e.imageUrl,l=e.message,i=e.siteDomain;return _.default.createElement("div",{className:"linkedin-share-preview"},_.default.createElement("div",{className:"linkedin-share-preview__content"},_.default.createElement("div",{className:"linkedin-share-preview__header"},_.default.createElement("div",{className:"linkedin-share-preview__profile-picture-part"},_.default.createElement("img",{className:"linkedin-share-preview__profile-picture",src:n})),_.default.createElement("div",{className:"linkedin-share-preview__profile-line-part"},_.default.createElement("div",{className:"linkedin-share-preview__profile-line"},_.default.createElement("a",{className:"linkedin-share-preview__profile-name",href:o},s)))),_.default.createElement("div",{className:"linkedin-share-preview__body"},a&&_.default.createElement("div",{className:"linkedin-share-preview__image-wrapper"},_.default.createElement("a",{href:t},_.default.createElement("img",{className:"linkedin-share-preview__image",src:a}))),_.default.createElement("div",{className:"linkedin-share-preview__message-part"},_.default.createElement("a",{className:"linkedin-share-preview__message-link",href:t},_.default.createElement("div",{className:"linkedin-share-preview__message"},l),_.default.createElement("div",{className:"linkedin-share-preview__site-url"},i))))))}}]),t}(g.PureComponent);v.PropTypes={articleUrl:h.default.string,externalProfilePicture:h.default.string,externalProfileUrl:h.default.string,imageUrl:h.default.string,message:h.default.string,name:h.default.string,siteDomain:h.default.string},t.default=(0,b.localize)(v)},"./client/components/share/tumblr-share-preview/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TumblrSharePreview=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/i18n-calypso/index.js"),_=s("./client/components/share/helpers.js"),b=t.TumblrSharePreview=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.externalProfilePicture,s=e.externalProfileUrl,n=e.externalName,o=e.message,a=e.articleUrl,l=e.articleTitle,i=e.articleContent,r=e.imageUrl,u=e.translate,d=(0,_.truncateArticleContent)(396,i);return h.default.createElement("div",{className:"tumblr-share-preview"},h.default.createElement("div",{className:"tumblr-share-preview__content"},h.default.createElement("div",{className:"tumblr-share-preview__profile-picture-part"},h.default.createElement("img",{className:"tumblr-share-preview__profile-picture",src:t})),h.default.createElement("div",{className:"tumblr-share-preview__content-part"},h.default.createElement("div",{className:"tumblr-share-preview__profile-line"},h.default.createElement("a",{className:"tumblr-share-preview__profile-name",href:s},n),h.default.createElement("span",{className:"tumblr-share-preview__profile-wp"},u("WordPress"))),h.default.createElement("div",{className:"tumblr-share-preview__post-title-part"},h.default.createElement("div",{className:"tumblr-share-preview__post-title"},l)),h.default.createElement("div",{className:"tumblr-share-preview__message"},h.default.createElement("a",{className:"tumblr-share-preview__message-link",href:a},o)),r&&h.default.createElement("div",{className:"tumblr-share-preview__image-wrapper"},h.default.createElement("img",{className:"tumblr-share-preview__image",src:r})),h.default.createElement("div",{className:"tumblr-share-preview__summery-part"},h.default.createElement("blockquote",{className:"tumblr-share-preview__summery"},d)),h.default.createElement("div",{className:"tumblr-share-preview__article-link-line"},h.default.createElement("a",{className:"tumblr-share-preview__article-link",href:a},u("View On WordPress"))))))}}]),t}(m.PureComponent);t.default=(0,g.localize)(b)},"./client/components/share/twitter-share-preview/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TwitterSharePreview=void 0;var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=t.TwitterSharePreview=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.articleUrl,s=e.externalDisplay,n=e.externalName,o=e.externalProfileURL,a=e.externalProfilePicture,l=e.message,i=e.imageUrl;return h.default.createElement("div",{className:"twitter-share-preview"},h.default.createElement("div",{className:"twitter-share-preview__content"},h.default.createElement("div",{className:"twitter-share-preview__profile-picture-part"},h.default.createElement("img",{className:"twitter-share-preview__profile-picture",src:a})),h.default.createElement("div",{className:"twitter-share-preview__content-part"},h.default.createElement("div",{className:"twitter-share-preview__profile-line"},h.default.createElement("a",{className:"twitter-share-preview__profile-name",href:o},n),h.default.createElement("a",{className:"twitter-share-preview__profile-handle",href:o},s)),h.default.createElement("div",{className:"twitter-share-preview__message"},l),h.default.createElement("div",{className:"twitter-share-preview__article-url-line"},h.default.createElement("a",{className:"twitter-share-preview__article-url",href:t},t)),i&&h.default.createElement("div",{className:"twitter-share-preview__image-wrapper"},h.default.createElement("img",{className:"twitter-share-preview__image",src:i})))))}}]),t}(m.PureComponent);t.default=g},"./client/components/sidebar-navigation/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/react-redux/es/index.js"),v=s("./node_modules/gridicons/build/index.js"),y=n(v),j=s("./client/state/document-head/selectors.js"),x=s("./client/state/ui/layout-focus/actions.js"),P=function(e){function t(e){(0,i.default)(this,t);var s=(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return s.toggleSidebar=s.toggleSidebar.bind(s),s}return(0,f.default)(t,e),(0,u.default)(t,[{key:"toggleSidebar",value:function(e){e.preventDefault(),this.props.setLayoutFocus("sidebar")}},{key:"render",value:function(){return _.default.createElement("header",{className:"current-section"},_.default.createElement("a",{onClick:this.toggleSidebar,className:this.props.linkClassName},_.default.createElement(y.default,{icon:"chevron-left"}),this.props.children,_.default.createElement("div",null,_.default.createElement("p",{className:"current-section__"+this.props.sectionName+"-title"},this.props.sectionTitle),_.default.createElement("h1",{className:"current-section__section-title"},this.props.title))))}}]),t}(_.default.Component);P.propTypes={title:h.default.string,linkClassName:h.default.string,sectionTitle:h.default.string,sectionName:h.default.string.isRequired,setLayoutFocus:h.default.func.isRequired},t.default=(0,b.connect)(function(e){return{title:(0,j.getDocumentHeadTitle)(e)}},{setLayoutFocus:x.setLayoutFocus})(P),e.exports=t.default},"./client/components/stat-update-indicator/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/prop-types/index.js"),a=n(o),l=s("./node_modules/react/react.js"),i=n(l),r=s("./node_modules/create-react-class/index.js"),u=n(r),d=s("./node_modules/classnames/index.js"),c=n(d),p=(0,u.default)({displayName:"StatUpdateIndicator",propTypes:{children:a.default.node.isRequired,updateOn:a.default.oneOfType([a.default.string,a.default.number,a.default.bool]).isRequired},getInitialState:function(){return{updating:!this.props.updateOn}},componentDidMount:function(){this.clearTheUpdate()},componentWillReceiveProps:function(e){this.props.updateOn!==e.updateOn&&(clearTimeout(this.clearingUpdateTimeout),this.setState({updating:!0}),this.clearTheUpdate())},clearTheUpdate:function(){clearTimeout(this.clearingUpdateTimeout),this.clearingUpdateTimeout=setTimeout(function(){this.isMounted()&&this.setState({updating:!1})}.bind(this),800)},render:function(){var e=(0,c.default)({"stat-update-indicator":!0,"is-updating":this.state.updating});return i.default.createElement("span",{className:e},this.props.children)}});t.default=p,e.exports=t.default},"./client/components/tooltip/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/classnames/index.js"),v=n(b),y=s("./client/components/popover/index.jsx"),j=n(y),x=s("./client/lib/viewport/index.js"),P=n(x),E=function(){},C=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){if(!this.props.showOnMobile&&P.default.isMobile())return null;var e=(0,v.default)("popover","tooltip","is-"+this.props.status,"is-"+this.props.position,this.props.className);return h.default.createElement(j.default,{autoPosition:this.props.autoPosition,className:e,rootClassName:this.props.rootClassName,context:this.props.context,id:this.props.id,isVisible:this.props.isVisible,onClose:E,position:this.props.position,showDelay:this.props.showDelay},this.props.children)}}]),t}(m.Component);C.propTypes={autoPosition:_.default.bool,className:_.default.string,id:_.default.string,isVisible:_.default.bool,position:_.default.string,rootClassName:_.default.string,status:_.default.string,showDelay:_.default.number,showOnMobile:_.default.bool},C.defaultProps={showDelay:100,position:"top",showOnMobile:!1},t.default=C,e.exports=t.default},"./client/components/track-input-changes/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/lodash/lodash.js"),v=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),n.onInputChange=function(){n.inputEdited=!0},n.onInputBlur=function(e){n.inputEdited&&(n.props.onNewValue(e),n.inputEdited=!1)},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.inputEdited=!1}},{key:"render",value:function(){var e=this,t=h.default.Children.only(this.props.children),s=(0,b.assign)({},t.props,{onChange:function(s){"function"==typeof t.props.onChange&&t.props.onChange.call(t,s),e.onInputChange(s)},onBlur:function(s){"function"==typeof t.props.onBlur&&t.props.onBlur.call(t,s),e.onInputBlur(s)}});return h.default.cloneElement(t,s)}}]),t}(m.Component);v.displayName="TrackInputChanges",v.propTypes={onNewValue:_.default.func},v.defaultProps={onNewValue:b.noop},t.default=v,e.exports=t.default},"./client/components/update-post-status/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/slicedToArray.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/typeof.js"),u=n(r),d=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/createClass.js"),h=n(m),g=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),_=n(g),b=s("./node_modules/babel-runtime/helpers/inherits.js"),v=n(b),y=s("./node_modules/react/react.js"),j=n(y),x=s("./node_modules/prop-types/index.js"),P=n(x),E=s("./node_modules/react-redux/es/index.js"),C=s("./node_modules/i18n-calypso/index.js"),S=s("./node_modules/lodash/lodash.js"),I=s("./client/components/update-post-status/update-template.js"),k=n(I),w=s("./client/lib/posts/actions.js"),T=n(w),N=s("./client/state/analytics/actions.js"),R=1200,D=(0,S.once)(function(e){return{page:{deleteWarning:e("Delete this page permanently?"),deleted:e("Page Deleted"),deleting:e("Deleting Page"),error:e("Error"),restored:e("Page Restored"),restoring:e("Restoring Page"),trashed:e("Moved to Trash"),trashing:e("Trashing Page"),undo:e("undo?"),updated:e("Updated"),updating:e("Updating Page")},post:{deleteWarning:e("Delete this post permanently?"),deleted:e("Post Deleted"),deleting:e("Deleting Post"),error:e("Error"),restored:e("Restored"),restoring:e("Restoring"),trashed:e("Moved to Trash"),trashing:e("Trashing Post"),undo:e("undo?"),updated:e("Updated"),updating:e("Updating Post")}}}),M=(0,S.flow)(C.localize,(0,E.connect)(null,{recordGoogleEvent:N.recordGoogleEvent})),L=function(e){var t,s;return M((s=t=function(t){function s(){var e,t,n,o;(0,f.default)(this,s);for(var a=arguments.length,l=Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=n=(0,_.default)(this,(e=s.__proto__||(0,c.default)(s)).call.apply(e,[this].concat(l))),n.state={updated:!1,updatedStatus:null,previousStatus:null,showMoreOptions:!1,showPageActions:!1},n.buildUpdateTemplate=function(){if(n.state.updated){var e=D(n.props.translate);return j.default.createElement(k.default,{post:n.props.post||n.props.page,previousStatus:n.state.previousStatus,resetToPreviousState:n.resetToPreviousState,status:n.state.updatedStatus,strings:e[n.getType()]})}},n.updatePostStatus=function(e){var t=n.props.post||n.props.page,s=null,o=function(e,t){return e?(n.setErrorState(),!1):(n.setState({previousStatus:s,updatedStatus:t.status,showMoreOptions:!1}),!0)};switch(e){case"delete":n.setState({showPageActions:!1,updatedStatus:"deleting",updated:!0});var a=D(n.props.translate),l=n.props.post?"post":"page";return void("object"===("undefined"==typeof window?"undefined":(0,u.default)(window))&&window.confirm(a[l].deleteWarning)?T.default.trash(t,o):n.resetState());case"trash":return n.setState({showPageActions:!1,updatedStatus:"trashing",updated:!0}),s=t.status,void T.default.trash(t,o);case"restore":return n.setState({showPageActions:!1,updatedStatus:"restoring",updated:!0}),s="trash",void T.default.restore(t,o);default:n.setState({showPageActions:!1,updatedStatus:"updating",updated:!0}),T.default.update(t,{status:e},function(e,t){o(e,t)&&setTimeout(n.resetState,R)})}},n.resetState=function(){n.setState({updatedStatus:null,updated:!1,showMoreOptions:!1,showPageActions:!1})},n.resetToPreviousState=function(){var e="page"===n.getType()?["Pages","Clicked Undo Trashed Page"]:["Posts","Clicked Undo Trashed Post"],t=(0,i.default)(e,2),s=t[0],o=t[1];n.props.recordGoogleEvent(s,o),n.state.previousStatus&&n.updatePostStatus(n.state.previousStatus)},n.togglePageActions=function(){n.setState({showPageActions:!n.state.showPageActions})},n.showMoreControls=function(){n.setState({showMoreOptions:!0})},n.hideMoreControls=function(){n.setState({showMoreOptions:!1})},o=t,(0,_.default)(n,o)}return(0,v.default)(s,t),(0,h.default)(s,[{key:"getType",value:function(){return this.props.page?"page":"post"}},{key:"setErrorState",value:function(){this.setState({updated:!0,updatedStatus:"error"}),setTimeout(this.resetState,R)}},{key:"render",value:function(){return j.default.createElement(e,(0,a.default)({},this.props,{buildUpdateTemplate:this.buildUpdateTemplate,togglePageActions:this.togglePageActions,showMoreControls:this.showMoreControls,hideMoreControls:this.hideMoreControls,updatePostStatus:this.updatePostStatus},this.state))}}]),s}(y.Component),t.displayName="UpdatePostStatus("+(e.displayName||e.name||"")+")",t.propTypes={translate:P.default.func.isRequired,recordGoogleEvent:P.default.func.isRequired,post:P.default.object,page:P.default.object},s))};t.default=L,e.exports=t.default},"./client/components/update-post-status/update-template.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.post,s=e.previousStatus,n=e.resetToPreviousState,o=e.status,a=e.strings,r="conf-alert",u=void 0,d=void 0,c=void 0,p=void 0;switch(o){case"trashing":case"deleting":p="deleting"===o?a.deleting:a.trashing,u=l.default.createElement("span",null,p," ",l.default.createElement(i,null)),r+=" conf-alert--trashing";break;case"trash":c=n,d=l.default.createElement("a",{className:"undo",onClick:c},l.default.createElement("span",null,a.undo)),u=a.trashed,r+=" conf-alert--trashed";break;case"deleted":u=a.deleted,r+=" conf-alert--deleted";break;case"updating":u=l.default.createElement("span",null,a.updating," ",l.default.createElement(i,null)),r+=" conf-alert--updating";break;case"error":u=a.error,r+=" conf-alert--error";break;case"restoring":u=l.default.createElement("span",null,a.restoring," ",l.default.createElement(i,null)),r+=" conf-alert--updating";break;default:u="trash"===s?a.restored:a.updated}return l.default.createElement("div",{key:t.global_ID+"-update",className:"updated-confirmation"},l.default.createElement("div",{className:r},l.default.createElement("div",{className:"conf-alert_con"},l.default.createElement("span",{className:"conf-alert_title"},u),d)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=s("./node_modules/react/react.js"),l=n(a),i=function(){return l.default.createElement("span",null,l.default.createElement("span",{className:"loading-dot"},"."),l.default.createElement("span",{className:"loading-dot"},"."),l.default.createElement("span",{className:"loading-dot"},"."))};e.exports=t.default},"./client/lib/build-url/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var s=l.default.parse(e,!0);return t?s.query.s=t:delete s.query.s,s=(0,o.pick)(s,"pathname","hash","query"),l.default.format(s).replace(/\%20/g,"+")};var o=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/url/url.js"),l=n(a);e.exports=t.default},"./client/lib/infinite-list/actions.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/lodash/lodash.js"),a=s("./client/dispatcher/index.js"),l=n(a),i=s("./client/lib/infinite-list/scroll-store.js"),r=n(i),u=s("./client/lib/infinite-list/positions-store.js"),d=n(u),c=null,p=null,f=1e3,m={leading:!1};t.default={storePositions:(0,o.throttle)(function(e,t){c||setTimeout(function(){var e=d.default.get(c.url);(0,o.isEqual)(c.positions,e)||l.default.handleViewAction({type:"INFINITE_LIST_POSITION_CHANGED",url:c.url,positions:c.positions}),c=null},0),c={url:e,positions:t}},f,m),storeScroll:(0,o.throttle)(function(e,t){p||setTimeout(function(){var e=r.default.get(p.url);p.scrollPosition!==e&&l.default.handleViewAction({type:"SCROLL_CHANGED",url:p.url,scrollPosition:p.scrollPosition}),p=null},0),p={url:e,scrollPosition:t}},f,m)},e.exports=t.default},"./client/lib/infinite-list/positions-store.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var s=m.get(e);p("comparing positions:",e,s,t),(0,a.isEqual)(s,t)||(p("storing values:",e,t),f[e]=t,m.emit("change"))}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/lodash/lodash.js"),l=s("./node_modules/debug/browser.js"),i=n(l),r=s("./client/dispatcher/index.js"),u=n(r),d=s("./client/lib/mixins/emitter/index.js"),c=n(d),p=(0,i.default)("calypso:infinite-list:positions-store"),f={},m={get:function(e){return p("positions-store:get(): ",e,f),f[e]}};(0,c.default)(m),m.dispatchToken=u.default.register(function(e){var t=e.action;switch(t.type){case"INFINITE_LIST_POSITION_CHANGED":o(t.url,t.positions)}}),t.default=m,e.exports=t.default},"./client/lib/infinite-list/scroll-store.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var s=r.get(e);s!==t&&(i[e]=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./client/dispatcher/index.js"),l=n(a),i={},r={get:function(e){return i[e]}};r.dispatchToken=l.default.register(function(e){var t=e.action;switch(t.type){case"SCROLL_CHANGED":o(t.url,t.scrollPosition)}}),t.default=r,e.exports=t.default},"./client/lib/mixins/infinite-scroll/index.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{componentDidMount:function(){this.checkScrollPositionHandler=(0,n.throttle)(this.checkScrollPosition.bind(this,{triggeredByScroll:!0}),o),window.addEventListener("scroll",this.checkScrollPositionHandler),this.checkScrollPosition({triggeredByScroll:!1})},componentDidUpdate:function(){this.checkScrollPosition({triggeredByScroll:!1})},componentWillUnmount:function(){window.removeEventListener("scroll",this.checkScrollPositionHandler)},checkScrollPosition:function(t){var s=this,n=window.pageYOffset,o=document.body.scrollHeight,a=window.innerHeight,l=2*a,i=t.triggeredByScroll;n>=o-a-l&&(n>a&&(i=!0),window.requestAnimationFrame(function(){s[e]({triggeredByScroll:i})}))}}};var n=s("./node_modules/lodash/lodash.js"),o=400;e.exports=t.default},"./client/lib/mixins/url-search/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/debug/browser.js"),a=n(o),l=s("./node_modules/page/index.js"),i=n(l),r=s("./client/lib/build-url/index.js"),u=n(r),d=(0,a.default)("calypso:url-search");t.default={getInitialState:function(){return{searchOpen:!1}},componentWillReceiveProps:function(e){e.search||this.setState({searchOpen:!1})},doSearch:function(e){var t;return this.setState({searchOpen:!1!==e}),this.onSearch?void this.onSearch(e):(t=(0,u.default)(window.location.href,e),d("search posts for:",e),void(this.props.search&&e?(d("replacing URL: "+t),i.default.replace(t)):(d("setting URL: "+t),(0,i.default)(t))))},getSearchOpen:function(){return this.state.searchOpen!==!1||this.props.search}},e.exports=t.default},"./client/lib/posts/actions.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,s){var n,o=v.default.get();("string"==typeof e||Array.isArray(e))&&(e=(0,c.fromPairs)([].concat(e).map(function(e){return[e,t]}))),n=(o.metadata||[]).filter(function(t){return!e.hasOwnProperty(t.key)}),(0,r.default)(e).forEach(function(t){var o={key:t,operation:s};"delete"!==s&&(o.value=e[t]),n.push(o)}),N.default.handleViewAction({type:"EDIT_POST",post:{metadata:n}})}function a(e){return e=(0,c.clone)(e),e=(0,D.normalizeTermsForApi)(e),e.author&&(e.author=e.author.ID),e}Object.defineProperty(t,"__esModule",{value:!0});var l,i=s("./node_modules/babel-runtime/core-js/object/keys.js"),r=n(i),u=s("./node_modules/store/store.js"),d=n(u),c=s("./node_modules/lodash/lodash.js"),p=s("./node_modules/debug/browser.js"),f=n(p),m=s("./client/lib/wp/browser.js"),h=n(m),g=s("./client/lib/posts/posts-store.js"),_=n(g),b=s("./client/lib/posts/post-edit-store.js"),v=n(b),y=s("./client/lib/posts/post-list-store-factory.js"),j=n(y),x=s("./client/lib/preferences/store.js"),P=n(x),E=s("./client/lib/sites-list/index.js"),C=n(E),S=s("./client/lib/posts/utils.js"),I=n(S),k=s("./client/lib/version-compare/index.js"),w=n(k),T=s("./client/dispatcher/index.js"),N=n(T),R=s("./client/lib/posts/stats.js"),D=s("./client/state/posts/utils.js"),M=(0,C.default)(),L=(0,f.default)("calypso:posts");l={startEditingNew:function(e,t){var s;t=t||{},s={type:"DRAFT_NEW_POST",siteId:e,postType:t.type||"post",title:t.title,content:t.content},N.default.handleViewAction(s)},startEditingExisting:function(e,t){var s,n=v.default.get();e&&(n&&n.site_ID===e&&n.ID===t||(N.default.handleViewAction({type:"START_EDITING_POST",siteId:e,postId:t}),s=h.default.site(e).post(t),s.get({context:"edit",meta:"autosave"},function(e,t){N.default.handleServerAction({type:"RECEIVE_POST_TO_EDIT",error:e,post:t})})))},stopEditing:function(){N.default.handleViewAction({type:"STOP_EDITING_POST"})},autosave:function(e){var t,s=v.default.get(),n=v.default.getSavedPost(),o=h.default.undocumented().site(s.site_ID);if(e=e||function(){},!v.default.isDirty())return e(new Error("NOT_DIRTY"));if(d.default.set("wpcom-autosave:"+s.site_ID+":"+s.ID,s),I.default.isPublished(n)||I.default.isPublished(s)){if(t=M.getSite(s.site_ID),!s.ID||!t||t.jetpack&&(0,w.default)(t.options.jetpack_version,"3.7.0-dev","<"))return e(new Error("NO_AUTOSAVE"));N.default.handleViewAction({type:"POST_AUTOSAVE",post:s}),o.postAutosave(s.ID,{content:s.content,title:s.title,excerpt:s.excerpt},function(t,s){N.default.handleServerAction({type:"RECEIVE_POST_AUTOSAVE",error:t,autosave:s}),e(t,s)})}else l.saveEdited(null,null,e,{recordSaveEvent:!1,autosave:!0})},blockSave:function(e){N.default.handleViewAction({type:"BLOCK_EDIT_POST_SAVE",key:e})},unblockSave:function(e){N.default.handleViewAction({type:"UNBLOCK_EDIT_POST_SAVE",key:e})},edit:function(e){N.default.handleViewAction({type:"EDIT_POST",post:e})},editRawContent:function(e){N.default.handleViewAction({type:"EDIT_POST_RAW_CONTENT",content:e})},resetRawContent:function(){N.default.handleViewAction({type:"RESET_POST_RAW_CONTENT"})},updateMetadata:function(e,t){o(e,t,"update")},deleteMetadata:function(e){o(e,null,"delete")},saveEdited:function(e,t,s,n){var o,l,i,u,d,p,f;return N.default.handleViewAction({type:"EDIT_POST",post:e}),o=v.default.get(),v.default.hasContent()?v.default.isSaveBlocked()?void(0,c.defer)(s,new Error("SAVE_BLOCKED"),o):(u=v.default.getChangedAttributes(),(0,r.default)(u).length?(u=a(u),d=v.default.getRawContent(),p=P.default.get("editor-mode"),f=!o.ID,N.default.handleViewAction({type:"EDIT_POST_SAVE"}),l=h.default.site(o.site_ID).post(o.ID),i={context:"edit",apiVersion:"1.2"},n&&n.autosave&&(i.autosave=n.autosave),n&&n.recordSaveEvent===!1||(0,R.recordSaveEvent)(t),(u&&"future"===u.status&&I.default.isFutureDated(o)||u&&"publish"===u.status&&I.default.isBackDated(o))&&(u=(0,c.assign)({},u,{status:"publish",date:o.date})),void l[f?"add":"update"](i,u,function(e,t){var n,o;o=P.default.get("editor-mode"),e||(n=_.default.get(t.global_ID)),N.default.handleServerAction({type:"RECEIVE_POST_BEING_EDITED",error:e,rawContent:p===o?d:null,isNew:f,original:n,post:t}),s(e,t)})):void(0,c.defer)(s,new Error("NO_CHANGE"),o)):void(0,c.defer)(s,new Error("NO_CONTENT"),o)},update:function(e,t,s){var n=h.default.site(e.site_ID).post(e.ID);n.update(t,l.receiveUpdate.bind(null,s))},trash:function(e,t){var s=h.default.site(e.site_ID).post(e.ID);s.delete(l.receiveUpdate.bind(null,t))},restore:function(e,t){var s=h.default.site(e.site_ID).post(e.ID);s.restore(l.receiveUpdate.bind(null,t))},queryPosts:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";N.default.handleViewAction({type:"QUERY_POSTS",options:e,postListStoreId:t})},fetchNextPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=(0,j.default)(e);if(!t.isLastPage()&&!t.isFetchingNextPage()){N.default.handleViewAction({type:"FETCH_NEXT_POSTS_PAGE",postListStoreId:e});var s=t.getID(),n=t.getNextPageParams(),o=t.getSiteId();o?h.default.site(o).postsList(n,l.receivePage.bind(null,s,e)):h.default.me().postsList(n,l.receivePage.bind(null,s,e))}},receivePage:function(e,t,s,n){N.default.handleServerAction({type:"RECEIVE_POSTS_PAGE",
id:e,postListStoreId:t,error:s,data:n})},fetchUpdated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=(0,j.default)(e);if(!t.isFetchingNextPage()){N.default.handleViewAction({type:"FETCH_UPDATED_POSTS",postListStoreId:e});var s=t.getID(),n=t.getUpdatesParams(),o=t.getSiteId();o?(L("Fetching posts that have been updated for %s since %s %o",o,n.modified_after,n),h.default.site(o).postsList(n,l.receiveUpdated.bind(null,s,e))):(L("Fetching posts that have been updated since %s %o",n.modified_after,n),h.default.me().postsList(n,l.receiveUpdated.bind(null,s,e)))}},receiveUpdated:function(e,t,s,n){N.default.handleServerAction({type:"RECEIVE_UPDATED_POSTS",id:e,postListStoreId:t,error:s,data:n})},receiveUpdate:function(e,t,s){var n;t||(n=_.default.get(s.global_ID)),N.default.handleServerAction({type:"RECEIVE_UPDATED_POST",error:t,original:n,post:s}),e(t,s)},fetchCounts:function(e,t){N.default.handleViewAction({type:"FETCH_POST_COUNTS",siteId:e}),h.default.undocumented().site(e).postCounts(t,function(t,s){N.default.handleServerAction({type:"RECEIVE_POST_COUNTS",error:t,data:s,siteId:e})})}},t.default=l,e.exports=t.default},"./client/lib/posts/post-list-cache-store.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(new Date).getTime(),s=e.timeSaved;return t-s>w}function a(e){return r(e)?I[e].list:void(I[e]&&I[e].dirty&&(R("delete cached list %o",e),delete I[e],delete k[e]))}function l(e){var t=u(e.query);I[t]&&I[t].dirty||(I[t]={timeStored:(new Date).getTime(),dirty:!1,list:e,listKey:t})}function i(e,t){var s=T.getSite(e.site_ID),n=[s.slug,s.ID,!1],o=[e.status,t],a=void 0,l=void 0,i=void 0,r=void 0;for(l in I)I.hasOwnProperty(l)&&(i=I[l],r=i.list,r.query.type===e.type&&-1!==n.indexOf(r.query.siteId)&&(a=r.query.status.split(","),0!==(0,v.intersection)(a,o).length&&(i.dirty=!0)));S.cacheIndex.clearRecordsByParamFilter(function(e){var t=n.slice(0,-1),s=["/me/posts"].concat((0,b.default)(t.map(function(e){return"/sites/"+e+"/posts"}))),a=e.query&&e.query.status?e.query.status.split(","):[],l=(0,v.intersection)(a,o);return s.indexOf(e.path)!==-1&&!!l.length})}function r(e){return I[e]&&!o(I[e])&&!I[e].dirty}function u(e){var t=[],s=(0,g.default)(e).sort();return s.forEach(function(s){t.push(s+"-"+e[s])}),t.join(":")}function d(e,t,s){R("setCanonicalList %o %o (%o)",e,t,s),k[e]=k[e]||{},k[e][t]=s}function c(e,t){R("getCanonicalList %o %o",e,t);var s=k[e];if(!s||"object"!==("undefined"==typeof s?"undefined":(0,m.default)(s)))return!1;var n=(0,g.default)(s);return n[0]!==t?(delete I[e],delete k[e],!1):s[t]}function p(e,t){R("deleteCanonicalList %o %o",e,t);var s=k[e];s&&s[t]&&delete s[t]}Object.defineProperty(t,"__esModule",{value:!0});var f=s("./node_modules/babel-runtime/helpers/typeof.js"),m=n(f),h=s("./node_modules/babel-runtime/core-js/object/keys.js"),g=n(h),_=s("./node_modules/babel-runtime/helpers/toConsumableArray.js"),b=n(_);t.getCacheKey=u,t.setCanonicalList=d,t.getCanonicalList=c,t.deleteCanonicalList=p;var v=s("./node_modules/lodash/lodash.js"),y=s("./node_modules/debug/browser.js"),j=n(y),x=s("./client/lib/sites-list/index.js"),P=n(x),E=s("./client/dispatcher/index.js"),C=n(E),S=s("./client/lib/wp/sync-handler/cache-index.js"),I={},k={},w=3e5,T=(0,P.default)(),N={get:a,_reset:function(){I={}}},R=(0,j.default)("calypso:posts-list:cache");N.dispatchToken=C.default.register(function(e){var t=e.action,n=s("./client/lib/posts/post-list-store-factory.js")();switch(C.default.waitFor([n.dispatchToken]),t.type){case"FETCH_NEXT_POSTS_PAGE":l(n.get());break;case"RECEIVE_POSTS_PAGE":l(n.get());break;case"RECEIVE_UPDATED_POSTS":l(n.get());break;case"RECEIVE_UPDATED_POST":case"RECEIVE_POST_BEING_EDITED":t.post&&(i(t.post,t.original?t.original.status:null),l(n.get()))}}),t.default=N},"./client/lib/posts/post-list-store-factory.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e||"default";return i[t]||(i[t]=new l.default(t)),i[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=s("./client/lib/posts/post-list-store.js"),l=n(a),i={};o._reset=function(){i={}},e.exports=t.default},"./client/lib/posts/post-list-store.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(e.length<3||t.length<2)return[];var s=e.indexOf(t[0]);if(s===-1)return o(e,t.slice(1));var n=e.indexOf(t.slice(-1)[0]);if(n===-1)return o(e,t.slice(0,-1));var a=e.slice(s,n+1);return(0,v.difference)(a,t)}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=n(a),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(i),u=s("./node_modules/babel-runtime/helpers/createClass.js"),d=n(u),c=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=n(c),f=s("./node_modules/babel-runtime/helpers/inherits.js"),m=n(f),h=s("./node_modules/babel-runtime/helpers/typeof.js"),g=n(h);t.getRemovedPosts=o,t.default=function(e){function t(e){var t=(0,v.assign)({},w,e);"draft,pending"===t.status&&(t.orderBy="modified");var s=(0,I.getCacheKey)(t),n=k.default.get(s);n?u=n:(u={id:N,postIds:[],errors:[],page:0,isLastPage:!1,isFetchingNextPage:!1,isFetchingUpdated:!1,query:t,listKey:s},N++)}function s(e){return(0,v.transform)(e,function(e,t,s){null!=t&&(e[s]=t)},{})}function n(){var e=u.query.orderBy;u.postIds.sort(function(t,s){var n=S.default.get(t),o=S.default.get(s),a=n[e],l=o[e];return a===l?n.title===o.title?0:n.title>o.title?1:-1:a>l?-1:1})}function a(e,t,s){if(t||!s||"object"!==("undefined"==typeof s?"undefined":(0,g.default)(s)))return t=t||{message:"Error fetching PostsList: empty data response"},T("Error fetching PostsList from api:",t),t.timestamp=Date.now(),void u.errors.push(t);var a=s.found,l=s.meta,i=s.posts,r=s.__sync,d=r||{},c=d.responseSource,p=d.requestKey;if(e===u.id){u.isFetchingNextPage=!1,u.nextPageHandle=l&&l.next_page,u.nextPageHandle&&a||(u.isLastPage=!0);var f=i.map(function(e){return e.global_ID}),m=u.postIds.slice(0);if("local"===c&&p)(0,I.setCanonicalList)(u.listKey,p,m);else{var h=(0,I.getCanonicalList)(u.listKey,p);h&&(T("canonicalList found (%o)",h),m=h,(0,I.deleteCanonicalList)(u.listKey,p))}var _=o(m,f);_.length&&(T("removePosts (%o)",_),m=(0,v.difference)(m,_));var b=(0,v.difference)(f,m);b.length&&(T("newPosts (%o)",b),m=m.concat(b),u.page++),u.postIds=m,n()}}function i(e,t,s){var o=void 0,a=void 0,l=void 0;return t?void T("An error occurred while fetching updated posts %o",t):void(e===u.id&&s.posts.length&&(o=s.posts,T("Fetched updated posts:",o),a=o.map(function(e){return e.global_ID}),l=(0,v.difference)(a,u.postIds),l.length&&(u.postIds=u.postIds.concat(l),n())))}if(!e)throw new Error("must supply a post-list-store id");var u={postIds:[],errors:[],query:(0,v.clone)(w),page:0,nextPageHandle:!1,isLastPage:!1,isFetchingNextPage:!1,isFetchingUpdated:!1};return new(function(n){function o(){(0,r.default)(this,o);var t=(0,p.default)(this,(o.__proto__||(0,l.default)(o)).call(this));return t.id=e,t.dispatchToken=x.default.register(t.handlePayload.bind(t)),t}return(0,m.default)(o,n),(0,d.default)(o,[{key:"get",value:function(){return u}},{key:"getID",value:function(){return u.id}},{key:"getSiteId",value:function(){return u.query.siteId}},{key:"getAll",value:function(){return u.postIds.map(function(e){return S.default.get(e)})}},{key:"getTree",value:function(){var e=[];return u.postIds.forEach(function(t){var s=(0,v.clone)(S.default.get(t));s.parent=s.parent?s.parent.ID:0,e.push(s)}),(0,E.default)("ID").treeify(e)}},{key:"getPost",value:function(e){if(u.postIds.indexOf(e)>-1)return S.default.get(e)}},{key:"getPage",value:function(){return u.page}},{key:"off",value:function(e,t){this.removeListener(e,t)}},{key:"isLastPage",value:function(){return u.isLastPage}},{key:"isFetchingNextPage",value:function(){return u.isFetchingNextPage}},{key:"hasRecentError",value:function(){var e=30,t=Date.now();return(0,v.some)(u.errors,function(s){return t-s.timestamp<1e3*e})}},{key:"getNextPageParams",value:function(){var e={},t=u.query;return e.status=t.status,e.order_by=t.orderBy,e.order=t.order,e.author=t.author,e.number=t.perPage,e.type=t.type,e.page_handle=u.nextPageHandle,e.exclude_tree=t.exclude_tree,e.number=t.number,e.before=t.before,e.after=t.after,t.search&&(e.search=t.search),t.category&&(e.category=t.category),t.tag&&(e.tag=t.tag),e.siteId||(e.site_visibility="visible"),t.meta&&(e.meta=t.meta),s(e)}},{key:"getUpdatesParams",value:function(){var e={},t=u.query;return e.status=t.status,e.author=t.author,e.type=t.type,t.search&&(e.search=t.search),t.category&&(e.category=t.category),t.tag&&(e.tag=t.tag),e.siteId||(e.site_visibility="visible"),t.meta&&(e.meta=t.meta),u.postIds.length&&(e.modified_after=(0,v.maxBy)(this.getAll(),function(e){return new Date(e.modified).getTime()}).modified,"modified"===t.orderBy||u.isLastPage||(e.after=this.getPost((0,v.last)(u.postIds)).date)),s(e)}},{key:"handlePayload",value:function(e){var s=e.action;if(!s.postListStoreId||s.postListStoreId===this.id||"RECEIVE_UPDATED_POST"===s.type)switch(x.default.waitFor([S.default.dispatchToken]),s.type){case"QUERY_POSTS":T("QUERY_POSTS",s),t(s.options),this.emit("change");break;case"FETCH_NEXT_POSTS_PAGE":T("FETCH_NEXT_POSTS_PAGE",s),u.isFetchingNextPage=!0,this.emit("change");break;case"RECEIVE_POSTS_PAGE":T("receivePage",s),a(s.id,s.error,s.data),this.emit("change");break;case"RECEIVE_UPDATED_POSTS":i(s.id,s.error,s.data),this.emit("change");break;case"RECEIVE_UPDATED_POST":s.post&&u.postIds.indexOf(s.post.global_ID)>-1&&this.emit("change")}}}]),o}(y.EventEmitter))};var _=s("./node_modules/debug/browser.js"),b=n(_),v=s("./node_modules/lodash/lodash.js"),y=s("./node_modules/events/events.js"),j=s("./client/dispatcher/index.js"),x=n(j),P=s("./client/lib/tree-convert/index.js"),E=n(P),C=s("./client/lib/posts/posts-store.js"),S=n(C),I=s("./client/lib/posts/post-list-cache-store.js"),k=n(I),w={siteId:!1,type:"post",status:"publish",orderBy:"date",order:"DESC",author:!1,search:!1,category:!1,tag:!1,perPage:20},T=(0,b.default)("calypso:posts-list"),N=0},"./client/lib/posts/posts-store.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=i.get(e.global_ID);t&&(0,r.isEqual)(e,t)||(g[e.global_ID]=e)}function a(e,t){var s=t||{},n=s.global_ID;if(!n)return void h("global_ID is required for a post",t);var a=i.get(n);return a&&"local"===e?void h("existing record (%o), do not overwrite with local response",a):void p.default.normalizeSync(t,function(e,t){o(t)})}function l(e,t){var s=a.bind(null,t);e.forEach(s)}Object.defineProperty(t,"__esModule",{value:!0});var i,r=s("./node_modules/lodash/lodash.js"),u=s("./node_modules/debug/browser.js"),d=n(u),c=s("./client/lib/posts/utils.js"),p=n(c),f=s("./client/dispatcher/index.js"),m=n(f),h=(0,d.default)("calypso:posts"),g={};i={get:function(e){return g[e]}},i.dispatchToken=m.default.register(function(e){var t=e.action;switch(t.type){case"RECEIVE_POSTS_PAGE":case"RECEIVE_UPDATED_POSTS":if(!t.error&&t.data.posts){var s=t.data.__sync&&t.data.__sync.responseSource;l(t.data.posts,s)}break;case"RECEIVE_UPDATED_POST":t.error||a("server",t.post)}}),t.default=i,e.exports=t.default},"./client/lib/posts/stats.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var s=void 0,n=E.getSelectedSite();g.default.mc.bumpStat("editor_usage",e),n&&(s=n.jetpack?"jetpack":"wpcom",g.default.mc.bumpStat("editor_usage_"+s,e),t&&g.default.mc.bumpStat("editor_cpt_usage_"+s,t+"_"+e))}function a(e){g.default.mc.bumpStat("editor_actions",e)}function l(e,t,s){g.default.ga.recordEvent("Editor",e,t,s)}function i(e){var t=b.default.get(),s=b.default.getSavedPost();if(t&&s){var n=s.status,i=t.status,r="calypso_editor_"+t.type+"_",u=!1,d=!1,c=!1,p=null;t.ID||y.default.isPublished(t)?"draft"===i?r+="savedraft":n===i?(c="edit",r+="update"):"publish"===i||"private"===i?(r+="publish",c="new",e&&e.isConfirmationSidebarEnabled&&(p="confirmation_sidebar")):"pending"===i?r+="pending":"future"===i&&(r+="schedule",u="status-schedule",d="Scheduled Post",e&&e.isConfirmationSidebarEnabled&&(p="confirmation_sidebar")):r+="savedraft",c&&o(c,t.type),u&&a(u),d&&l(d),P("recordSaveEvent %s currentStatus=%s nextStatus=%s",r,n,i),g.default.tracks.recordEvent(r,{post_id:t.ID,post_type:t.type,visibility:y.default.getVisibility(t),current_status:n,next_status:i,context:p})}}function r(e){S("editor-button","calypso_"+e),g.default.ga.recordEvent("Editor","Clicked TinyMCE Button",e),P("TinyMCE button click",e,"mc=",C)}function u(e){S("html-editor-button","calypso_"+e),g.default.ga.recordEvent("Editor","Clicked TinyMCE HTML Button",e),P("TinyMCE HTML button click",e,"mc=",C)}Object.defineProperty(t,"__esModule",{value:!0}),t.recordStat=a,t.recordEvent=l,t.recordSaveEvent=i,t.recordTinyMCEButtonClick=r,t.recordTinyMCEHTMLButtonClick=u;var d=s("./node_modules/debug/browser.js"),c=n(d),p=s("./node_modules/lodash/lodash.js"),f=s("./client/config/index.js"),m=n(f),h=s("./client/lib/analytics/index.js"),g=n(h),_=s("./client/lib/posts/post-edit-store.js"),b=n(_),v=s("./client/lib/posts/utils.js"),y=n(v),j=s("./client/lib/sites-list/index.js"),x=n(j),P=(0,c.default)("calypso:posts:stats"),E=new x.default,C=Math.random()<=.01||"development"===(0,m.default)("env"),S=C?g.default.mc.bumpStat:p.noop},"./client/lib/track-scroll-page/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,s,n){a.default.ga.recordEvent(s,"Loaded Next Page","page",n),a.default.pageView.record(e,t),a.default.mc.bumpStat("newdash_pageviews","scroll")};var o=s("./client/lib/analytics/index.js"),a=n(o);e.exports=t.default},"./client/lib/tree-convert/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return this instanceof o?void(this.key=e||"id"):new o(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./client/lib/tree-convert/tree-traverser.js"),l=n(a);o.prototype.treeify=function(e){var t=[],s={};return e.forEach(function(t,n){s[e[n][this.key]]=t},this),e.forEach(function(e){var n;e.parent>0&&s[e.parent]?(n=s[e.parent],n.items=n.items||[],n.items.push(e)):(e.parent=0,t.push(e))}),this.sortItems(t),this.removeOrderProperty(t),t},o.prototype.untreeify=function(e,t){return t=t||[],e.forEach(function(e,s){e.items&&o.prototype.untreeify(e.items,t),e.order=s+1,t.push(e)}),t},o.prototype.sortItems=function(e){var t={};t.items=e,l.default.traverse(t,[function(e){return e.items&&e.items.sort(function(e,t){return e.order-t.order}),e}])},o.prototype.removeOrderProperty=function(e){var t={};t.items=e,l.default.traverse(t,[function(e){return e.items&&e.items.forEach(function(e){delete e.order}),e}])},t.default=o,e.exports=t.default},"./client/lib/tree-convert/tree-traverser.js":function(e,t,s){"use strict";function n(e,t){return a(t,function(t){return(0,d.some)(t.items,{id:e.id})})||t}function o(e,t,s){return t.forEach(function(t){e=t(e,s)},this),e.items&&(e.items=e.items.map(function(e){return o(e,t,s)})),e}function a(e,t){return t(e)?e:e.items?i(e.items,function(e){return a(e,t)}):void 0}function l(e,t,s){var n;if(e.items)for(n=0;n<e.items.length;n++){if(s(e.items[n]))return void(e.items[n]=t);l(e.items[n],t,s)}}function i(e,t){var s,n,o=e.length;for(s=0;s<o;s++)if(n=t(e[s]))return n}function r(e,t){return function(s){return s.id===t&&(s.items=s.items||[],s.items.push(e)),s}}function u(e,t,s){return function(n){var o,a="before"===s?0:1;return~(o=(0,d.findIndex)(n.items,{id:t}))&&n.items.splice(o+a,0,e),n}}Object.defineProperty(t,"__esModule",{value:!0});var d=s("./node_modules/lodash/lodash.js");t.default={traverse:function(e,t){return o(e,t,e)},parent:n,find:a,replaceItem:l,remover:function(e){return function(t){var s;return~(s=(0,d.findIndex)(t.items,{id:e}))&&t.items.splice(s,1),t}},inserter:function(e,t,s){var n="child"===s?r:u;return n(e,t,s)}},e.exports=t.default},"./client/lib/url-search/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.buildSearchUrl=void 0;var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/debug/browser.js"),v=n(b),y=s("./node_modules/page/index.js"),j=n(y),x=s("./node_modules/url/url.js"),P=n(x),E=s("./node_modules/lodash/lodash.js"),C=(0,v.default)("calypso:url-search"),S=t.buildSearchUrl=function(e){var t=e.uri,s=e.search,n=e.queryKey,o=void 0===n?"s":n,a=(0,E.pick)(P.default.parse(t,!0),"pathname","hash","query");return s?a.query[o]=s:delete a.query[o],P.default.format(a).replace(/\%20/g,"+")},I=function(e){var t,s;return s=t=function(t){function s(){var e,t,n,o;(0,u.default)(this,s);for(var a=arguments.length,l=Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=n=(0,f.default)(this,(e=s.__proto__||(0,i.default)(s)).call.apply(e,[this].concat(l))),n.state={searchOpen:!1},n.doSearch=function(e){if(n.setState({searchOpen:!1!==e}),n.onSearch)return void n.onSearch(e);var t=S({uri:window.location.href,search:e,queryKey:n.props.queryKey});C("search for: %s",e),n.props.search&&e?(C("replacing URL: %s",t),j.default.replace(t)):(C("setting URL: %s",t),(0,j.default)(t))},n.getSearchOpen=function(){return n.state.searchOpen!==!1||n.props.search},o=t,(0,f.default)(n,o)}return(0,h.default)(s,t),(0,c.default)(s,[{key:"componentWillReceiveProps",value:function(e){var t=e.search;return!t&&this.setState({searchOpen:!1})}},{key:"render",value:function(){return _.default.createElement(e,(0,a.default)({},this.props,{doSearch:this.doSearch,getSearchOpen:this.getSearchOpen}))}}]),s}(_.default.Component),t.displayName="UrlSearch("+(e.displayName||e.name||"")+")",t.defaultProps={search:"",queryKey:"s"},s};t.default=I},"./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentNavigationTab=void 0;var o=s("./node_modules/react/react.js"),a=n(o),l=s("./node_modules/classnames/index.js"),i=n(l),r=t.CommentNavigationTab=function(e){var t=e.children,s=e.className,n=e.onClick;return a.default.createElement("div",{className:(0,i.default)("comment-navigation__tab",s),onClick:n},t)};t.default=r},"./client/my-sites/no-results/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"no-results"},this.props.image?h.default.createElement("img",{className:"no-results__img",src:this.props.image}):null,h.default.createElement("span",null,this.props.text))}}]),t}(h.default.Component);g.defaultProps={text:"No results",image:!1},t.default=g,e.exports=t.default},"./client/my-sites/pages/blog-posts-page/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/react-redux/es/index.js"),v=s("./node_modules/lodash/lodash.js"),y=s("./node_modules/i18n-calypso/index.js"),j=s("./node_modules/gridicons/build/index.js"),x=n(j),P=s("./node_modules/classnames/index.js"),E=n(P),C=s("./client/components/card/index.jsx"),S=n(C),I=s("./client/state/sites/selectors.js"),k=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"getPageProperty",value:function(e){var t=e.pageId,s=e.property;return this.props.pages.filter(function(e){return e.ID===t}).map(function(e){return e[s]}).shift()}},{key:"getPostsPageLink",value:function(e){var t=e.isStaticHomePageWithNoPostsPage,s=e.isCurrentlySetAsHomepage;return t?null:s?this.props.site.URL:this.getPageProperty({pageId:this.props.postsPage,property:"URL"})}},{key:"renderPostsPageInfo",value:function(e){var t=e.isStaticHomePageWithNoPostsPage,s=e.isCurrentlySetAsHomepage,n=this.props.translate;return t?_.default.createElement("span",null,_.default.createElement(x.default,{size:12,icon:"not-visible",className:"blog-posts-page__not-used-icon"}),this.props.translate("Not in use.")+" ",this.props.translate('"%(pageTitle)s" is the front page.',{args:{pageTitle:this.getPageProperty({pageId:this.props.frontPage,property:"title"})}})):s?_.default.createElement("span",null,_.default.createElement(x.default,{size:12,icon:"house",className:"blog-posts-page__front-page-icon"}),n("Front page is showing your latest posts.")):_.default.createElement("span",null,n('"%(pageTitle)s" page is showing your latest posts.',{args:{pageTitle:this.getPageProperty({pageId:this.props.postsPage,property:"title"})}}))}},{key:"render",value:function(){var e=this.props.translate,t="page"===this.props.frontPageType&&!this.props.postsPage,s="posts"===this.props.frontPageType;return _.default.createElement(S.default,{href:this.getPostsPageLink({isStaticHomePageWithNoPostsPage:t,isCurrentlySetAsHomepage:s}),target:"_blank",rel:"noopener noreferrer",className:"blog-posts-page"},_.default.createElement("div",{className:"blog-posts-page__details"},_.default.createElement("div",{className:(0,E.default)({"blog-posts-page__title":!0,"is-disabled":t})},e("Blog Posts")),_.default.createElement("div",{className:(0,E.default)({"blog-posts-page__info":!0,"is-disabled":t})},this.renderPostsPageInfo({isStaticHomePageWithNoPostsPage:t,isCurrentlySetAsHomepage:s}))))}}]),t}(_.default.Component);k.propTypes={site:h.default.object,pages:h.default.array},k.defaultProps={translate:v.identity},t.default=(0,b.connect)(function(e,t){return{frontPageType:(0,I.getSiteFrontPageType)(e,t.site.ID),isFrontPage:"posts"===(0,I.getSiteFrontPageType)(e,t.site.ID),postsPage:(0,I.getSitePostsPage)(e,t.site.ID),frontPage:(0,I.getSiteFrontPage)(e,t.site.ID)}})((0,y.localize)(k)),e.exports=t.default},"./client/my-sites/pages/controller.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/react/react.js"),a=n(o),l=s("./node_modules/i18n-calypso/index.js"),i=n(l),r=s("./client/lib/route/index.js"),u=n(r),d=s("./client/lib/analytics/index.js"),c=n(d),p=s("./node_modules/to-title-case/index.js"),f=n(p),m=s("./client/lib/track-scroll-page/index.js"),h=n(m),g=s("./client/state/document-head/actions.js"),_=s("./client/lib/react-helpers/index.js"),b={pages:function(e){var t,n=s("./client/my-sites/pages/main.jsx"),o=u.default.getSiteFragment(e.path),l=e.params.status,r=e.query.s,d=u.default.sectionify(e.path),p="Pages";l=l&&l!==o?l:"",e.store.dispatch((0,g.setDocumentHeadTitle)(i.default.translate("Site Pages",{textOnly:!0}))),t=o?d+"/:site":d,p+=l.length?" > "+(0,f.default)(l):" > Published",c.default.pageView.record(t,p),(0,_.renderWithReduxStore)(a.default.createElement(n,{siteID:o,status:l,search:r,trackScrollPage:h.default.bind(null,t,p,"Pages")}),document.getElementById("primary"),e.store)}};t.default=b,e.exports=t.default},"./client/my-sites/pages/helpers.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("./node_modules/lodash/lodash.js"),o=function(e){return(0,n.sortBy)(e,"menu_order")},a=function(e){return e.parent&&e.parent.ID};t.default={editLinkForPage:function(e,t){return e&&e.ID&&t&&t.ID?"/page/"+t.slug+"/"+e.ID:null},statsLinkForPage:function(e,t){return e&&e.ID&&t&&t.ID?"/stats/post/"+e.ID+"/"+t.slug:null},isFrontPage:function(e,t){return!!(e&&e.ID&&t&&t.options)&&t.options.page_on_front===e.ID},sortPagesHierarchically:function(e){var t=(0,n.map)(e,"ID"),s=(0,n.reduce)((0,n.groupBy)(e,a),function(e,s,a){return a&&"false"!==a&&(0,n.includes)(t,parseInt(a,10))?(e[a]=o(s),e):(e.false=o((e.false||[]).concat(s)),e)},{}),l=[],i=function e(t,o){var a=s[t]||[];(0,n.forEach)(a,function(t){l.push((0,n.assign)({},t,{indentLevel:o})),e(t.ID,o+1)})};return(0,n.forEach)(s.false,function(e){l.push(e),i(e.ID,1)}),l}},e.exports=t.default},"./client/my-sites/pages/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d.default.isEnabled("manage/pages")&&(0,a.default)("/pages/:status?/:domain?",l.siteSelection,l.navigation,r.default.pages)};var o=s("./node_modules/page/index.js"),a=n(o),l=s("./client/my-sites/controller.js"),i=s("./client/my-sites/pages/controller.js"),r=n(i),u=s("./client/config/index.js"),d=n(u);e.exports=t.default},"./client/my-sites/pages/main.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react-redux/es/index.js"),h=s("./node_modules/i18n-calypso/index.js"),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/react/react.js"),v=n(b),y=s("./node_modules/debug/browser.js"),j=n(y),x=s("./client/state/ui/selectors.js"),P=s("./client/config/index.js"),E=n(P),C=s("./client/notices/index.js"),S=n(C),I=s("./client/lib/url-search/index.js"),k=n(I),w=s("./client/components/main/index.jsx"),T=n(w),N=s("./client/components/section-nav/item.jsx"),R=n(N),D=s("./client/components/section-nav/tabs.jsx"),M=n(D),L=s("./client/my-sites/pages/page-list.jsx"),O=n(L),A=s("./client/components/search/index.jsx"),U=n(A),q=s("./client/components/section-nav/index.jsx"),H=n(q),F=s("./client/my-sites/sidebar-navigation/sidebar-navigation.jsx"),z=n(F),B=(0,j.default)("calypso:my-sites:pages:pages"),W=["published","drafts","scheduled","trashed"],V=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this._setWarning(this.props.site)}},{key:"componentDidMount",value:function(){B("Pages React component mounted.")}},{key:"componentWillUpdate",value:function(){this._setWarning(this.props.site)}},{key:"render",value:function(){var e=this.props,t=e.doSearch,s=e.search,n=e.translate,o=this.props.status||"published",a={published:n("Published",{context:"Filter label for pages list"}),drafts:n("Drafts",{context:"Filter label for pages list"}),scheduled:n("Scheduled",{context:"Filter label for pages list"}),trashed:n("Trashed",{context:"Filter label for pages list"})},l={published:n("Search Published…",{context:"Search placeholder for pages list",textOnly:!0}),drafts:n("Search Drafts…",{context:"Search placeholder for pages list",textOnly:!0}),scheduled:n("Search Scheduled…",{context:"Search placeholder for pages list",textOnly:!0}),trashed:n("Search Trashed…",{context:"Search placeholder for pages list",textOnly:!0})};return v.default.createElement(T.default,{classname:"pages"},v.default.createElement(z.default,null),v.default.createElement(H.default,{selectedText:a[o]},v.default.createElement(M.default,{label:n("Status",{context:"Filter page group label for tabs"})},this.getNavItems(a,o)),v.default.createElement(U.default,{pinned:!0,fitsContainer:!0,onSearch:t,initialValue:s,placeholder:l[o],analyticsGroup:"Pages",delaySearch:!0})),v.default.createElement(O.default,this.props))}},{key:"getNavItems",value:function(e,t){var s=this.props,n=s.site,o=s.siteId,a=n&&n.slug||o,l=a?"/"+a:"";return W.map(function(s){var n="/pages"+l;return"publish"!==s&&(n="/pages/"+s+l),v.default.createElement(R.default,{path:n,selected:t===s,key:"page-filter-"+s},e[s])})}},{key:"_setWarning",value:function(e){var t=this.props.translate;e&&e.jetpack&&!e.hasMinimumJetpackVersion&&S.default.warning(t("Jetpack %(version)s is required to take full advantage of all page editing features.",{args:{version:(0,E.default)("jetpack_min_version")}}),{button:t("Update now"),href:e.options.admin_url+"plugins.php?plugin_status=upgrade"})}}]),t}(v.default.Component);V.displayName="Pages",V.propTypes={trackScrollPage:_.default.func.isRequired},V.defaultProps={perPage:20};var G=function(e){return{site:(0,x.getSelectedSite)(e),siteId:(0,x.getSelectedSiteId)(e)}};t.default=(0,m.connect)(G)((0,h.localize)((0,k.default)(V))),e.exports=t.default},"./client/my-sites/pages/page-card-info/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.translate,s=e.moment,n=e.page,o=e.showTimestamp,a=e.isFront,i=e.isPosts,r=e.siteUrl,u=e.contentLink,c=12,p=function(){return"future"===n.status?l.default.createElement(f.default,{post:n,link:u.contentLinkURL,target:u.contentLinkTarget,gridiconSize:c}):null};return l.default.createElement("div",{className:"page-card-info"},r&&l.default.createElement("div",{className:"page-card-info__site-url"},r),l.default.createElement("div",null,o&&(p()||l.default.createElement("span",{className:"page-card-info__item"},l.default.createElement(d.default,{icon:"time",size:c,className:"page-card-info__item-icon"}),l.default.createElement("span",{className:"page-card-info__item-text"},s(n.modified).fromNow()))),a&&l.default.createElement("span",{className:"page-card-info__item"},l.default.createElement(d.default,{icon:"house",size:c,className:"page-card-info__item-icon"}),l.default.createElement("span",{className:"page-card-info__item-text"},t("Front page"))),i&&l.default.createElement("span",{className:"page-card-info__item"},l.default.createElement(d.default,{icon:"posts",size:c,className:"page-card-info__item-icon"}),l.default.createElement("span",{className:"page-card-info__item-text"},t("Your latest posts")))))}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/react/react.js"),l=n(a),i=s("./node_modules/react-redux/es/index.js"),r=s("./node_modules/i18n-calypso/index.js"),u=s("./node_modules/gridicons/build/index.js"),d=n(u),c=s("./client/state/pages/selectors.js"),p=s("./client/my-sites/post-relative-time-status/index.jsx"),f=n(p),m=s("./client/state/selectors/can-current-user.js"),h=n(m),g=s("./client/state/ui/editor/selectors.js"),_=function(e,t,s){var n=s.URL,o="_blank";return(0,h.default)(e,t,"edit_pages")&&"trash"!==s.status?(n=(0,g.getEditorPath)(e,t,s.ID),o=null):"trash"===s.status&&(n=null),
{contentLinkURL:n,contentLinkTarget:o}};t.default=(0,i.connect)(function(e,t){return{isFront:(0,c.isFrontPage)(e,t.page.site_ID,t.page.ID),isPosts:(0,c.isPostsPage)(e,t.page.site_ID,t.page.ID),contentLink:_(e,t.page.site_ID,t.page)}})((0,r.localize)(o)),e.exports=t.default},"./client/my-sites/pages/page-list.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/create-react-class/index.js"),v=n(b),y=s("./node_modules/i18n-calypso/index.js"),j=s("./node_modules/react-redux/es/index.js"),x=s("./node_modules/gridicons/build/index.js"),P=n(x),E=s("./node_modules/lodash/lodash.js"),C=s("./client/components/list-end/index.js"),S=n(C),I=s("./client/components/data/query-posts/index.jsx"),k=n(I),w=s("./client/my-sites/pages/page/index.js"),T=n(w),N=s("./client/lib/mixins/infinite-scroll/index.js"),R=n(N),D=s("./client/components/empty-content/index.jsx"),M=n(D),L=s("./client/my-sites/no-results/index.jsx"),O=n(L),A=s("./client/my-sites/pages/placeholder.jsx"),U=n(A),q=s("./client/lib/route/index.js"),H=s("./client/my-sites/pages/helpers.js"),F=s("./client/my-sites/pages/blog-posts-page/index.jsx"),z=n(F),B=s("./client/state/selectors/has-initialized-sites.js"),W=n(B),V=s("./client/state/posts/selectors.js"),G=s("./client/state/sites/selectors.js"),Q=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),n.state={page:1},n.incrementPage=function(){n.setState({page:n.state.page+1})},n.resetPage=function(){n.setState({page:1})},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.search===this.props.search&&e.siteId===this.props.siteId&&e.status===this.props.status||this.resetPage()}},{key:"render",value:function(){var e=this.props,t=e.search,s=e.siteId,n=e.status,o={page:this.state.page,number:20,search:t,status:(0,q.mapPostStatus)(n),type:"page"};return _.default.createElement("div",null,_.default.createElement(k.default,{siteId:s,query:o}),_.default.createElement(Y,{incrementPage:this.incrementPage,query:o,siteId:s}))}}]),t}(g.Component);Q.propTypes={search:h.default.string,siteId:h.default.number,status:h.default.string},t.default=Q;var K=(0,v.default)({displayName:"Pages",mixins:[(0,R.default)("fetchPages")],propTypes:{incrementPage:h.default.func.isRequired,lastPage:h.default.bool,loading:h.default.bool.isRequired,page:h.default.number.isRequired,pages:h.default.array.isRequired,search:h.default.string,site:h.default.object,siteId:h.default.any,hasSites:h.default.bool.isRequired,trackScrollPage:h.default.func.isRequired,query:h.default.object},getDefaultProps:function(){return{perPage:100,loading:!1,lastPage:!1,page:0,pages:[],trackScrollPage:function(){}}},fetchPages:function(e){this.props.loading||this.props.lastPage||(e.triggeredByScroll&&this.props.trackScrollPage(this.props.page+1),this.props.incrementPage())},_insertTimeMarkers:function(e){var t=[],s=this.props.moment(),n=void 0,o=function(e){e=this.props.moment(e);var t=s.diff(e,"days");return t<=0?this.props.translate("Today"):1===t?this.props.translate("Yesterday"):e.from(s)}.bind(this);return e.forEach(function(e){var s=this.props.moment(e.date),a=o(s);n!==a&&t.push(_.default.createElement("div",{key:"marker-"+s.unix(),className:"pages__page-list-header"},_.default.createElement(P.default,{icon:"time",size:12})," ",a)),n=a,t.push(e)},this),t},getNoContentMessage:function(){var e=this.props,t=e.query,s=void 0===t?{}:t,n=e.translate,o=e.site,a=e.siteId,l=s.search,i=s.status,r=void 0===i?"published":i;if(l)return _.default.createElement(O.default,{image:"/calypso/images/pages/illustration-pages.svg",text:n("No pages match your search for {{searchTerm/}}.",{components:{searchTerm:_.default.createElement("em",null,l)}})});var u=o&&o.slug||a,d=a?"/page/"+u:"/page",c=void 0;switch(r){case"draft,pending":c={title:n("You don't have any drafts."),line:n("Would you like to create one?"),action:n("Start a Page"),actionURL:d};break;case"future":c={title:n("You don't have any scheduled pages yet."),line:n("Would you like to create one?"),action:n("Start a Page"),actionURL:d};break;case"trash":c={title:n("You don't have any pages in your trash folder."),line:n("Everything you write is solid gold.")};break;default:c={title:n("You haven't published any pages yet."),line:n("Would you like to publish your first page?"),action:n("Start a Page"),actionURL:d}}return c.illustration="/calypso/images/pages/illustration-pages.svg",c.illustrationWidth=150,_.default.createElement(M.default,{title:c.title,line:c.line,action:c.action,actionURL:c.actionURL,illustration:c.illustration,illustrationWidth:c.illustrationWidth})},addLoadingRows:function(e,t){for(var s=0;s<t;s++)s%4===0&&e.push(_.default.createElement(U.default.Marker,{key:"placeholder-marker-"+s})),e.push(_.default.createElement(U.default.Page,{key:"placeholder-page-"+s,multisite:!this.props.site}))},renderLoading:function(){var e=[];return this.addLoadingRows(e,1),_.default.createElement("div",{id:"pages",className:"pages__page-list"},e)},renderPagesList:function(e){var t=e.pages,s=this.props.site,n=this.props.status||"published";return s&&"published"===n&&this.props.lastPage&&t.length<=100&&!this.props.search?this.renderHierarchical({pages:t,site:s}):this.renderChronological({pages:t,site:s})},renderHierarchical:function(e){var t=e.pages,s=e.site;t=(0,H.sortPagesHierarchically)(t);var n=t.map(function(e){return _.default.createElement(T.default,{key:"page-"+e.global_ID,page:e,site:s,multisite:!1,hierarchical:!0,hierarchyLevel:e.indentLevel||0})},this);return _.default.createElement("div",{id:"pages",className:"pages__page-list"},_.default.createElement(z.default,{key:"blog-posts-page",site:s,pages:t}),n)},renderChronological:function(e){var t=e.pages,s=e.site;this.props.search||(t=this._insertTimeMarkers(t));var n=t.map(function(e){return"site_ID"in e?_.default.createElement(T.default,{key:"page-"+e.global_ID,page:e,multisite:null===this.props.siteId}):e},this);this.props.loading&&this.addLoadingRows(n,1);var o=s&&"published"===status&&_.default.createElement(z.default,{key:"blog-posts-page",site:s,pages:t});return _.default.createElement("div",{id:"pages",className:"pages__page-list"},o,n,this.props.lastPage&&t.length?_.default.createElement(S.default,null):null)},renderNoContent:function(){return _.default.createElement("div",{id:"pages",className:"pages__page-list"},_.default.createElement("div",{key:"page-list-no-results"},this.getNoContentMessage()))},render:function(){var e=this.props,t=e.hasSites,s=e.loading,n=e.pages;return n.length&&t?this.renderPagesList({pages:n}):!s&&t?this.renderNoContent():this.renderLoading()}}),Z=function(e,t){var s=t.query,n=t.siteId;return{hasSites:(0,W.default)(e),loading:(0,V.isRequestingSitePostsForQuery)(e,n,s),lastPage:(0,V.isSitePostsLastPageForQuery)(e,n,s),pages:(0,V.getSitePostsForQueryIgnoringPage)(e,n,s)||[],site:(0,G.getSite)(e,n)}},Y=(0,E.flowRight)((0,j.connect)(Z),y.localize)(K);e.exports=t.default},"./client/my-sites/pages/page/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/typeof.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/prop-types/index.js"),v=n(b),y=s("./node_modules/react-transition-group/CSSTransitionGroup.js"),j=n(y),x=s("./node_modules/i18n-calypso/index.js"),P=s("./node_modules/page/index.js"),E=n(P),C=s("./node_modules/react-redux/es/index.js"),S=s("./node_modules/lodash/lodash.js"),I=s("./client/components/update-post-status/index.js"),k=n(I),w=s("./client/components/card/compact.jsx"),T=n(w),N=s("./node_modules/gridicons/build/index.js"),R=n(N),D=s("./client/components/popover/menu.jsx"),M=n(D),L=s("./client/components/popover/menu-item.jsx"),O=n(L),A=s("./client/blocks/site-icon/index.jsx"),U=n(A),q=s("./client/my-sites/pages/helpers.js"),H=n(q),F=s("./client/lib/posts/utils.js"),z=n(F),B=s("./node_modules/classnames/index.js"),W=n(B),V=s("./client/components/popover/menu-separator.jsx"),G=n(V),Q=s("./client/my-sites/pages/page-card-info/index.jsx"),K=n(Q),Z=s("./client/state/sites/selectors.js"),Y=s("./client/state/ui/selectors.js"),J=s("./client/state/pages/selectors.js"),$=s("./client/state/analytics/actions.js"),X=s("./client/state/ui/preview/actions.js"),ee=s("./client/state/ui/layout-focus/actions.js"),te=(0,S.partial)($.recordGoogleEvent,"Pages"),se=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var l=arguments.length,r=Array(l),d=0;d<l;d++)r[d]=arguments[d];return s=n=(0,f.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(r))),n.togglePageActions=function(){n.props.togglePageActions(),n.props.showPageActions&&n.props.recordMoreOptions()},n.viewPage=function(e){e.preventDefault();var t=n.props,s=t.isPreviewable,o=t.page,l=t.previewURL;return o.status&&"publish"===o.status&&n.props.recordViewPage(),s||"object"!==("undefined"==typeof window?"undefined":(0,a.default)(window))?(n.props.setPreviewUrl(l),void n.props.setLayoutFocus("preview")):window.open(l)},n.statsPage=function(){n.props.recordStatsPage(),(0,E.default)(H.default.statsLinkForPage(n.props.page,n.props.site))},n.editPage=function(){n.props.recordEditPage(),(0,E.default)(H.default.editLinkForPage(n.props.page,n.props.site))},n.updateStatusPublish=function(){n.props.updatePostStatus("publish"),n.props.recordEvent("Clicked Publish Page")},n.updateStatusTrash=function(){n.props.updatePostStatus("trash"),n.props.recordEvent("Clicked Move to Trash")},n.updateStatusRestore=function(){n.props.updatePostStatus("restore"),n.props.recordEvent("Clicked Restore")},n.updateStatusDelete=function(){n.props.updatePostStatus("delete"),n.props.recordEvent("Clicked Delete Page")},n.copyPage=function(){n.props.recordEvent("Clicked Copy Page")},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"getSiteDomain",value:function(){return this.props.site&&this.props.site.domain||"..."}},{key:"getViewItem",value:function(){var e=this.props.isPreviewable;return"trash"===this.props.page.status?null:this.props.hasStaticFrontPage&&this.props.isPostsPage?null:"publish"!==this.props.page.status?_.default.createElement(O.default,{onClick:this.viewPage},_.default.createElement(R.default,{icon:e?"visible":"external",size:18}),this.props.translate("Preview")):_.default.createElement(O.default,{onClick:this.viewPage},_.default.createElement(R.default,{icon:e?"visible":"external",size:18}),this.props.translate("View Page"))}},{key:"childPageInfo",value:function(){var e=this.props,t=e.page,s=e.site,n=e.translate;if(this.props.hierarchical||!t.parent)return null;var o=t.parent.title||n("( Untitled )"),a=z.default.userCan("edit_post",this.props.page)?H.default.editLinkForPage(t.parent,s):t.parent.URL,l=_.default.createElement("a",{href:a},o);return _.default.createElement("div",{className:"page__popover-more-info"},n("Child of {{PageTitle/}}",{components:{PageTitle:l}}))}},{key:"frontPageInfo",value:function(){return this.props.isFrontPage?_.default.createElement("div",{className:"page__popover-more-info"},this.props.translate("This page is set as your site's homepage")):null}},{key:"getPublishItem",value:function(){return"publish"!==this.props.page.status&&z.default.userCan("publish_post",this.props.page)&&"trash"!==this.props.page.status?_.default.createElement(O.default,{onClick:this.updateStatusPublish},_.default.createElement(R.default,{icon:"checkmark",size:18}),this.props.translate("Publish")):null}},{key:"getEditItem",value:function(){return this.props.hasStaticFrontPage&&this.props.isPostsPage?null:z.default.userCan("edit_post",this.props.page)?_.default.createElement(O.default,{onClick:this.editPage},_.default.createElement(R.default,{icon:"pencil",size:18}),this.props.translate("Edit")):null}},{key:"getSendToTrashItem",value:function(){return this.props.hasStaticFrontPage&&this.props.isPostsPage||this.props.isFrontPage?null:z.default.userCan("delete_post",this.props.page)?"trash"!==this.props.page.status?[_.default.createElement(G.default,{key:"separator"}),_.default.createElement(O.default,{key:"item",className:"page__trash-item",onClick:this.updateStatusTrash},_.default.createElement(R.default,{icon:"trash",size:18}),this.props.translate("Trash"))]:[_.default.createElement(G.default,{key:"separator"}),_.default.createElement(O.default,{key:"item",className:"page__delete-item",onClick:this.updateStatusDelete},_.default.createElement(R.default,{icon:"trash",size:18}),this.props.translate("Delete"))]:null}},{key:"getCopyItem",value:function(){var e=this.props,t=e.page,s=e.siteSlugOrId;return(0,S.includes)(["draft","future","pending","private","publish"],t.status)&&z.default.userCan("edit_post",t)?_.default.createElement(O.default,{onClick:this.copyPage,href:"/page/"+s+"?copy="+t.ID},_.default.createElement(R.default,{icon:"clipboard",size:18}),this.props.translate("Copy")):null}},{key:"getRestoreItem",value:function(){return"trash"===this.props.page.status&&z.default.userCan("delete_post",this.props.page)?_.default.createElement(O.default,{onClick:this.updateStatusRestore},_.default.createElement(R.default,{icon:"undo",size:18}),this.props.translate("Restore")):null}},{key:"getStatsItem",value:function(){return"publish"!==this.props.page.status?null:_.default.createElement(O.default,{onClick:this.statsPage},_.default.createElement(R.default,{icon:"stats",size:18}),this.props.translate("Stats"))}},{key:"getPageStatusInfo",value:function(){return"publish"===this.props.page.status?null:_.default.createElement("div",{className:"page__popover-more-info"},this.getReadableStatus(this.props.page.status))}},{key:"getReadableStatus",value:function(e){var t=this.props.translate;return this.humanReadableStatus||(this.humanReadableStatus={publish:t("Published"),draft:t("Draft"),pending:t("Pending"),future:t("Future"),private:t("Private"),trash:t("Trashed")}),this.humanReadableStatus[e]||e}},{key:"popoverMoreInfo",value:function(){var e=this.getPageStatusInfo(),t=this.childPageInfo(),s=this.frontPageInfo();return e||t||s?_.default.createElement("div",null,_.default.createElement(G.default,null),e,t,s):null}},{key:"render",value:function(){var e=this.props,t=e.page,s=e.site,n=void 0===s?{}:s,o=e.translate,a=t.title||o("(no title)"),l=z.default.userCan("edit_post",t),i=!this.props.hierarchical&&t.parent&&"— ",r=this.getViewItem(),u=this.getPublishItem(),d=this.getEditItem(),c=this.getRestoreItem(),p=this.getSendToTrashItem(),f=this.getCopyItem(),m=this.getStatsItem(),h=this.popoverMoreInfo(),g=r||u||d||m||c||p||h,b=g&&_.default.createElement(M.default,{isVisible:this.props.showPageActions,onClose:this.togglePageActions,position:"bottom left",context:this.refs&&this.refs.popoverMenuButton},d,u,r,m,f,c,p,h),v=g&&_.default.createElement(R.default,{icon:"ellipsis",className:(0,W.default)({"page__actions-toggle":!0,"is-active":this.props.showPageActions}),onClick:this.togglePageActions,ref:"popoverMenuButton"}),y={page:!0,"is-indented":this.props.hierarchical&&this.props.hierarchyLevel>0},x={"page__hierarchy-indent":!0,"is-indented":y["is-indented"]};y["is-indented"]&&(y["is-indented-level-"+this.props.hierarchyLevel]=!0,x["is-indented-level-"+this.props.hierarchyLevel]=!0);var P=y["is-indented"]&&_.default.createElement("div",{className:(0,W.default)(x)});return _.default.createElement(T.default,{className:(0,W.default)(y)},P,this.props.multisite?_.default.createElement(U.default,{siteId:t.site_ID,size:34}):null,_.default.createElement("div",{className:"page__main"},_.default.createElement("a",{className:"page__title",href:l?H.default.editLinkForPage(t,n):t.URL,title:l?o("Edit %(title)s",{textOnly:!0,args:{title:t.title}}):o("View %(title)s",{textOnly:!0,args:{title:t.title}}),onClick:this.props.recordPageTitle},i,a),_.default.createElement(K.default,{page:t,showTimestamp:this.props.hierarchical,siteUrl:this.props.multisite&&this.getSiteDomain()})),v,b,_.default.createElement(j.default,{transitionName:"updated-trans",transitionEnterTimeout:300,transitionLeaveTimeout:300},this.props.buildUpdateTemplate()))}}]),t}(g.Component);se.propTypes={setPreviewUrl:v.default.func.isRequired,setLayoutFocus:v.default.func.isRequired,recordEvent:v.default.func.isRequired,recordMoreOptions:v.default.func.isRequired,recordPageTitle:v.default.func.isRequired,recordEditPage:v.default.func.isRequired,recordViewPage:v.default.func.isRequired,recordStatsPage:v.default.func.isRequired,buildUpdateTemplate:v.default.func.isRequired,togglePageActions:v.default.func.isRequired,updatePostStatus:v.default.func.isRequired,updated:v.default.bool.isRequired,updatedStatus:v.default.string,previousStatus:v.default.string,showMoreOptions:v.default.bool.isRequired,showPageActions:v.default.bool.isRequired};var ne=function(e,t){var s=(0,S.get)(t,"page.site_ID"),n=(0,Z.getSite)(e,s),o=(0,S.get)(n,"slug")||(0,S.get)(n,"ID",null),a=(0,Y.getSelectedSiteId)(e),l=!1!==(0,Z.isSitePreviewable)(e,s)&&n&&n.ID===a;return{hasStaticFrontPage:(0,Z.hasStaticFrontPage)(e,s),isFrontPage:(0,J.isFrontPage)(e,s,t.page.ID),isPostsPage:(0,J.isPostsPage)(e,s,t.page.ID),isPreviewable:l,previewURL:(0,F.getPreviewURL)(t.page),site:n,siteSlugOrId:o}},oe={setPreviewUrl:X.setPreviewUrl,setLayoutFocus:ee.setLayoutFocus,recordEvent:te,recordMoreOptions:(0,S.partial)(te,"Clicked More Options Menu"),recordPageTitle:(0,S.partial)(te,"Clicked Page Title"),recordEditPage:(0,S.partial)(te,"Clicked Edit Page"),recordViewPage:(0,S.partial)(te,"Clicked View Page"),recordStatsPage:(0,S.partial)(te,"Clicked Stats Page")};t.default=(0,S.flow)(x.localize,k.default,(0,C.connect)(ne,oe))(se),e.exports=t.default},"./client/my-sites/pages/placeholder.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/i18n-calypso/index.js"),_=s("./client/components/card/compact.jsx"),b=n(_),v=s("./client/blocks/site-icon/index.jsx"),y=n(v),j=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return h.default.createElement(b.default,{className:"page is-placeholder"},this.props.multisite?h.default.createElement(y.default,{size:34}):null,h.default.createElement("a",{className:"page__title"},h.default.createElement("span",{className:"placeholder-text"},this.props.translate("Loading a page of Pages…"))),this.props.multisite?h.default.createElement("span",{className:"page__site-url "},h.default.createElement("span",{className:"placeholder-text"},this.props.translate("A domain, quite soon…"))):null)}}]),t}(h.default.Component);j.displayName="PagePlaceholder";var x=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"pages__page-list-header is-placeholder"},h.default.createElement("span",null," "))}}]),t}(h.default.Component);x.displayName="MarkerPlaceholder",t.default={Page:(0,g.localize)(j),Marker:(0,g.localize)(x)},e.exports=t.default},"./client/my-sites/post-like-button/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/react/react.js"),i=n(l),r=s("./node_modules/react-redux/es/index.js"),u=s("./client/blocks/like-button/index.jsx"),d=n(u),c=s("./client/state/sites/selectors.js"),p=function(e){return i.default.createElement(d.default,(0,a.default)({},e,{tagName:"a",animateLike:!1,forceCounter:!0,showLabel:!1,showZeroCount:!1}))};t.default=(0,r.connect)(function(e,t){var s=t.post;return{slug:(0,c.getSiteSlug)(e,s.site_ID)}})(p),e.exports=t.default},"./client/my-sites/post-relative-time-status/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/i18n-calypso/index.js"),_=s("./node_modules/react/react.js"),b=n(_),v=s("./node_modules/gridicons/build/index.js"),y=n(v),j=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),n.getTimestamp=function(){var e=n.props.post.status,t=void 0;return"draft"===e||"pending"===e?t=n.props.post.modified:"new"!==e&&(t=n.props.post.date),t},n.getRelativeTimeText=function(){var e=n.getTimestamp();if(e)return b.default.createElement("span",{className:"post-relative-time-status__time"},b.default.createElement(y.default,{icon:"time",size:n.props.gridiconSize||18}),b.default.createElement("time",{className:"post-relative-time-status__time-text",dateTime:e},n.props.moment(e).fromNow()))},n.getStatusText=function(){var e,t=n.props.post.status,s="post-relative-time-status__status",o="aside";if(n.props.post.sticky?(e=n.props.translate("sticky"),s+=" is-sticky",o="bookmark-outline"):"pending"===t?(e=n.props.translate("pending review"),s+=" is-pending"):"future"===t?(e=n.props.translate("scheduled"),s+=" is-scheduled",o="calendar"):"trash"===t?(e=n.props.translate("trashed"),s+=" is-trash",o="trash"):n.props.includeBasicStatus&&("draft"===t?e=n.props.translate("draft"):"publish"===t?e=n.props.translate("published"):"new"===t&&(e=n.props.translate("Publish immediately"))),e)return b.default.createElement("span",{className:s},b.default.createElement(y.default,{icon:o,size:n.props.gridiconSize||18}),b.default.createElement("span",{className:"post-relative-time-status__status-text"},e))},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.getRelativeTimeText(),t=this.getStatusText(),s=e?"post-relative-time-status":null,n=b.default.createElement("span",null,e,t),o=this.getTimestamp();if(this.props.link){var a="_blank"===this.props.target?"noopener noreferrer":null;n=b.default.createElement("a",{href:this.props.link,target:this.props.target,rel:a,onClick:this.props.onClick},n)}return b.default.createElement("p",{className:s,title:o},n)}}]),t}(b.default.PureComponent);j.displayName="PostRelativeTime",j.propTypes={post:h.default.object.isRequired,includeNonDraftStatuses:h.default.bool,link:h.default.string,target:h.default.string,gridiconSize:h.default.number},j.defaultProps={includeNonDraftStatuses:!1,link:null,target:null},t.default=(0,g.localize)(j),e.exports=t.default},"./client/my-sites/post-type-filter/author-segmented.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/react/react.js"),a=n(o),l=s("./node_modules/prop-types/index.js"),i=n(l),r=s("./node_modules/react-redux/es/index.js"),u=s("./node_modules/lodash/lodash.js"),d=s("./node_modules/i18n-calypso/index.js"),c=s("./client/components/gravatar/index.jsx"),p=n(c),f=s("./client/components/section-nav/item.jsx"),m=n(f),h=s("./client/components/section-nav/segmented.jsx"),g=n(h),_=s("./client/state/current-user/selectors.js"),b=s("./client/state/sites/selectors.js"),v=function(e){var t=e.author,s=e.siteSlug,n=e.statusSlug,o=e.translate,l=e.user,i={me:o("Me",{context:"Filter label for posts list"}),everyone:o("Everyone",{context:"Filter label for posts list"})};return a.default.createElement(g.default,{label:o("Author",{context:"Filter group label for segmented"})},(0,u.map)(i,function(e,o){var i="me"===o,r=(0,u.compact)([i?"/posts/my":"/posts",n,s]).join("/");return a.default.createElement(m.default,{key:o,path:r,selected:i===!!t},e,i&&a.default.createElement(p.default,{size:16,user:l}))}))};v.propTypes={author:i.default.number,siteId:i.default.number,statusSlug:i.default.string,siteSlug:i.default.string,translate:i.default.func.isRequired,user:i.default.object},t.default=(0,r.connect)(function(e,t){var s=t.siteId;return{siteSlug:(0,b.getSiteSlug)(e,s),user:(0,_.getCurrentUser)(e)}})((0,d.localize)(v)),e.exports=t.default},"./client/my-sites/post-type-filter/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/react/react.js"),i=n(l),r=s("./node_modules/create-react-class/index.js"),u=n(r),d=s("./node_modules/prop-types/index.js"),c=n(d),p=s("./node_modules/classnames/index.js"),f=n(p),m=s("./node_modules/i18n-calypso/index.js"),h=s("./node_modules/react-redux/es/index.js"),g=s("./node_modules/lodash/lodash.js"),_=s("./client/state/selectors/are-all-sites-single-user.js"),b=n(_),v=s("./client/state/ui/selectors.js"),y=s("./client/state/sites/selectors.js"),j=s("./client/state/posts/counts/selectors.js"),x=s("./client/state/ui/post-type-list/selectors.js"),P=s("./client/state/ui/post-type-list/actions.js"),E=s("./client/lib/route/path.js"),C=s("./client/config/index.js"),S=s("./client/lib/mixins/url-search/index.js"),I=n(S),k=s("./client/components/data/query-post-counts/index.jsx"),w=n(k),T=s("./client/components/section-nav/index.jsx"),N=n(T),R=s("./client/components/section-nav/tabs.jsx"),D=n(R),M=s("./client/components/section-nav/item.jsx"),L=n(M),O=s("./client/components/search/index.jsx"),A=n(O),U=s("./client/my-sites/post-type-filter/author-segmented.jsx"),q=n(U),H=s("./client/components/button/index.jsx"),F=n(H),z=s("./node_modules/gridicons/build/index.js"),B=n(z),W=(0,u.default)({displayName:"PostTypeFilter",mixins:[I.default],propTypes:{authorToggleHidden:c.default.bool,siteId:c.default.number,query:c.default.shape({author:c.default.number,status:c.default.string,type:c.default.string.isRequired}),jetpack:c.default.bool,siteSlug:c.default.string,counts:c.default.object},getNavItems:function(){var e=this,t=this.props,s=t.query,n=t.siteId,o=t.siteSlug,a=t.jetpack,l=t.counts;return(0,g.reduce)(l,function(t,l,i){if(n&&(!a||"post"===s.type)&&!l&&!(0,g.includes)(["publish","draft"],i))return t;var r=void 0,u=void 0;switch(i){case"publish":r=e.props.translate("Published",{context:"Filter label for posts list"});break;case"draft":r=e.props.translate("Drafts",{context:"Filter label for posts list"}),u="drafts";break;case"future":r=e.props.translate("Scheduled",{context:"Filter label for posts list"}),u="scheduled";break;case"trash":r=e.props.translate("Trashed",{context:"Filter label for posts list"}),u="trashed"}return t.concat({key:"filter-"+i,count:!n||a&&"post"!==s.type?null:l,path:(0,g.compact)(["post"===s.type?"/posts":"/types/"+s.type,"post"===s.type&&s.author&&"my",u,o]).join("/"),selected:(0,E.mapPostStatus)(u)===s.status,children:r})},[])},renderMultiSelectButton:function(){if(!(0,C.isEnabled)("posts/post-type-list/bulk-edit"))return null;var e=this.props,t=e.translate,s=e.isMultiSelectEnabled,n=e.toggleMultiSelect,o=(0,f.default)("post-type-filter__multi-select-button",{"is-enabled":s});return i.default.createElement(F.default,{className:o,borderless:!0,onClick:n},i.default.createElement(B.default,{icon:"list-checkmark"}),i.default.createElement("span",{className:"post-type-filter__multi-select-button-text"},t("Select")))},render:function(){var e=this.props,t=e.authorToggleHidden,s=e.jetpack,n=e.query,o=e.siteId,a=e.statusSlug;if(!n)return null;var l=this.getNavItems(),r=(0,g.find)(l,"selected")||{},u={me:this.props.translate("Me",{context:"Filter label for posts list"}),everyone:this.props.translate("Everyone",{context:"Filter label for posts list"})};return i.default.createElement("div",{className:"post-type-filter"},o&&!1===s&&i.default.createElement(w.default,{siteId:o,type:n.type}),i.default.createElement(N.default,{selectedText:i.default.createElement("span",null,i.default.createElement("span",null,r.children),!t&&i.default.createElement("small",null,n.author?u.me:u.everyone)),selectedCount:r.count},i.default.createElement(D.default,{label:this.props.translate("Status",{context:"Filter group label for tabs"}),selectedText:r.children,selectedCount:r.count},l.map(function(e){return i.default.createElement(L.default,e)})),!t&&i.default.createElement(q.default,{author:n.author,siteId:o,statusSlug:a}),i.default.createElement(A.default,{pinned:!0,fitsContainer:!0,onSearch:this.doSearch,placeholder:this.props.translate("Search…"),delaySearch:!0}),this.renderMultiSelectButton()))}});t.default=(0,h.connect)(function(e,t){var s=t.query,n=(0,v.getSelectedSiteId)(e),o=!1;o=!s||"post"!==s.type||(n?(0,y.isSingleUserSite)(e,n)||(0,y.isJetpackSite)(e,n):(0,b.default)(e));var l={siteId:n,authorToggleHidden:o,jetpack:(0,y.isJetpackSite)(e,n),siteSlug:(0,y.getSiteSlug)(e,n),isMultiSelectEnabled:(0,x.isMultiSelectEnabled)(e)};return s?(0,a.default)({},l,{counts:s.author?(0,j.getNormalizedMyPostCounts)(e,n,s.type):(0,j.getNormalizedPostCounts)(e,n,s.type)}):l},{toggleMultiSelect:P.toggleMultiSelect})((0,m.localize)(W)),e.exports=t.default},"./client/my-sites/post-type-list/bulk-edit-bar.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/react-redux/es/index.js"),_=s("./client/components/count/index.jsx"),b=n(_),v=s("./client/components/button/index.jsx"),y=n(v),j=s("./client/components/card/index.jsx"),x=n(j),P=s("./node_modules/i18n-calypso/index.js"),E=s("./client/config/index.js"),C=s("./client/state/ui/post-type-list/selectors.js"),S=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{
key:"onEdit",value:function(){alert("You clicked the Edit button 😊")}},{key:"onDelete",value:function(){alert("You clicked the Delete button 😊")}},{key:"render",value:function(){if(!(0,E.isEnabled)("posts/post-type-list/bulk-edit"))return null;var e=this.props,t=e.multiSelectEnabled,s=e.selectedPostsCount,n=e.translate;return t?h.default.createElement(x.default,{className:"post-type-list__bulk-edit-bar"},h.default.createElement(b.default,{count:s}),h.default.createElement(y.default,{primary:!0,onClick:this.onEdit,disabled:0===s},n("Edit")),h.default.createElement(y.default,{scary:!0,onClick:this.onDelete,disabled:0===s},n("Delete"))):null}}]),t}(h.default.Component);t.default=(0,g.connect)(function(e){return{multiSelectEnabled:(0,C.isMultiSelectEnabled)(e),selectedPostsCount:(0,C.getSelectedPostsCount)(e)}})((0,P.localize)(S)),e.exports=t.default},"./client/my-sites/post-type-list/empty-content.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.siteId,s=e.translate,n=e.status,o=e.typeObject,a=e.editPath,l=void 0,i=void 0;return"draft"===n?l=s("You don't have any drafts."):o&&(l=o.labels.not_found),o&&(i=o.labels.add_new_item),r.default.createElement("div",null,t&&r.default.createElement(h.default,{siteId:t}),r.default.createElement(_.default,{title:l,action:i,actionURL:a,illustration:"/calypso/images/pages/illustration-pages.svg",illustrationWidth:150}))}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/prop-types/index.js"),l=n(a),i=s("./node_modules/react/react.js"),r=n(i),u=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/i18n-calypso/index.js"),c=s("./client/state/post-types/selectors.js"),p=s("./client/state/ui/selectors.js"),f=s("./client/state/ui/editor/selectors.js"),m=s("./client/components/data/query-post-types/index.jsx"),h=n(m),g=s("./client/components/empty-content/index.jsx"),_=n(g);o.propTypes={siteId:l.default.number,translate:l.default.func,type:l.default.string,status:l.default.string,typeObject:l.default.object,editPath:l.default.string},t.default=(0,u.connect)(function(e,t){var s=(0,p.getSelectedSiteId)(e);return{siteId:s,typeObject:(0,c.getPostType)(e,s,t.type),editPath:(0,f.getEditorPath)(e,s,null,t.type)}})((0,d.localize)(o)),e.exports=t.default},"./client/my-sites/post-type-list/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/extends.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/react/react.js"),v=n(b),y=s("./node_modules/classnames/index.js"),j=n(y),x=s("./node_modules/react-redux/es/index.js"),P=s("./node_modules/lodash/lodash.js"),E=s("./client/components/data/query-posts/index.jsx"),C=n(E),S=s("./client/lib/query-manager/post/constants.js"),I=s("./client/state/ui/selectors.js"),k=s("./client/state/posts/selectors.js"),w=s("./client/components/list-end/index.js"),T=n(w),N=s("./client/blocks/post-item/index.jsx"),R=n(N),D=s("./client/my-sites/post-type-list/empty-content.jsx"),M=n(D),L=s("./client/my-sites/post-type-list/max-pages-notice.jsx"),O=n(L),A=400,U=10,q=function(e){function t(){(0,u.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));e.renderPost=e.renderPost.bind(e),e.renderPlaceholder=e.renderPlaceholder.bind(e),e.maybeLoadNextPage=e.maybeLoadNextPage.bind(e),e.scrollListener=(0,P.throttle)(e.maybeLoadNextPage,100),window.addEventListener("scroll",e.scrollListener);var s=e.estimatePageCountFromPosts(e.props.posts);return e.state={maxRequestedPage:s},e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(!(0,P.isEqual)(this.props.query,e.query)||!(0,P.isEqual)(this.props.siteId,e.siteId)){var t=this.estimatePageCountFromPosts(e.posts);this.setState({maxRequestedPage:t})}}},{key:"componentDidUpdate",value:function(e){e.isRequestingPosts&&!this.props.isRequestingPosts&&this.maybeLoadNextPage()}},{key:"componentDidMount",value:function(){this.maybeLoadNextPage()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollListener),this.scrollListener.cancel()}},{key:"estimatePageCountFromPosts",value:function(e){if(!e||!e.length)return 1;var t=this.getPostsPerPageCount(),s=Math.ceil(e.length/t);return Math.min(s,5)}},{key:"getPostsPerPageCount",value:function(){var e=this.props.query||{};return e.number||S.DEFAULT_POST_QUERY.number}},{key:"getScrollTop",value:function(){var e=this.props.scrollContainer;return e?e===document.body?"scrollY"in window?window.scrollY:document.documentElement.scrollTop:e.scrollTop:null}},{key:"hasListFullyLoaded",value:function(){var e=this.props,t=e.lastPageToRequest,s=e.isRequestingPosts,n=this.state.maxRequestedPage;return!s&&n>=t}},{key:"maybeLoadNextPage",value:function(){var e=this.props,t=e.scrollContainer,s=e.lastPageToRequest,n=e.isRequestingPosts,o=this.state.maxRequestedPage;if(!(!t||n||o>=s)){var a=this.getScrollTop(),l=t.scrollHeight,i=t.clientHeight,r=l-a-i;"number"!=typeof a||"number"!=typeof l||"number"!=typeof i||r>A||this.setState({maxRequestedPage:o+1})}}},{key:"renderListEnd",value:function(){return v.default.createElement(T.default,null)}},{key:"renderMaxPagesNotice",value:function(){var e=this.props,t=e.siteId,s=e.totalPageCount,n=e.totalPostCount,o=null===t&&this.hasListFullyLoaded()&&s>U;if(!o)return null;var a=this.getPostsPerPageCount()*U;return v.default.createElement(O.default,{displayedPosts:a,totalPosts:n})}},{key:"renderPlaceholder",value:function(){return v.default.createElement(R.default,{key:"placeholder"})}},{key:"renderPost",value:function(e){var t=e.global_ID,s=this.props.query;return v.default.createElement(R.default,{key:t,globalId:t,singleUserQuery:s&&!!s.author})}},{key:"render",value:function(){var e=this.props,t=e.query,s=e.siteId,n=e.posts,o=e.isRequestingPosts,l=this.state.maxRequestedPage,i=t&&n&&!n.length&&!o,r=(0,j.default)("post-type-list",{"is-empty":i});return v.default.createElement("div",{className:r},t&&(0,P.range)(1,l+1).map(function(e){return v.default.createElement(C.default,{key:"query-"+e,siteId:s,query:(0,a.default)({},t,{page:e})})}),n&&n.map(this.renderPost),i&&v.default.createElement(M.default,{type:t.type,status:t.status}),this.renderMaxPagesNotice(),this.hasListFullyLoaded()?this.renderListEnd():this.renderPlaceholder())}}]),t}(b.Component);q.propTypes={query:_.default.object,scrollContainer:_.default.object,siteId:_.default.number,posts:_.default.array,isRequestingPosts:_.default.bool,totalPostCount:_.default.number,totalPageCount:_.default.number,lastPageToRequest:_.default.number},t.default=(0,x.connect)(function(e,t){var s=(0,I.getSelectedSiteId)(e),n=(0,k.getSitePostsLastPageForQuery)(e,s,t.query),o=null===s?Math.min(U,n):n;return{siteId:s,posts:(0,k.getSitePostsForQueryIgnoringPage)(e,s,t.query),isRequestingPosts:(0,k.isRequestingSitePostsForQueryIgnoringPage)(e,s,t.query),totalPostCount:(0,k.getSitePostsFoundForQuery)(e,s,t.query),totalPageCount:n,lastPageToRequest:o}})(q),e.exports=t.default},"./client/my-sites/post-type-list/max-pages-notice.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/react-redux/es/index.js"),v=s("./node_modules/i18n-calypso/index.js"),y=s("./client/state/ui/layout-focus/actions.js"),j=s("./client/state/analytics/actions.js"),x=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),n.focusSiteSelector=function(e){e.preventDefault(),n.props.setLayoutFocus("sites")},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.props.recordTracksEvent("calypso_post_type_list_max_pages_view")}},{key:"render",value:function(){var e=this.props,t=e.displayedPosts,s=e.totalPosts,n=e.translate;return _.default.createElement("div",{className:"post-type-list__max-pages-notice"},n("Showing %(displayedPosts)d post of %(totalPosts)d.","Showing %(displayedPosts)d posts of %(totalPosts)d.",{args:{displayedPosts:t,totalPosts:s}}),_.default.createElement("br",null),n("To view more posts, {{a}}switch to a specific site{{/a}}.",{components:{a:_.default.createElement("a",{className:"post-type-list__max-pages-notice-link",onClick:this.focusSiteSelector})}}))}}]),t}(g.Component);x.propTypes={displayedPosts:h.default.number,totalPosts:h.default.number},t.default=(0,b.connect)(null,{recordTracksEvent:j.recordTracksEvent,setLayoutFocus:y.setLayoutFocus})((0,v.localize)(x)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/duplicate.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.translate,s=e.canEdit,n=e.status,o=e.type,a=e.duplicateUrl,l=e.onDuplicateClick,i=(0,f.includes)(["draft","future","pending","private","publish"],n);return(0,y.isEnabled)("posts/post-type-list")&&"condensedPosts"===(0,P.abtest)("condensedPostList")&&s&&i&&"post"===o?r.default.createElement(h.default,{href:a,onClick:l,icon:"pages"},t("Duplicate",{context:"verb"})):null}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/assign.js"),l=n(a),i=s("./node_modules/react/react.js"),r=n(i),u=s("./node_modules/prop-types/index.js"),d=n(u),c=s("./node_modules/react-redux/es/index.js"),p=s("./node_modules/i18n-calypso/index.js"),f=s("./node_modules/lodash/lodash.js"),m=s("./client/components/popover/menu-item.jsx"),h=n(m),g=s("./client/state/posts/selectors.js"),_=s("./client/state/selectors/can-current-user-edit-post.js"),b=n(_),v=s("./client/state/ui/editor/selectors.js"),y=s("./client/config/index.js"),j=s("./client/state/analytics/actions.js"),x=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),P=s("./client/lib/abtest/index.js");o.propTypes={globalId:d.default.string,translate:d.default.func.isRequired,canEdit:d.default.bool,status:d.default.string,type:d.default.string,duplicateUrl:d.default.string,onDuplicateClick:d.default.func};var E=function(e,t){var s=t.globalId,n=(0,g.getPost)(e,s);return n?{canEdit:(0,b.default)(e,s),status:n.status,type:n.type,duplicateUrl:(0,v.getEditorDuplicatePostPath)(e,n.site_ID,n.ID)}:{}},C={bumpStat:j.bumpStat,recordTracksEvent:j.recordTracksEvent},S=function(e,t,s){var n=(0,x.bumpStatGenerator)(e.type,"duplicate",t.bumpStat),o=function(){n(),t.recordTracksEvent("calypso_post_type_list_duplicate",{post_type:e.type})};return(0,l.default)({},s,e,t,{onDuplicateClick:o})};t.default=(0,c.connect)(E,C,S)((0,p.localize)(o)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/edit.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.translate,s=e.canEdit,n=e.status,o=e.editUrl,a=e.bumpStat;return"trash"!==n&&s?d.default.createElement(m.default,{href:o,onClick:a,icon:"pencil"},t("Edit",{context:"verb"})):null}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/assign.js"),l=n(a),i=s("./node_modules/prop-types/index.js"),r=n(i),u=s("./node_modules/react/react.js"),d=n(u),c=s("./node_modules/react-redux/es/index.js"),p=s("./node_modules/i18n-calypso/index.js"),f=s("./client/components/popover/menu-item.jsx"),m=n(f),h=s("./client/state/analytics/actions.js"),g=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),_=s("./client/state/posts/selectors.js"),b=s("./client/state/selectors/can-current-user-edit-post.js"),v=n(b),y=s("./client/state/ui/editor/selectors.js");o.propTypes={globalId:r.default.string,translate:r.default.func.isRequired,canEdit:r.default.bool,status:r.default.string,editUrl:r.default.string,bumpStat:r.default.func};var j=function(e,t){var s=t.globalId,n=(0,_.getPost)(e,s);return n?{canEdit:(0,v.default)(e,s),status:n.status,type:n.type,editUrl:(0,y.getEditorPath)(e,n.site_ID,n.ID)}:{}},x={bumpAnalyticsStat:h.bumpStat},P=function(e,t,s){var n=(0,g.bumpStatGenerator)(e.type,"edit",t.bumpAnalyticsStat);return(0,l.default)({},s,e,t,{bumpStat:n})};t.default=(0,c.connect)(j,x,P)((0,p.localize)(o)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.globalId,s=e.includeDefaultActions,n=e.children,o=[];return s&&o.push(r.default.createElement(m.default,{key:"edit"}),r.default.createElement(E.default,{key:"view"}),r.default.createElement(g.default,{key:"stats"}),r.default.createElement(b.default,{key:"publish"}),r.default.createElement(y.default,{key:"share"}),r.default.createElement(S.default,{key:"restore"}),r.default.createElement(k.default,{key:"duplicate"}),r.default.createElement(x.default,{key:"trash"})),n=i.Children.toArray(n),n.length&&(o.length&&o.push(r.default.createElement(p.default,{key:"separator"})),o=o.concat(n)),r.default.createElement("div",{className:"post-actions-ellipsis-menu"},r.default.createElement(d.default,{position:"bottom left",disabled:!t},o.map(function(e){return(0,i.cloneElement)(e,{globalId:t})})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=s("./node_modules/prop-types/index.js"),l=n(a),i=s("./node_modules/react/react.js"),r=n(i),u=s("./client/components/ellipsis-menu/index.jsx"),d=n(u),c=s("./client/components/popover/menu-separator.jsx"),p=n(c),f=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/edit.jsx"),m=n(f),h=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/stats.jsx"),g=n(h),_=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/publish.jsx"),b=n(_),v=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/share.jsx"),y=n(v),j=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/trash.jsx"),x=n(j),P=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/view.jsx"),E=n(P),C=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/restore.jsx"),S=n(C),I=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/duplicate.jsx"),k=n(I);o.propTypes={globalId:l.default.string,includeDefaultActions:l.default.bool},o.defaultProps={includeDefaultActions:!0},e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/publish.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/assign.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/react/react.js"),v=n(b),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/i18n-calypso/index.js"),x=s("./node_modules/lodash/lodash.js"),P=s("./client/components/popover/menu-item.jsx"),E=n(P),C=s("./client/state/analytics/actions.js"),S=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),I=s("./client/state/posts/selectors.js"),k=s("./client/state/posts/actions.js"),w=s("./client/state/selectors/can-current-user.js"),T=n(w),N=function(e){function t(){(0,u.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.publishPost=e.publishPost.bind(e),e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"publishPost",value:function(){var e=this.props,t=e.siteId,s=e.postId;t&&s&&(this.props.onPublishPost(),this.props.savePost(t,s,{status:"publish"}))}},{key:"render",value:function(){var e=this.props,t=e.translate,s=e.status,n=e.canPublish;return n&&(0,x.includes)(["pending","draft"],s)?v.default.createElement(E.default,{onClick:this.publishPost,icon:"reader"},t("Publish")):null}}]),t}(b.Component);N.propTypes={globalId:_.default.string,translate:_.default.func.isRequired,status:_.default.string,siteId:_.default.number,postId:_.default.number,canPublish:_.default.bool,savePost:_.default.func,onPublishPost:_.default.func};var R=function(e,t){var s=t.globalId,n=(0,I.getPost)(e,s);return n?{status:n.status,siteId:n.site_ID,postId:n.ID,type:n.type,canPublish:(0,T.default)(e,n.site_ID,"publish_posts")}:{}},D={savePost:k.savePost,bumpStat:C.bumpStat,recordTracksEvent:C.recordTracksEvent},M=function(e,t,s){var n=(0,S.bumpStatGenerator)(e.type,"publish",t.bumpStat),o=function(){n(),t.recordTracksEvent("calypso_post_type_list_publish",{post_type:e.type})};return(0,a.default)({},s,e,t,{onPublishPost:o})};t.default=(0,y.connect)(R,D,M)((0,j.localize)(N)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/restore.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/assign.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/react/react.js"),v=n(b),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/i18n-calypso/index.js"),x=s("./client/components/popover/menu-item.jsx"),P=n(x),E=s("./client/state/analytics/actions.js"),C=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),S=s("./client/state/selectors/can-current-user.js"),I=n(S),k=s("./client/state/posts/selectors.js"),w=s("./client/state/posts/actions.js"),T=s("./client/state/current-user/selectors.js"),N=function(e){function t(){(0,u.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.restorePost=e.restorePost.bind(e),e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"restorePost",value:function(){var e=this.props,t=e.siteId,s=e.postId;t&&s&&(this.props.bumpStat(),this.props.restorePost(t,s))}},{key:"render",value:function(){var e=this.props,t=e.translate,s=e.canRestore,n=e.status;return"trash"===n&&s?v.default.createElement(P.default,{onClick:this.restorePost,icon:"undo"},t("Restore")):null}}]),t}(b.Component);N.propTypes={globalId:_.default.string,translate:_.default.func.isRequired,siteId:_.default.number,postId:_.default.number,canRestore:_.default.bool,status:_.default.string,restorePost:_.default.func.isRequired,bumpStat:_.default.func};var R=function(e,t){var s=t.globalId,n=(0,k.getPost)(e,s);if(!n)return{};var o=(0,T.getCurrentUserId)(e),a=n.author&&n.author.ID===o;return{siteId:n.site_ID,postId:n.ID,status:n.status,type:n.type,canRestore:(0,I.default)(e,n.site_ID,a?"delete_posts":"delete_others_posts")}},D={restorePost:w.restorePost,bumpAnalyticsStat:E.bumpStat},M=function(e,t,s){var n=(0,C.bumpStatGenerator)(e.type,"restore",t.bumpAnalyticsStat);return(0,a.default)({},s,e,t,{bumpStat:n})};t.default=(0,y.connect)(R,D,M)((0,j.localize)(N)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/share.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/assign.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/prop-types/index.js"),v=n(b),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/i18n-calypso/index.js"),x=s("./client/components/popover/menu-item.jsx"),P=n(x),E=s("./client/state/analytics/actions.js"),C=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),S=s("./client/state/posts/selectors.js"),I=s("./client/state/ui/post-type-list/actions.js"),k=s("./client/state/selectors/is-publicize-enabled.js"),w=n(k),T=s("./client/lib/abtest/index.js"),N=s("./client/config/index.js"),R=n(N),D=function(e){function t(){(0,u.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.sharePost=e.sharePost.bind(e),e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"sharePost",value:function(){this.props.bumpStat(),this.props.toggleSharePanel(this.props.globalId),this.props.onClick()}},{key:"render",value:function(){var e=this.props,t=e.translate,s=e.status,n=e.type,o=e.isPublicizeEnabled;return R.default.isEnabled("posts/post-type-list")&&"condensedPosts"===(0,T.abtest)("condensedPostList")&&"publish"===s&&o&&"post"===n?_.default.createElement(P.default,{onClick:this.sharePost,icon:"share"},t("Share")):null}}]),t}(g.Component);D.propTypes={globalId:v.default.string,translate:v.default.func.isRequired,status:v.default.string,type:v.default.string,isPublicizeEnabled:v.default.bool,onClick:v.default.func,bumpStat:v.default.func};var M=function(e,t){var s=t.globalId,n=(0,S.getPost)(e,s);return n?{status:n.status,type:n.type,isPublicizeEnabled:(0,w.default)(e,n.site_ID,n.type)}:{}},L={toggleSharePanel:I.toggleSharePanel,bumpAnalyticsStat:E.bumpStat},O=function(e,t,s){var n=(0,C.bumpStatGenerator)(e.type,"toggle_share_panel",t.bumpAnalyticsStat);return(0,a.default)({},s,e,t,{bumpStat:n})};t.default=(0,y.connect)(M,L,O)((0,j.localize)(D)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/stats.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.translate,s=e.siteSlug,n=e.postId,o=e.status,a=e.isStatsActive,l=e.bumpStat;return a&&"publish"===o?d.default.createElement(m.default,{href:"/stats/post/"+n+"/"+s,onClick:l,icon:"stats-alt"},t("Stats")):null}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/assign.js"),l=n(a),i=s("./node_modules/prop-types/index.js"),r=n(i),u=s("./node_modules/react/react.js"),d=n(u),c=s("./node_modules/react-redux/es/index.js"),p=s("./node_modules/i18n-calypso/index.js"),f=s("./client/components/popover/menu-item.jsx"),m=n(f),h=s("./client/state/analytics/actions.js"),g=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),_=s("./client/state/sites/selectors.js"),b=s("./client/state/posts/selectors.js");o.propTypes={globalId:r.default.string,translate:r.default.func.isRequired,siteSlug:r.default.string,postId:r.default.number,status:r.default.string,isStatsActive:r.default.bool,bumpStat:r.default.func};var v=function(e,t){var s=t.globalId,n=(0,b.getPost)(e,s);return n?{siteSlug:(0,_.getSiteSlug)(e,n.site_ID),postId:n.ID,status:n.status,type:n.type,isStatsActive:!1!==(0,_.isJetpackModuleActive)(e,n.site_ID,"stats")}:{}},y={bumpAnalyticsStat:h.bumpStat},j=function(e,t,s){var n=(0,g.bumpStatGenerator)(e.type,"stats",t.bumpAnalyticsStat);return(0,l.default)({},s,e,t,{bumpStat:n})};t.default=(0,c.connect)(v,y,j)((0,p.localize)(o)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/trash.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/assign.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/react/react.js"),v=n(b),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/i18n-calypso/index.js"),x=s("./client/components/popover/menu-item.jsx"),P=n(x),E=s("./client/state/analytics/actions.js"),C=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),S=s("./client/state/posts/actions.js"),I=s("./client/state/selectors/can-current-user.js"),k=n(I),w=s("./client/state/posts/selectors.js"),T=s("./client/state/current-user/selectors.js"),N=function(e){function t(){(0,u.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.trashPost=e.trashPost.bind(e),e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"trashPost",value:function(){var e=this.props,t=e.translate,s=e.siteId,n=e.postId,o=e.status;n&&("trash"!==o?(this.props.onTrashClick(),this.props.trashPost(s,n)):confirm(t("Are you sure you want to permanently delete this post?"))&&(this.props.onDeleteClick(),this.props.deletePost(s,n)))}},{key:"render",value:function(){var e=this.props,t=e.translate,s=e.status,n=e.canDelete;return n?v.default.createElement(P.default,{onClick:this.trashPost,icon:"trash"},"trash"===s?t("Delete Permanently"):t("Trash",{context:"verb"})):null}}]),t}(b.Component);N.propTypes={globalId:_.default.string,translate:_.default.func.isRequired,postId:_.default.number,siteId:_.default.number,status:_.default.string,canDelete:_.default.bool,trashPost:_.default.func,deletePost:_.default.func,onTrashClick:_.default.func,onDeleteClick:_.default.func};var R=function(e,t){var s=t.globalId,n=(0,w.getPost)(e,s);if(!n)return{};var o=(0,T.getCurrentUserId)(e),a=n.author&&n.author.ID===o;return{postId:n.ID,siteId:n.site_ID,status:n.status,type:n.type,canDelete:(0,k.default)(e,n.site_ID,a?"delete_posts":"delete_others_posts")}},D={trashPost:S.trashPost,deletePost:S.deletePost,bumpStat:E.bumpStat,recordTracksEvent:E.recordTracksEvent},M=function(e,t,s){var n=(0,C.bumpStatGenerator)(e.type,"trash",t.bumpStat),o=function(){n(),t.recordTracksEvent("calypso_post_type_list_trash",{post_type:e.type})},l=(0,C.bumpStatGenerator)(e.type,"delete",t.bumpStat),i=function(){l(),t.recordTracksEvent("calypso_post_type_list_delete",{post_type:e.type})};return(0,a.default)({},s,e,t,{onTrashClick:o,onDeleteClick:i})};t.default=(0,y.connect)(R,D,M)((0,j.localize)(N)),e.exports=t.default},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js":function(e,t,s){"use strict";function n(e,t,s){return function(){var n=void 0;n=e?"page"!==e&&"post"!==e?"calypso_cpt_actions":"calypso_"+e+"_actions":"calypso_unknown_type_actions",s(n,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.bumpStatGenerator=n},"./client/my-sites/post-type-list/post-actions-ellipsis-menu/view.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/assign.js"),a=n(o),l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/prop-types/index.js"),_=n(g),b=s("./node_modules/react/react.js"),v=n(b),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/i18n-calypso/index.js"),x=s("./node_modules/lodash/lodash.js"),P=s("./client/components/popover/menu-item.jsx"),E=n(P),C=s("./client/state/analytics/actions.js"),S=s("./client/my-sites/post-type-list/post-actions-ellipsis-menu/utils.js"),I=s("./client/state/posts/selectors.js"),k=s("./client/state/sites/selectors.js"),w=s("./client/state/ui/preview/actions.js"),T=s("./client/state/ui/layout-focus/actions.js"),N=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var a=arguments.length,l=Array(a),r=0;r<a;r++)l[r]=arguments[r];return s=n=(0,f.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.previewPost=function(e){var t=n.props,s=t.isPreviewable,o=t.previewUrl,a=t.siteId;n.props.bumpStat(),s&&(n.props.setAllSitesPreviewSiteId(a),n.props.setPreviewUrl(o),n.props.setLayoutFocus("preview"),e.preventDefault())},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.translate,s=e.status,n=e.previewUrl;return n?v.default.createElement(E.default,{href:n,onClick:this.previewPost,icon:"visible",target:"_blank",rel:"noopener noreferrer"},(0,x.includes)(["publish","private"],s)?t("View",{context:"verb"}):t("Preview",{context:"verb"})):null}}]),t}(b.Component);N.propTypes={globalId:_.default.string,translate:_.default.func.isRequired,status:_.default.string,isPreviewable:_.default.bool,previewUrl:_.default.string,setPreviewUrl:_.default.func.isRequired,setLayoutFocus:_.default.func.isRequired,bumpStat:_.default.func},N.defaultProps={globalId:"",status:"draft",isPreviewable:!1,previewUrl:""};var R=function(e,t){var s=t.globalId,n=(0,I.getPost)(e,s);return n?{siteId:n.site_ID,status:n.status,type:n.type,isPreviewable:!1!==(0,k.isSitePreviewable)(e,n.site_ID),previewUrl:(0,I.getPostPreviewUrl)(e,n.site_ID,n.ID)}:{}},D={setAllSitesPreviewSiteId:w.setAllSitesPreviewSiteId,setPreviewUrl:w.setPreviewUrl,setLayoutFocus:T.setLayoutFocus,bumpAnalyticsStat:C.bumpStat},M=function(e,t,s){var n=(0,S.bumpStatGenerator)(e.type,"view",t.bumpAnalyticsStat);return(0,a.default)({},s,e,t,{bumpStat:n})};t.default=(0,y.connect)(R,D,M)((0,j.localize)(N)),e.exports=t.default},"./client/my-sites/post-type-list/post-thumbnail.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.thumbnail,s=(0,d.default)("post-type-list__post-thumbnail-wrapper",{"has-image":!!t});return r.default.createElement("div",{className:s},t&&r.default.createElement("img",{src:(0,m.default)(t,{h:80}),className:"post-type-list__post-thumbnail"}))}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/prop-types/index.js"),l=n(a),i=s("./node_modules/react/react.js"),r=n(i),u=s("./node_modules/classnames/index.js"),d=n(u),c=s("./node_modules/react-redux/es/index.js"),p=s("./node_modules/lodash/lodash.js"),f=s("./client/lib/resize-image-url/index.js"),m=n(f),h=s("./client/state/posts/selectors.js");o.propTypes={globalId:l.default.string,thumbnail:l.default.string},t.default=(0,c.connect)(function(e,t){var s=(0,h.getNormalizedPost)(e,t.globalId),n=(0,p.get)(s,"canonical_image.uri");return{thumbnail:n}})(o),e.exports=t.default},"./client/my-sites/post-type-list/post-type-post-author/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e
}}function o(e){var t=e.name;return t?l.default.createElement("div",{className:"post-type-post-author"},l.default.createElement("div",{className:"post-type-post-author__name"},t)):null}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/react/react.js"),l=n(a),i=s("./node_modules/prop-types/index.js"),r=n(i),u=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/lodash/lodash.js"),c=s("./node_modules/i18n-calypso/index.js"),p=s("./client/state/posts/selectors.js");o.propTypes={globalId:r.default.string,name:r.default.string},t.default=(0,u.connect)(function(e,t){var s=(0,p.getPost)(e,t.globalId);return{name:(0,d.get)(s,["author","name"])}})((0,c.localize)(o)),e.exports=t.default},"./client/my-sites/post-type-list/post-type-site-info/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.site,s=e.siteTitle;return t?l.default.createElement("div",{className:"post-type-site-info"},l.default.createElement(m.default,{size:16,site:t}),l.default.createElement("div",{className:"post-type-site-info__title"},s)):null}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/react/react.js"),l=n(a),i=s("./node_modules/prop-types/index.js"),r=n(i),u=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/i18n-calypso/index.js"),c=s("./client/state/posts/selectors.js"),p=s("./client/state/sites/selectors.js"),f=s("./client/blocks/site-icon/index.jsx"),m=n(f);o.propTypes={globalId:r.default.string,site:r.default.object,siteTitle:r.default.string},t.default=(0,u.connect)(function(e,t){var s=(0,c.getPost)(e,t.globalId),n=s?s.site_ID:null;return{site:n?(0,p.getSite)(e,n):null,siteTitle:n?(0,p.getSiteTitle)(e,n):null}})((0,d.localize)(o)),e.exports=t.default},"./client/my-sites/post/post-image/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/prop-types/index.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/classnames/index.js"),v=n(b),y=function(e){function t(){var e,s,n,o;(0,i.default)(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return s=n=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r))),n.state={collapsed:!0},n._getImageURL=function(){var e=n.props.postImages;return""!==e.featured_image?e.featured_image:e.canonical_image&&e.canonical_image.uri?e.canonical_image.uri:e.content_images&&e.content_images.length&&e.content_images[0].src?e.content_images[0].src:e.images&&e.images.length?e.images[0].src:void 0},n._handleClick=function(){n.setState({collapsed:!n.state.collapsed})},o=s,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e,t,s=this._getImageURL();return s?(this.state.collapsed&&(t={backgroundImage:"url("+s+")"}),e=(0,v.default)({"post-image":!0,"is-collapsed":this.state.collapsed}),_.default.createElement("div",{className:e,style:t,onClick:this._handleClick},this.state.collapsed?null:_.default.createElement("img",{src:s,className:"post-image__image"}))):null}}]),t}(_.default.PureComponent);y.propTypes={postImages:h.default.shape({featured_image:h.default.string,canonical_image:h.default.shape({uri:h.default.string.isRequired,width:h.default.number,height:h.default.number}),content_images:h.default.arrayOf(h.default.shape({src:h.default.string.isRequired,width:h.default.number,height:h.default.number})),images:h.default.arrayOf(h.default.shape({src:h.default.string.isRequired,width:h.default.number,height:h.default.number}))})},t.default=y,e.exports=t.default},"./client/my-sites/posts/controller.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/page/index.js"),a=n(o),l=s("./node_modules/react/react.js"),i=n(l),r=s("./node_modules/debug/browser.js"),u=n(r),d=s("./node_modules/i18n-calypso/index.js"),c=n(d),p=s("./client/lib/route/index.js"),f=n(p),m=s("./client/lib/analytics/index.js"),h=n(m),g=s("./node_modules/to-title-case/index.js"),_=n(g),b=s("./client/lib/track-scroll-page/index.js"),v=n(b),y=s("./client/state/document-head/actions.js"),j=s("./client/lib/react-helpers/index.js"),x=s("./client/state/selectors/are-all-sites-single-user.js"),P=n(x),E=s("./client/state/ui/selectors.js"),C=s("./client/state/sites/selectors.js"),S=s("./client/state/current-user/selectors.js"),I=(0,u.default)("calypso:my-sites:posts");t.default={posts:function(e){function t(){return!!d&&(!!(0,P.default)(o)||(!(!(0,C.isSingleUserSite)(o,l)&&!(0,C.isJetpackSite)(o,l))||void 0))}var n,o=e.store.getState(),l=(0,E.getSelectedSiteId)(o),r=s("./client/my-sites/posts/main.jsx"),u=f.default.getSiteFragment(e.path),d="my"===e.params.author?(0,S.getCurrentUserId)(o):null,p=d?e.params.status:e.params.author,m=e.query.s,g=e.query.category,b=e.query.tag,x=f.default.sectionify(e.path),k="Blog Posts";return I("siteID: `%s`",u),I("author: `%s`",d),p=p&&"my"!==p&&p!==u?p:"",I("statusSlug: `%s`",p),m="undefined"!=typeof m?m:"",I("search: `%s`",m),t()?void a.default.redirect(e.path.replace(/\/my\b/,"")):(e.store.dispatch((0,y.setDocumentHeadTitle)(c.default.translate("Blog Posts",{textOnly:!0}))),n=u?x+"/:site":x,k+=p.length?" > "+(0,_.default)(p):" > Published",h.default.pageView.record(n,k),void(0,j.renderWithReduxStore)(i.default.createElement(r,{context:e,author:d,statusSlug:p,search:m,category:g,tag:b,trackScrollPage:v.default.bind(null,n,k,"Posts")}),"primary",e.store))}},e.exports=t.default},"./client/my-sites/posts/index.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,a.default)("/posts/:author?/:status?/:domain?",l.siteSelection,l.navigation,r.default.posts)};var o=s("./node_modules/page/index.js"),a=n(o),l=s("./client/my-sites/controller.js"),i=s("./client/my-sites/posts/controller.js"),r=n(i);e.exports=t.default},"./client/my-sites/posts/main.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,D.getSelectedSiteId)(e);return{adminUrl:(0,O.getSiteAdminUrl)(e,t,"plugins.php?plugin_status=upgrade"),hasMinimumJetpackVersion:(0,O.siteHasMinimumJetpackVersion)(e,t),isJetpack:(0,O.isJetpackSite)(e,t),siteId:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=n(a),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(i),u=s("./node_modules/babel-runtime/helpers/createClass.js"),d=n(u),c=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=n(c),f=s("./node_modules/babel-runtime/helpers/inherits.js"),m=n(f),h=s("./node_modules/react/react.js"),g=n(h),_=s("./node_modules/react-redux/es/index.js"),b=s("./node_modules/classnames/index.js"),v=n(b),y=s("./node_modules/i18n-calypso/index.js"),j=s("./client/my-sites/post-type-filter/index.jsx"),x=n(j),P=s("./client/my-sites/sidebar-navigation/sidebar-navigation.jsx"),E=n(P),C=s("./client/my-sites/posts/post-list-wrapper.jsx"),S=n(C),I=s("./client/my-sites/post-type-list/bulk-edit-bar.jsx"),k=n(I),w=s("./client/config/index.js"),T=n(w),N=s("./client/components/main/index.jsx"),R=n(N),D=s("./client/state/ui/selectors.js"),M=s("./client/lib/route/index.js"),L=s("./client/state/notices/actions.js"),O=s("./client/state/sites/selectors.js"),A=function(e){function t(){var e,s,n,o;(0,r.default)(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return s=n=(0,p.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),n.setWarning=function(e){var t=e.adminUrl,s=e.hasMinimumJetpackVersion,o=e.isJetpack,a=e.siteId;a&&o&&!1===s&&n.props.warningNotice(n.props.translate("Jetpack %(version)s is required to take full advantage of all post editing features.",{args:{version:(0,T.default)("jetpack_min_version")}}),{button:n.props.translate("Update now"),href:t})},o=s,(0,p.default)(n,o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){this.setWarning(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.siteId===this.props.siteId&&e.hasMinimumJetpackVersion===this.props.hasMinimumJetpackVersion||this.setWarning(e)}},{key:"render",value:function(){var e=this.props,t=e.author,s=e.category,n=e.search,o=e.siteId,a=e.statusSlug,l=e.tag,i=(0,v.default)("posts",{"is-multisite":!this.props.siteId,"is-single-site":this.props.siteId}),r={author:t,category:s,search:n,site_visibility:o?void 0:"visible",status:(0,M.mapPostStatus)(a),tag:l,type:"post"};return g.default.createElement(R.default,{className:i},g.default.createElement(E.default,null),g.default.createElement("div",{className:"posts__primary"},g.default.createElement(x.default,{query:r,siteId:o,statusSlug:a}),g.default.createElement(k.default,null),g.default.createElement(S.default,this.props)))}}]),t}(g.default.Component);t.default=(0,_.connect)(o,{warningNotice:L.warningNotice})((0,y.localize)(A)),e.exports=t.default},"./client/my-sites/posts/post-controls.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PostControls=void 0;var o=s("./node_modules/prop-types/index.js"),a=n(o),l=s("./node_modules/react/react.js"),i=n(l),r=s("./node_modules/react-redux/es/index.js"),u=s("./node_modules/i18n-calypso/index.js"),d=s("./node_modules/classnames/index.js"),c=n(d),p=s("./node_modules/lodash/lodash.js"),f=s("./node_modules/gridicons/build/index.js"),m=n(f),h=s("./client/config/index.js"),g=s("./client/lib/analytics/index.js"),_=s("./client/lib/posts/utils.js"),b=s("./client/state/selectors/is-publicize-enabled.js"),v=n(b),y=s("./client/state/sites/selectors.js"),j=function(){return g.ga.recordEvent("Posts","Clicked Edit Post")},x=function(){return g.ga.recordEvent("Posts","Clicked Copy Post")},P=function(){return g.ga.recordEvent("Posts","Clicked View Post Stats")},E=function(e){var t=e.current,s=e.editURL,n=e.fullWidth,o=e.onDelete,a=e.onHideMore,l=e.onPublish,i=e.onRestore,r=e.onShowMore,u=e.onToggleShare,d=e.onTrash,c=e.post,f=e.siteSlug,m=e.translate,g=e.onViewPost,b={main:[],more:[]};return(0,_.userCan)("edit_post",c)&&b.main.push({className:"edit"+("edit"===t?" is-active":""),href:s,icon:"pencil",onClick:j,text:m("Edit")}),"publish"===c.status?(b.main.push({className:"view"+("view"===t?" is-active":""),href:c.URL,icon:e.isPreviewable?"visible":"external",onClick:g,text:m("View")}),b.main.push({className:"stats"+("stats"===t?" is-active":""),href:"/stats/post/"+c.ID+"/"+f,icon:"stats-alt",onClick:P,text:m("Stats")}),(0,h.isEnabled)("republicize")&&b.main.push({className:"share"+("share"===t?" is-active":""),disabled:!e.isPublicizeEnabled,icon:"share",onClick:u,text:m("Share")})):"trash"!==c.status?(b.main.push({className:"view"+("preview"===t?" is-active":""),icon:e.isPreviewable?"visible":"external",onClick:g,text:m("Preview")}),(0,_.userCan)("publish_post",c)&&b.main.push({className:"publish"+("publish"===t?" is-active":""),icon:"reader",onClick:l,text:m("Publish")})):(0,_.userCan)("delete_post",c)&&b.main.push({className:"restore"+("restore"===t?" is-active":""),icon:"undo",onClick:i,text:m("Restore")}),(0,_.userCan)("delete_post",c)&&("trash"===c.status?b.main.push({className:"trash is-scary"+("delete-permanently"===t?" is-active":""),icon:"trash",onClick:o,text:m("Delete Permanently")}):b.main.push({className:"trash"+("trash"===t?" is-active":""),icon:"trash",onClick:d,text:m("Trash")})),(0,p.includes)(["draft","future","pending","private","publish"],c.status)&&(0,_.userCan)("edit_post",c)&&b.main.push({className:"copy"+("copy"===t?" is-active":""),href:"/post/"+f+"?copy="+c.ID,icon:"clipboard",onClick:x,text:m("Copy")}),b.main.length>4&&n?b.more=b.main.splice(4):b.main.length>2&&!n&&(b.more=b.main.splice(2)),b.more.length&&(b.main.push({className:"more"+("more"===t?" is-active":""),icon:"ellipsis",onClick:r,text:m("More")}),b.more.push({className:"back"+("back"===t?" is-active":""),icon:"chevron-left",onClick:a,text:m("Back")})),b},C=function(e){return e.map(function(e,t){return i.default.createElement("li",{className:(0,c.default)({"post-controls__disabled":e.disabled}),key:t},i.default.createElement("a",{className:"post-controls__"+e.className,href:e.href,onClick:e.disabled?p.noop:e.onClick,target:e.target?e.target:null},i.default.createElement(m.default,{icon:e.icon,size:18}),i.default.createElement("span",null,e.text)))})},S=t.PostControls=function(e){var t=E(e),s=t.main,n=t.more,o=(0,c.default)("post-controls",{"post-controls--desk-nomore":n<=2});return i.default.createElement("div",{className:o},n.length>0&&i.default.createElement("ul",{className:"posts__post-controls post-controls__pane post-controls__more-options"},C(n)),i.default.createElement("ul",{className:"posts__post-controls post-controls__pane post-controls__main-options"},C(s)))};S.propTypes={current:a.default.string,editURL:a.default.string.isRequired,fullWidth:a.default.bool,isPublicizeEnabled:a.default.bool,isPreviewable:a.default.bool,onDelete:a.default.func,onHideMore:a.default.func.isRequired,onPublish:a.default.func,onRestore:a.default.func,onShowMore:a.default.func.isRequired,onToggleShare:a.default.func,onTrash:a.default.func,onViewPost:a.default.func,post:a.default.object.isRequired,siteId:a.default.number,translate:a.default.func},t.default=(0,r.connect)(function(e,t){var s=t.siteId,n=t.post;return{isPreviewable:!1!==(0,y.isSitePreviewable)(e,s),isPublicizeEnabled:(0,v.default)(e,s,n.type),siteSlug:(0,y.getSiteSlug)(e,s)}})((0,u.localize)(S))},"./client/my-sites/posts/post-header.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/react-redux/es/index.js"),_=s("./node_modules/classnames/index.js"),b=n(_),v=s("./node_modules/i18n-calypso/index.js"),y=s("./client/blocks/site-icon/index.jsx"),j=n(y),x=s("./client/state/sites/selectors.js"),P=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"getAuthor",value:function(){return this.props.translate("By %(author)s",{args:{author:this.props.author}})}},{key:"render",value:function(){var e=(0,b.default)({post__header:!0,"has-author":this.props.showAuthor});return h.default.createElement("div",{className:e},h.default.createElement(j.default,{site:this.props.site,size:32}),h.default.createElement("h4",{className:"post__site-title"},h.default.createElement("a",{href:this.props.path+"/"+this.props.siteSlug},this.props.siteTitle)),this.props.showAuthor?h.default.createElement("span",{className:"post__author"},this.getAuthor()):null)}}]),t}(m.PureComponent);P.defaultProps={showAuthor:!1},t.default=(0,g.connect)(function(e,t){var s=t.siteId;return{siteSlug:(0,x.getSiteSlug)(e,s),siteTitle:(0,x.getSiteTitle)(e,s)}})((0,v.localize)(P)),e.exports=t.default},"./client/my-sites/posts/post-list-wrapper.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./client/my-sites/posts/post-list.jsx"),_=n(g),b=s("./client/my-sites/post-type-list/index.jsx"),v=n(b),y=s("./client/config/index.js"),j=n(y),x=s("./client/lib/abtest/index.js"),P=s("./client/lib/route/path.js"),E=function(e){function t(e){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"renderPostList",value:function(){return h.default.createElement(_.default,this.props)}},{key:"renderPostTypeList",value:function(){var e={status:(0,P.mapPostStatus)(this.props.statusSlug),author:this.props.author,search:this.props.search,number:20};return this.props.category&&(e.category=this.props.category),this.props.tag&&(e.tag=this.props.tag),this.props.withCounts&&(e.meta="counts"),h.default.createElement(v.default,{query:e,scrollContainer:document.body})}},{key:"render",value:function(){return h.default.createElement("div",null,j.default.isEnabled("posts/post-type-list")&&"condensedPosts"===(0,x.abtest)("condensedPostList")?this.renderPostTypeList():this.renderPostList())}}]),t}(h.default.Component);t.default=E,e.exports=t.default},"./client/my-sites/posts/post-list.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,a,l=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/createClass.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),h=n(m),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/prop-types/index.js"),v=n(b),y=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/lodash/lodash.js"),x=s("./node_modules/i18n-calypso/index.js"),P=s("./node_modules/debug/browser.js"),E=n(P),C=s("./client/components/data/query-posts/index.jsx"),S=n(C),I=s("./client/my-sites/posts/post.jsx"),k=n(I),w=s("./client/my-sites/posts/post-placeholder.jsx"),T=n(w),N=s("./client/components/empty-content/index.jsx"),R=n(N),D=s("./client/components/infinite-list/index.jsx"),M=n(D),L=s("./client/my-sites/no-results/index.jsx"),O=n(L),A=s("./client/lib/route/index.js"),U=s("./client/components/list-end/index.js"),q=n(U),H=s("./client/my-sites/upgrade-nudge/index.jsx"),F=n(H),z=s("./client/state/selectors/has-initialized-sites.js"),B=n(z),W=s("./client/state/posts/selectors.js"),V=(0,E.default)("calypso:my-sites:posts"),G=250,Q=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var a=arguments.length,l=Array(a),r=0;r<a;r++)l[r]=arguments[r];return s=n=(0,f.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.state={page:1},n.incrementPage=function(){n.setState({page:n.state.page+1})},n.resetPage=function(){n.setState({page:1})},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.author===this.props.author&&e.search===this.props.search&&e.siteId===this.props.siteId&&e.status===this.props.status||this.resetPage()}},{key:"render",value:function(){var e=this.props,t=e.author,s=e.category,n=e.context,o=e.search,a=e.siteId,l=e.statusSlug,i=e.tag,r=(0,j.omitBy)({page:this.state.page,number:20,author:t,category:s,order_by:"drafts"===l?"modified":void 0,search:o,site_visibility:a?void 0:"visible",status:(0,A.mapPostStatus)(l),tag:i,type:"post"},j.isUndefined);return _.default.createElement("div",null,_.default.createElement(S.default,{siteId:a,query:r}),_.default.createElement(Y,{incrementPage:this.incrementPage,pathname:n.pathname,query:r,siteId:a,statusSlug:l}))}}]),t}(g.PureComponent);Q.propTypes={context:v.default.object,search:v.default.string,category:v.default.string,tag:v.default.string,statusSlug:v.default.string,siteId:v.default.number,author:v.default.number};var K=(0,x.localize)((a=o=function(e){function t(){var e,s,n,o;(0,u.default)(this,t);for(var a=arguments.length,l=Array(a),r=0;r<a;r++)l[r]=arguments[r];return s=n=(0,f.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.state={postsAtFullWidth:window.innerWidth>=960},n.afterResize=function(){var e=window.innerWidth>=960;n.state.postsAtFullWidth!==e&&n.setState({postsAtFullWidth:e})},n.fetchPosts=function(e){n.props.loading||n.props.lastPage||(e.triggeredByScroll&&n.props.trackScrollPage(n.props.query.page+1),n.props.incrementPage())},n.getNoContentMessage=function(){var e=n.props,t=e.hasRecentError,s=e.query.search,o=e.siteId,a=e.statusSlug,l=e.translate,i=void 0;if(s)return _.default.createElement(O.default,{image:"/calypso/images/posts/illustration-posts.svg",text:l("No posts match your search for {{searchTerm/}}.",{components:{searchTerm:_.default.createElement("em",null,s)}})});var r=o?"/post/"+o:"/post";switch(t&&(i={title:l("Oh, no! We couldn't fetch your posts."),line:l("Please check your internet connection.")}),a){case"drafts":i={title:l("You don't have any drafts."),line:l("Would you like to create one?"),action:l("Start a Post"),actionURL:r};break;case"scheduled":i={title:l("You don't have any scheduled posts."),line:l("Would you like to schedule a draft to publish?"),action:l("Edit Drafts"),actionURL:o?"/posts/drafts/"+o:"/posts/drafts"};break;case"trashed":i={title:l("You don't have any posts in your trash folder."),line:l("Everything you write is solid gold.")};break;default:i={title:l("You haven't published any posts yet."),line:l("Would you like to publish your first post?"),action:l("Start a Post"),actionURL:r}}return i.illustration="/calypso/images/posts/illustration-posts.svg",i.illustrationWidth=150,_.default.createElement(R.default,{title:i.title,line:i.line,action:i.action,actionURL:i.actionURL,illustration:i.illustration,illustrationWidth:i.illustrationWidth})},n.getPostRef=function(e){return e.global_ID},n.renderLoadingPlaceholders=function(){return _.default.createElement(T.default,{key:"placeholder-scroll-"+n.props.query.page})},n.renderPost=function(e,t){var s=e.canonical_image,o=e.featured_image,a={canonical_image:s,featured_image:o},l=_.default.createElement(k.default,{ref:e.global_ID,key:e.global_ID,post:e,postImages:a,fullWidthPost:n.state.postsAtFullWidth,path:(0,A.sectionify)(n.props.pathname)});return 2===t&&n.props.siteId&&!n.props.statusSlug?_.default.createElement("div",{key:e.global_ID},_.default.createElement(F.default,{title:n.props.translate("No Ads with WordPress.com Premium"),message:n.props.translate("Prevent ads from showing on your site."),feature:"no-adverts",event:"published_posts_no_ads"}),l):l},o=s,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){V("Posts React component mounted."),this.debouncedAfterResize=(0,j.debounce)(this.afterResize,300),window.addEventListener("resize",this.debouncedAfterResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debouncedAfterResize)}},{key:"shouldComponentUpdate",value:function(e){return e.loading!==this.props.loading||(e.lastPage!==this.props.lastPage||(e.statusSlug!==this.props.statusSlug||!(0,j.isEqual)(e.posts.map(function(e){return e.ID}),this.props.posts.map(function(e){return e.ID}))))}},{key:"render",value:function(){var e=this.props.posts,t=1,s=[],n=void 0,o=void 0;if(e.length&&this.props.hasSites)n=_.default.createElement(M.default,{key:"list-"+this.props.listId,className:"posts__list",items:e,lastPage:this.props.lastPage,fetchingNextPage:this.props.loading,guessedItemHeight:G,fetchNextPage:this.fetchPosts,getItemRef:this.getPostRef,renderItem:this.renderPost,renderLoadingPlaceholders:this.renderLoadingPlaceholders});else{if(this.props.loading||!this.props.hasSites)for(o=0;o<t;o++)s.push(_.default.createElement(T.default,{key:"placeholder-"+o}));else s=this.getNoContentMessage();n=_.default.createElement("div",{className:"posts__list"},s)}return _.default.createElement("div",null,n,this.props.lastPage&&e.length?_.default.createElement(q.default,null):null)}}]),t}(g.Component),o.propTypes={lastPage:v.default.bool.isRequired,loading:v.default.bool.isRequired,pathname:v.default.string.isRequired,posts:v.default.array.isRequired,query:v.default.shape({page:v.default.number,number:v.default.number,author:v.default.number,category:v.default.string,search:v.default.string,status:v.default.oneOf(["draft,pending","future","trash","publish,private"]),tag:v.default.string,type:v.default.oneOf(["post"])}),siteId:v.default.number,hasSites:v.default.bool.isRequired,statusSlug:v.default.string,trackScrollPage:v.default.func.isRequired},o.defaultProps={loading:!1,lastPage:!1,posts:[],trackScrollPage:function(){}},a)),Z=function(e,t){var s=t.query,n=t.siteId;return{hasSites:(0,B.default)(e),loading:(0,W.isRequestingSitePostsForQuery)(e,n,s),lastPage:!!(0,W.isSitePostsLastPageForQuery)(e,n,s),posts:(0,W.getSitePostsForQueryIgnoringPage)(e,n,s)||[]}},Y=(0,y.connect)(Z)(K);t.default=Q,e.exports=t.default},"./client/my-sites/posts/post-placeholder.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),r=s("./node_modules/babel-runtime/helpers/createClass.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=n(p),m=s("./node_modules/react/react.js"),h=n(m),g=s("./node_modules/i18n-calypso/index.js"),_=s("./client/components/card/index.jsx"),b=n(_),v=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return h.default.createElement(b.default,{tagName:"article",className:"post is-placeholder"},h.default.createElement("div",{className:"post__body"},h.default.createElement("header",{className:"post-attribution"},h.default.createElement("span",null,h.default.createElement("span",{className:"post-attribution-avatar is-rounded"}),h.default.createElement("span",{className:"placeholder-text"},this.props.translate("A Great Author on a Fantastic Site")))),h.default.createElement("div",{className:"post__content"},h.default.createElement("h4",{className:"post__title post__title-link"},h.default.createElement("span",{className:"placeholder-text"},this.props.translate("Loading Posts…"))),h.default.createElement("div",{className:"post__excerpt"},h.default.createElement("p",null,h.default.createElement("span",{className:"placeholder-text"},this.props.translate("Currently fetching the latest and greatest posts from your site(s). Looking good."))))),h.default.createElement("footer",{className:"post__info"},h.default.createElement("div",{className:"post__time"},h.default.createElement("span",{className:"placeholder-text"},this.props.translate("Near future"))))),h.default.createElement("div",{className:"post-controls"},h.default.createElement("ul",{className:"post-controls__pane post-controls__main-options"},h.default.createElement("li",null,h.default.createElement("a",null)),h.default.createElement("li",null,h.default.createElement("a",null)),h.default.createElement("li",null,h.default.createElement("a",null)),h.default.createElement("li",null,h.default.createElement("a",null)))))}}]),t}(h.default.Component);v.displayName="PostPlaceholder",t.default=(0,g.localize)(v),e.exports=t.default},"./client/my-sites/posts/post-total-views.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.clickHandler,s=e.numberFormat,n=e.post,o=e.slug,a=e.translate,l=e.viewCount,i=n.ID,u=n.site_ID,d="",p=void 0;return l?(d=s(l),p=a("%(count)s Total View","%(count)s Total Views",{count:l,args:{count:l}})):p=a("Total Views"),o?r.default.createElement("a",{href:"/stats/post/"+i+"/"+o,className:(0,c.default)({"post__total-views":!0,"is-empty":!d}),title:p,onClick:t},r.default.createElement(b.default,{siteId:u,postId:i,fields:["views"]}),r.default.createElement(m.default,{icon:"visible",size:24}),r.default.createElement(g.default,{updateOn:d},d)):r.default.createElement(y.default,{siteId:u})}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/prop-types/index.js"),l=n(a),i=s("./node_modules/react/react.js"),r=n(i),u=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/classnames/index.js"),c=n(d),p=s("./node_modules/i18n-calypso/index.js"),f=s("./node_modules/gridicons/build/index.js"),m=n(f),h=s("./client/components/stat-update-indicator/index.jsx"),g=n(h),_=s("./client/components/data/query-post-stats/index.jsx"),b=n(_),v=s("./client/components/data/query-sites/index.jsx"),y=n(v),j=s("./client/state/stats/posts/selectors.js"),x=s("./client/state/sites/selectors.js");o.propTypes={clickHandler:l.default.func,numberFormat:l.default.func,post:l.default.object.isRequired,slug:l.default.string,translate:l.default.func,viewCount:l.default.number},t.default=(0,u.connect)(function(e,t){var s=t.post,n=(0,j.getPostStat)(e,s.site_ID,s.ID,"views");return{slug:(0,x.getSiteSlug)(e,s.site_ID),viewCount:n}})((0,p.localize)(o)),e.exports=t.default},"./client/my-sites/posts/post.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,s){for(var n=0;n<s.length;n++){var o=s[n];if(t[o]!==e[o])return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/helpers/slicedToArray.js"),l=n(a),i=s("./node_modules/babel-runtime/helpers/extends.js"),r=n(i),u=s("./node_modules/babel-runtime/helpers/typeof.js"),d=n(u),c=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),p=n(c),f=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),m=n(f),h=s("./node_modules/babel-runtime/helpers/createClass.js"),g=n(h),_=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),b=n(_),v=s("./node_modules/babel-runtime/helpers/inherits.js"),y=n(v),j=s("./node_modules/prop-types/index.js"),x=n(j),P=s("./node_modules/react/react.js"),E=n(P),C=s("./node_modules/react-transition-group/CSSTransitionGroup.js"),S=n(C),I=s("./node_modules/react-pure-render/shallowEqual.js"),k=n(I),w=s("./node_modules/classnames/index.js"),T=n(w),N=s("./node_modules/react-redux/es/index.js"),R=s("./node_modules/i18n-calypso/index.js"),D=s("./node_modules/lodash/lodash.js"),M=s("./client/config/index.js"),L=n(M),O=s("./client/components/card/index.jsx"),A=n(O),U=s("./client/my-sites/posts/post-controls.jsx"),q=n(U),H=s("./client/components/post-format/index.js"),F=n(H),z=s("./client/my-sites/posts/post-header.jsx"),B=n(z),W=s("./client/my-sites/post/post-image/index.jsx"),V=n(W),G=s("./client/components/post-excerpt/index.jsx"),Q=n(G),K=s("./client/components/update-post-status/index.js"),Z=n(K),Y=s("./client/lib/posts/utils.js"),J=n(Y),$=s("./client/state/analytics/actions.js"),X=s("./client/state/ui/preview/actions.js"),ee=s("./client/state/ui/layout-focus/actions.js"),te=s("./client/state/posts/selectors.js"),se=s("./client/state/sites/selectors.js"),ne=s("./client/state/ui/selectors.js"),oe=s("./client/state/ui/editor/selectors.js"),ae=s("./client/blocks/comments/index.jsx"),le=n(ae),ie=s("./client/blocks/post-share/index.jsx"),re=n(ie),ue=s("./client/blocks/post-actions/index.jsx"),de=n(ue),ce=(0,D.partial)($.recordGoogleEvent,"Posts"),pe=function(e){
function t(){var e,s,n,o;(0,m.default)(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return s=n=(0,b.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(l))),n.state={showComments:!1,showShare:!1,commentsFilter:"all"},n.publishPost=function(){n.props.updatePostStatus("publish"),n.props.recordTracksEvent("calypso_post_type_list_publish",{post_type:"post"}),n.props.recordPublishPost()},n.restorePost=function(){n.props.updatePostStatus("restore"),n.props.recordRestorePost()},n.deletePost=function(){n.props.updatePostStatus("delete"),n.props.recordTracksEvent("calypso_post_type_list_delete",{post_type:"post"}),n.props.recordDeletePost()},n.trashPost=function(){n.props.updatePostStatus("trash"),n.props.recordTracksEvent("calypso_post_type_list_trash",{post_type:"post"}),n.props.recordTrashPost()},n.toggleComments=function(){n.setState({showComments:!n.state.showComments}),n.props.recordCommentIconClick()},n.toggleShare=function(){n.setState({showShare:!n.state.showShare})},n.setCommentsFilter=function(e){n.setState({commentsFilter:e})},n.viewPost=function(e){e.preventDefault();var t=n.props,s=t.isPreviewable,o=t.previewUrl,a=t.selectedSiteId;return n.props.post.status&&"future"===n.props.post.status?n.props.recordPreviewPost():n.props.recordViewPost(),s&&a||"object"!==("undefined"==typeof window?"undefined":(0,d.default)(window))?(n.props.setPreviewUrl(o),void n.props.setLayoutFocus("preview")):window.open(o)},o=s,(0,b.default)(n,o)}return(0,y.default)(t,e),(0,g.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){if(!(0,k.default)(this.state,t))return!0;var s=["post","postImages","fullWidthPost","path","previousStatus","showMoreOptions","updated","updatedStatus"];return o(this.props,e,s)}},{key:"getPostClass",value:function(){return(0,T.default)("post",{"is-protected":!!this.props.post.password,"show-more-options":this.props.showMoreOptions})}},{key:"getTitle",value:function(){if(this.props.post.title)return E.default.createElement("a",{href:this.getContentLinkURL(),className:"post__title-link post__content-link",target:this.getContentLinkTarget(),onClick:this.props.recordPostTitleClick},E.default.createElement(F.default,{format:this.props.post.format}),E.default.createElement("h4",{className:"post__title"},this.props.post.title))}},{key:"getPostImage",value:function(){return this.props.postImages?E.default.createElement(V.default,{postImages:this.props.postImages}):this.props.post.canonical_image?E.default.createElement("div",{className:"post-image is-placeholder"}):null}},{key:"getTrimmedExcerpt",value:function(){var e=this.props.post.excerpt;return e.length<=220?e:e.substring(0,220)+"…"}},{key:"getExcerpt",value:function(){var e=void 0;return this.props.post.excerpt?(e="quote"===this.props.post.format?E.default.createElement(Q.default,{content:this.getTrimmedExcerpt(),className:"post__quote"}):E.default.createElement(Q.default,{content:this.getTrimmedExcerpt()}),E.default.createElement("a",{href:this.getContentLinkURL(),className:"post__excerpt post__content-link",target:this.getContentLinkTarget(),onClick:this.props.recordPostExcerptClick},e)):null}},{key:"getHeader",value:function(){return this.props.selectedSiteId&&this.props.isPostFromSingleUserSite?null:E.default.createElement(B.default,{siteId:this.props.post.site_ID,author:this.props.post.author?this.props.post.author.name:"",path:this.props.path,showAuthor:!this.props.isPostFromSingleUserSite})}},{key:"getContent",value:function(){var e=this.props.post;if(e.title||e.excerpt)return E.default.createElement("div",{className:"post__content"},this.getTitle(),this.getExcerpt())}},{key:"getContentLinkURL",value:function(){var e=this.props.post;return J.default.userCan("edit_post",e)?this.props.editUrl:"trash"===e.status?null:e.URL}},{key:"getContentLinkTarget",value:function(){return J.default.userCan("edit_post",this.props.post)?null:"_blank"}},{key:"render",value:function(){return E.default.createElement(A.default,{tagName:"article",className:this.getPostClass()},E.default.createElement("div",{className:"post__body"},this.getHeader(),this.getPostImage(),this.getContent(),E.default.createElement(de.default,{siteId:this.props.post.site_ID,post:this.props.post,toggleComments:this.toggleComments})),E.default.createElement(q.default,{post:this.props.post,editURL:this.props.editUrl,fullWidth:this.props.fullWidthPost,onShowMore:this.props.showMoreControls,onHideMore:this.props.hideMoreControls,onPublish:this.publishPost,onTrash:this.trashPost,onDelete:this.deletePost,onRestore:this.restorePost,onToggleShare:this.toggleShare,onViewPost:this.viewPost,siteId:this.props.post.site_ID,current:this.state.showShare?"share":null}),E.default.createElement(S.default,{transitionName:"updated-trans",transitionEnterTimeout:300,transitionLeaveTimeout:300},this.props.buildUpdateTemplate()),this.state.showComments&&E.default.createElement(le.default,{showCommentCount:!1,commentCount:this.props.post.discussion.comment_count,post:this.props.post,showFilters:(0,M.isEnabled)("comments/filters-in-posts"),showModerationTools:(0,M.isEnabled)("comments/moderation-tools-in-posts"),commentsFilter:L.default.isEnabled("comments/filters-in-posts")?this.state.commentsFilter:"approved",onFilterChange:this.setCommentsFilter,onCommentsUpdate:D.noop}),this.state.showShare&&L.default.isEnabled("republicize")&&E.default.createElement(re.default,{post:this.props.post,siteId:this.props.post.site_ID}))}}]),t}(P.Component);pe.propTypes={setPreviewUrl:x.default.func.isRequired,setLayoutFocus:x.default.func.isRequired,recordViewPost:x.default.func.isRequired,recordPreviewPost:x.default.func.isRequired,recordCommentIconClick:x.default.func.isRequired,recordPostTitleClick:x.default.func.isRequired,recordPostExcerptClick:x.default.func.isRequired,recordPublishPost:x.default.func.isRequired,recordRestorePost:x.default.func.isRequired,recordDeletePost:x.default.func.isRequired,recordTrashPost:x.default.func.isRequired,buildUpdateTemplate:x.default.func.isRequired,togglePageActions:x.default.func.isRequired,updatePostStatus:x.default.func.isRequired,updated:x.default.bool.isRequired,updatedStatus:x.default.string,previousStatus:x.default.string,showMoreOptions:x.default.bool.isRequired,showPageActions:x.default.bool.isRequired};var fe=[["recordViewPost","Clicked View Post"],["recordPreviewPost","Clicked Preview Post"],["recordCommentIconClick","Clicked Post Comment Icon/Number"],["recordPostTitleClick","Clicked Post Title"],["recordPostExcerptClick","Clicked Post Excerpt"],["recordPublishPost","Clicked Publish Post"],["recordRestorePost","Clicked Restore Post"],["recordDeletePost","Clicked Delete Post"],["recordTrashPost","Clicked Trash Post"]],me=(0,r.default)({setPreviewUrl:X.setPreviewUrl,setLayoutFocus:ee.setLayoutFocus},fe.reduce(function(e,t){var s=(0,l.default)(t,2),n=s[0],o=s[1];return e[n]=(0,D.partial)(ce,o),e},{}),{recordTracksEvent:$.recordTracksEvent});t.default=(0,N.connect)(function(e,t){var s=t.post,n=(0,ne.getSelectedSiteId)(e);return{editUrl:(0,oe.getEditorPath)(e,s.site_ID,s.ID,"post"),isPostFromSingleUserSite:(0,se.isSingleUserSite)(e,s.site_ID),isPreviewable:!1!==(0,se.isSitePreviewable)(e,s.site_ID),selectedSiteId:n,previewUrl:(0,te.getPostPreviewUrl)(e,s.site_ID,s.ID,{__forceUseRawPost:s})}},me)((0,Z.default)((0,R.localize)(pe))),e.exports=t.default},"./client/my-sites/sidebar-navigation/sidebar-navigation.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/react/react.js"),a=n(o),l=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/i18n-calypso/index.js"),r=s("./client/components/sidebar-navigation/index.jsx"),u=n(r),d=s("./client/blocks/site-icon/index.jsx"),c=n(d),p=s("./client/state/ui/selectors.js"),f=function(e){var t=e.site,s=e.translate,n=s("All Sites"),o="all-sites";return t&&(n=t.title,o=null),a.default.createElement(u.default,{linkClassName:o,sectionName:"site",sectionTitle:n},t&&a.default.createElement(c.default,{site:t}))};t.default=(0,l.connect)(function(e){return{site:(0,p.getSelectedSite)(e)}})((0,i.localize)(f)),e.exports=t.default},"./client/my-sites/upgrade-nudge/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s("./node_modules/babel-runtime/helpers/toConsumableArray.js"),a=n(o),l=s("./node_modules/babel-runtime/helpers/typeof.js"),i=n(l),r=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=n(r),d=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=n(d),p=s("./node_modules/babel-runtime/helpers/createClass.js"),f=n(p),m=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=n(m),g=s("./node_modules/babel-runtime/helpers/inherits.js"),_=n(g),b=s("./node_modules/react/react.js"),v=n(b),y=s("./node_modules/prop-types/index.js"),j=n(y),x=s("./node_modules/react-redux/es/index.js"),P=s("./node_modules/classnames/index.js"),E=n(P),C=s("./node_modules/lodash/lodash.js"),S=s("./node_modules/i18n-calypso/index.js"),I=s("./node_modules/gridicons/build/index.js"),k=n(I),w=s("./client/components/button/index.jsx"),T=n(w),N=s("./client/components/card/index.jsx"),R=n(N),D=s("./client/state/sites/plans/selectors.js"),M=s("./client/lib/plans/index.js"),L=s("./client/lib/products-values/index.js"),O=s("./client/lib/analytics/track-component-view/index.jsx"),A=n(O),U=s("./client/state/analytics/actions.js"),q=s("./client/state/ui/selectors.js"),H=function(e){function t(){var e,s,n,o;(0,c.default)(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return s=n=(0,h.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.handleClick=function(){var e=n.props,t=e.event,s=e.feature,o=e.onClick,a=e.recordTracksEvent;(t||s)&&a("calypso_upgrade_nudge_cta_click",{cta_name:t,cta_feature:s,cta_size:"regular"}),o()},o=s,(0,h.default)(n,o)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"shouldDisplay",value:function e(){var t=this.props,s=t.feature,n=t.jetpack,o=t.planHasFeature,e=t.shouldDisplay,a=t.site;return e?e():!(!a||"object"!==("undefined"==typeof a?"undefined":(0,i.default)(a))||"boolean"!=typeof a.jetpack)&&((!s||!o)&&(!(!s&&!(0,L.isFreePlan)(a.plan))&&(("no-adverts"!==s||!a.options.wordads)&&!(!n&&a.jetpack||n&&!a.jetpack))))}},{key:"render",value:function(){var e=this.props,t=e.className,s=e.compact,n=e.event,o=e.feature,a=e.icon,l=e.message,i=e.site,r=e.title,u=e.translate,d=(0,E.default)(t,"upgrade-nudge"),c=this.props.href;return this.shouldDisplay()?(!c&&i&&(c=o?"/plans/"+i.slug+"?feature="+o:"/plans/"+i.slug),s?v.default.createElement(T.default,{className:d,onClick:this.handleClick,href:c},v.default.createElement(k.default,{className:"upgrade-nudge__icon",icon:a}),v.default.createElement("div",{className:"upgrade-nudge__info"},v.default.createElement("span",{className:"upgrade-nudge__title"},r||u("Upgrade to Premium")),v.default.createElement("span",{className:"upgrade-nudge__message"},l))):v.default.createElement(R.default,{compact:!0,className:d,onClick:this.handleClick,href:c},v.default.createElement(k.default,{className:"upgrade-nudge__icon",icon:a,size:18}),v.default.createElement("div",{className:"upgrade-nudge__info"},v.default.createElement("span",{className:"upgrade-nudge__title"},r||u("Upgrade to Premium")),v.default.createElement("span",{className:"upgrade-nudge__message"},l)),(n||o)&&v.default.createElement(A.default,{eventName:"calypso_upgrade_nudge_impression",eventProperties:{cta_name:n,cta_feature:o,cta_size:"regular"}}))):null}}]),t}(v.default.Component);H.propTypes={onClick:j.default.func,className:j.default.string,message:j.default.string,icon:j.default.string,event:j.default.string,href:j.default.string,jetpack:j.default.bool,compact:j.default.bool,feature:j.default.oneOf([!1].concat((0,a.default)((0,M.getValidFeatureKeys)()))),shouldDisplay:j.default.func,site:j.default.object,translate:j.default.func},H.defaultProps={onClick:C.noop,message:"And get your own domain address.",icon:"star",event:null,jetpack:!1,feature:!1,compact:!1,shouldDisplay:null,site:null,translate:C.identity},t.default=(0,x.connect)(function(e,t){var s=(0,q.getSelectedSiteId)(e);return{site:(0,q.getSelectedSite)(e),planHasFeature:(0,D.hasFeature)(e,s,t.feature)}},{recordTracksEvent:U.recordTracksEvent})((0,S.localize)(H)),e.exports=t.default},"./client/post-editor/editor-sharing/publicize-message.jsx":function(e,t,s){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=o(a),i=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=o(i),u=s("./node_modules/babel-runtime/helpers/createClass.js"),d=o(u),c=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=o(c),f=s("./node_modules/babel-runtime/helpers/inherits.js"),m=o(f),h=s("./node_modules/react/react.js"),g=o(h),_=s("./node_modules/i18n-calypso/index.js"),b=s("./node_modules/prop-types/index.js"),v=o(b),y=s("./client/components/forms/counted-textarea/index.jsx"),j=o(y),x=s("./client/components/forms/form-textarea/index.jsx"),P=o(x),E=s("./client/components/info-popover/index.jsx"),C=o(E),S=s("./client/components/track-input-changes/index.jsx"),I=o(S),k=s("./client/lib/posts/actions.js"),w=o(k),T=s("./client/lib/posts/stats.js"),N=n(T),R=function(e){function t(){var e,s,n,o;(0,r.default)(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return s=n=(0,p.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),n.onChange=function(e){n.props.onChange?n.props.onChange(e.target.value):w.default.updateMetadata("_wpas_mess",e.target.value)},n.recordStats=function(){N.recordStat("sharing_message_changed"),N.recordEvent("Publicize Sharing Message Changed")},o=s,(0,p.default)(n,o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"renderInfoPopover",value:function(){return g.default.createElement(C.default,{className:"publicize-message-counter-info",position:"bottom left",gaEventCategory:"Editor",popoverName:"SharingMessage"},this.props.translate("The length includes space for the link to your post and an attached image.",{context:"Post editor sharing message counter explanation"}))}},{key:"renderTextarea",value:function(){var e=this.props.preview||this.props.translate("Write a message for your audience here.");return this.props.requireCount?g.default.createElement(j.default,{disabled:this.props.disabled,value:this.props.message,placeholder:e,countPlaceholderLength:!0,onChange:this.onChange,showRemainingCharacters:!0,acceptableLength:this.props.acceptableLength,className:"editor-sharing__message-input"},this.renderInfoPopover()):g.default.createElement(P.default,{disabled:this.props.disabled,value:this.props.message,placeholder:e,onChange:this.onChange,className:"editor-sharing__message-input"})}},{key:"render",value:function(){return g.default.createElement("div",{className:"editor-sharing__publicize-message"},g.default.createElement("h5",{className:"editor-sharing__message-heading"},this.props.translate("Customize the message",{context:"Post editor sharing message heading"})),g.default.createElement(I.default,{onNewValue:this.recordStats},this.renderTextarea()))}}]),t}(h.Component);R.propTypes={disabled:v.default.bool,message:v.default.string,preview:v.default.string,acceptableLength:v.default.number,requireCount:v.default.bool,onChange:v.default.func},R.defaultProps={disabled:!1,message:"",acceptableLength:140,requireCount:!1},t.default=(0,_.localize)(R),e.exports=t.default},"./client/state/pages/selectors.js":function(e,t,s){"use strict";function n(e,t,s){return s===(0,a.getSiteFrontPage)(e,t)}function o(e,t,s){return s===(0,a.getSitePostsPage)(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.isFrontPage=n,t.isPostsPage=o;var a=s("./client/state/sites/selectors.js")},"./client/state/posts/counts/actions.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,s){return{type:r.POST_COUNTS_RECEIVE,siteId:e,postType:t,counts:s}}function a(e,t){return function(s){return s({type:r.POST_COUNTS_REQUEST,postType:t,siteId:e}),i.default.undocumented().site(e).postCounts({type:t}).then(function(n){s(o(e,t,n.counts)),s({type:r.POST_COUNTS_REQUEST_SUCCESS,siteId:e,postType:t})}).catch(function(n){s({type:r.POST_COUNTS_REQUEST_FAILURE,siteId:e,postType:t,error:n})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.receivePostCounts=o,t.requestPostCounts=a;var l=s("./client/lib/wp/browser.js"),i=n(l),r=s("./client/state/action-types.js")},"./client/state/posts/counts/selectors.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,s){return(0,h.get)(e.posts.counts.requesting,[t,s],!1)}function a(e,t,s){return(0,h.get)(e.posts.counts.counts,[t,s,"all"],null)}function l(e,t,s,n){var o=a(e,t,s);return o?o[n]||0:null}function i(e,t,s){return(0,h.get)(e.posts.counts.counts,[t,s,"mine"],null)}function r(e,t,s,n){var o=i(e,t,s);return o?o[n]||0:null}function u(e,t,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a,o=n(e,t,s);return g.reduce(function(e,t){var s=(0,h.get)(o,t,0),n=void 0;switch(t){case"publish":case"private":n="publish";break;case"draft":case"pending":n="draft";break;default:n=t}return(0,m.default)({},e,(0,p.default)({},n,(e[n]||0)+s))},{})}function d(e,t,s){return u(e,t,s,i)}Object.defineProperty(t,"__esModule",{value:!0});var c=s("./node_modules/babel-runtime/helpers/defineProperty.js"),p=n(c),f=s("./node_modules/babel-runtime/helpers/extends.js"),m=n(f);t.isRequestingPostCounts=o,t.getAllPostCounts=a,t.getAllPostCount=l,t.getMyPostCounts=i,t.getMyPostCount=r,t.getNormalizedPostCounts=u,t.getNormalizedMyPostCounts=d;var h=s("./node_modules/lodash/lodash.js"),g=["publish","draft","pending","private","future","trash"]},"./client/state/sharing/publicize/actions.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return{type:y.PUBLICIZE_SHARE_DISMISS,siteId:e,postId:t}}function a(e,t,s,n){return function(o){return o({type:y.PUBLICIZE_SHARE,siteId:e,postId:t,skippedConnections:s,message:n}),new _.default(function(a){v.default.undocumented().publicizePost(e,t,n,s,function(s,n){o(s||!n.results?{type:y.PUBLICIZE_SHARE_FAILURE,siteId:e,postId:t,error:s}:{type:y.PUBLICIZE_SHARE_SUCCESS,siteId:e,postId:t}),a()})})}}function l(e){return function(t){return t({type:y.PUBLICIZE_CONNECTIONS_REQUEST,siteId:e}),v.default.undocumented().siteConnections(e).then(function(s){t(f(e,s)),t({type:y.PUBLICIZE_CONNECTIONS_REQUEST_SUCCESS,siteId:e})}).catch(function(s){return t({type:y.PUBLICIZE_CONNECTIONS_REQUEST_FAILURE,siteId:e,error:s})})}}function i(e,t){return function(s){return s({type:y.PUBLICIZE_CONNECTION_REQUEST,connectionId:t,siteId:e}),v.default.undocumented().site(e).getConnection(t).then(function(n){s({type:y.PUBLICIZE_CONNECTION_RECEIVE,connection:n,siteId:e}),s({type:y.PUBLICIZE_CONNECTION_REQUEST_SUCCESS,connectionId:t,siteId:e})}).catch(function(n){return s({type:y.PUBLICIZE_CONNECTION_REQUEST_FAILURE,connectionId:t,error:n,siteId:e})})}}function r(e,t,s){return function(n){return v.default.undocumented().createConnection(t,e,s,{shared:!1}).then(function(e){return n({type:y.PUBLICIZE_CONNECTION_CREATE,connection:e})}).catch(function(e){return n(c(e))})}}function u(e,t){return function(s){return v.default.undocumented().updateConnection(e.site_ID,e.ID,t).then(function(e){return s({type:y.PUBLICIZE_CONNECTION_UPDATE,connection:e})}).catch(function(t){return s({type:y.PUBLICIZE_CONNECTION_UPDATE_FAILURE,error:(0,h.default)({},t,{label:e.label})})})}}function d(e){return function(t){return v.default.undocumented().deleteSiteConnection(e.site_ID,e.ID).then(function(){return t(p(e))}).catch(function(s){s&&404===s.statusCode&&t(p(e)),t({type:y.PUBLICIZE_CONNECTION_DELETE_FAILURE,error:(0,h.default)({},s,{label:e.label})})})}}function c(e){return{type:y.PUBLICIZE_CONNECTION_CREATE_FAILURE,error:e}}function p(e){return{type:y.PUBLICIZE_CONNECTION_DELETE,connection:e}}function f(e,t){return{type:y.PUBLICIZE_CONNECTIONS_RECEIVE,siteId:e,data:t}}Object.defineProperty(t,"__esModule",{value:!0});var m=s("./node_modules/babel-runtime/helpers/extends.js"),h=n(m),g=s("./node_modules/babel-runtime/core-js/promise.js"),_=n(g);t.dismissShareConfirmation=o,t.sharePost=a,t.fetchConnections=l,t.fetchConnection=i,t.createSiteConnection=r,t.updateSiteConnection=u,t.deleteSiteConnection=d,t.failCreateConnection=c,t.deleteConnection=p,t.receiveConnections=f;var b=s("./client/lib/wp/browser.js"),v=n(b),y=s("./client/state/action-types.js")},"./client/state/sharing/publicize/publicize-actions/actions.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(s){s({type:f.PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST,siteId:e,postId:t});var n="/sites/"+e+"/posts/"+t+"/publicize/scheduled-actions";return p.default.req.get({path:n,apiNamespace:"wpcom/v2"},function(n,o){if(n||!o.items)return s({type:f.PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_FAILURE,siteId:e,postId:t,error:n});var a={};o.items.forEach(function(e){return a[e.ID]=e}),s({type:f.PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_SUCCESS,siteId:e,postId:t,actions:a})})}}function a(e,t){return function(s){s({type:f.PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST,siteId:e,postId:t});var n="/sites/"+e+"/posts/"+t+"/publicize/published-actions";return p.default.req.get({path:n,apiNamespace:"wpcom/v2",method:"GET"},function(n,o){if(n||!o.items)return s({type:f.PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_FAILURE,siteId:e,postId:t,error:n});var a={};o.items.forEach(function(e){return a[e.ID]=e}),s({type:f.PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_SUCCESS,siteId:e,postId:t,actions:a})})}}function l(e,t,s){return function(n){n({type:f.PUBLICIZE_SHARE_ACTION_DELETE,siteId:e,postId:t,actionId:s});var o="/sites/"+e+"/posts/"+t+"/publicize/scheduled-actions/"+s;return p.default.req.get({path:o,apiNamespace:"wpcom/v2",method:"DELETE"},function(o,a){return o||!a?n({type:f.PUBLICIZE_SHARE_ACTION_DELETE_FAILURE,siteId:e,postId:t,actionId:s,error:o}):void n({type:f.PUBLICIZE_SHARE_ACTION_DELETE_SUCCESS,siteId:e,postId:t,actionId:s})})}}function i(e,t,s,n,o){return function(a){a({type:f.PUBLICIZE_SHARE_ACTION_EDIT,siteId:e,postId:t,actionId:s});var l="/sites/"+e+"/posts/"+t+"/publicize/scheduled-actions/"+s;return p.default.req.put({path:l,body:{message:n,share_date:o},apiNamespace:"wpcom/v2"},function(n,o){return n||!o.item?a({type:f.PUBLICIZE_SHARE_ACTION_EDIT_FAILURE,siteId:e,postId:t,actionId:s,error:n}):(o.item.ID=s,void a({type:f.PUBLICIZE_SHARE_ACTION_EDIT_SUCCESS,siteId:e,postId:t,actionId:s,item:o.item}))})}}function r(e,t,s,n,o){return function(a){return a({type:f.PUBLICIZE_SHARE_ACTION_SCHEDULE,siteId:e,postId:t,connections:o}),d.default.all(o.map(function(o){return p.default.req.post({path:"/sites/"+e+"/posts/"+t+"/publicize/scheduled-actions/",body:{message:s,share_date:n,connection_id:o},apiNamespace:"wpcom/v2"})})).catch(function(s){return a({type:f.PUBLICIZE_SHARE_ACTION_SCHEDULE_FAILURE,siteId:e,postId:t,error:s,connections:o})}).then(function(s){return a({type:f.PUBLICIZE_SHARE_ACTION_SCHEDULE_SUCCESS,siteId:e,postId:t,share_date:n,items:s,connections:o})})}}Object.defineProperty(t,"__esModule",{value:!0});var u=s("./node_modules/babel-runtime/core-js/promise.js"),d=n(u);t.fetchPostShareActionsScheduled=o,t.fetchPostShareActionsPublished=a,t.deletePostShareAction=l,t.editPostShareAction=i,t.schedulePostShareAction=r;var c=s("./client/lib/wp/browser.js"),p=n(c),f=s("./client/state/action-types.js")},"./client/state/stats/posts/actions.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,s){return{type:r.POST_STATS_RECEIVE,siteId:e,postId:t,stats:s}}function a(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(n){return n({type:r.POST_STATS_REQUEST,postId:t,siteId:e,fields:s}),i.default.site(e).statsPostViews(t,{fields:s.join()}).then(function(a){n(o(e,t,a)),n({type:r.POST_STATS_REQUEST_SUCCESS,siteId:e,postId:t,fields:s})}).catch(function(o){n({type:r.POST_STATS_REQUEST_FAILURE,siteId:e,postId:t,fields:s,error:o})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.receivePostStats=o,t.requestPostStats=a;var l=s("./client/lib/wp/browser.js"),i=n(l),r=s("./client/state/action-types.js")},"./client/state/stats/posts/selectors.js":function(e,t,s){"use strict";function n(e,t,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,l.get)(e.stats.posts.requesting,[t,s,n.join()],!1)}function o(e,t,s,n){return(0,l.get)(e.stats.posts.items,[t,s,n],null)}function a(e,t,s){return(0,l.get)(e.stats.posts.items,[t,s],null)}Object.defineProperty(t,"__esModule",{value:!0}),t.isRequestingPostStats=n,t.getPostStat=o,t.getPostStats=a;var l=s("./node_modules/lodash/lodash.js")},"./client/state/ui/post-type-list/actions.js":function(e,t,s){"use strict";function n(e){return{type:i.POST_TYPE_LIST_SHARE_PANEL_HIDE,postGlobalId:e}}function o(e){return{type:i.POST_TYPE_LIST_SHARE_PANEL_TOGGLE,postGlobalId:e}}function a(){return{type:i.POST_TYPE_LIST_MULTI_SELECTION_MODE_TOGGLE}}function l(e){return{type:i.POST_TYPE_LIST_SELECTION_TOGGLE,postGlobalId:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.hideSharePanel=n,t.toggleSharePanel=o,t.toggleMultiSelect=a,t.togglePostSelection=l;var i=s("./client/state/action-types.js")},"./client/state/ui/post-type-list/selectors.js":function(e,t,s){"use strict";function n(e,t){return e.ui.postTypeList.activeSharePanels.indexOf(t)>-1}function o(e,t){return e.ui.postTypeList.selectedPosts.indexOf(t)>-1}function a(e){return e.ui.postTypeList.selectedPosts.length}function l(e){return e.ui.postTypeList.isMultiSelectEnabled}Object.defineProperty(t,"__esModule",{value:!0}),t.isSharePanelOpen=n,t.isPostSelected=o,t.getSelectedPostsCount=a,t.isMultiSelectEnabled=l},"./node_modules/chain-function/index.js":function(e,t){e.exports=function(){for(var e=arguments.length,t=[],s=0;s<e;s++)t[s]=arguments[s];if(t=t.filter(function(e){return null!=e}),0!==t.length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},"./node_modules/escape-regexp-component/index.js":function(e,t){e.exports=function(e){return String(e).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")}},"./node_modules/escape-regexp/index.js":function(e,t){e.exports=function(e){return String(e).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")}},"./node_modules/react-transition-group/CSSTransitionGroup.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},r=s("./node_modules/react/react.js"),u=n(r),d=s("./node_modules/prop-types/index.js"),c=n(d),p=s("./node_modules/react-transition-group/TransitionGroup.js"),f=n(p),m=s("./node_modules/react-transition-group/CSSTransitionGroupChild.js"),h=n(m),g=s("./node_modules/react-transition-group/utils/PropTypes.js"),_=({transitionName:g.nameShape.isRequired,transitionAppear:c.default.bool,transitionEnter:c.default.bool,transitionLeave:c.default.bool,transitionAppearTimeout:(0,g.transitionTimeout)("Appear"),transitionEnterTimeout:(0,g.transitionTimeout)("Enter"),transitionLeaveTimeout:(0,g.transitionTimeout)("Leave")},{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}),b=function(e){function t(){var s,n,l;o(this,t);for(var i=arguments.length,r=Array(i),d=0;d<i;d++)r[d]=arguments[d];return s=n=a(this,e.call.apply(e,[this].concat(r))),n._wrapChild=function(e){return u.default.createElement(h.default,{name:n.props.transitionName,appear:n.props.transitionAppear,enter:n.props.transitionEnter,leave:n.props.transitionLeave,appearTimeout:n.props.transitionAppearTimeout,enterTimeout:n.props.transitionEnterTimeout,leaveTimeout:n.props.transitionLeaveTimeout},e)},l=s,a(n,l)}return l(t,e),t.prototype.render=function(){return u.default.createElement(f.default,i({},this.props,{childFactory:this._wrapChild}))},t}(u.default.Component);b.displayName="CSSTransitionGroup",b.propTypes={},b.defaultProps=_,t.default=b,e.exports=t.default},"./node_modules/react-transition-group/CSSTransitionGroupChild.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return x.length?x.forEach(function(s){return e.addEventListener(s,t,!1)}):setTimeout(t,0),function(){x.length&&x.forEach(function(s){return e.removeEventListener(s,t,!1)})}}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},u=s("./node_modules/react-transition-group/node_modules/dom-helpers/class/addClass.js"),d=n(u),c=s("./node_modules/react-transition-group/node_modules/dom-helpers/class/removeClass.js"),p=n(c),f=s("./node_modules/react-transition-group/node_modules/dom-helpers/util/requestAnimationFrame.js"),m=n(f),h=s("./node_modules/react-transition-group/node_modules/dom-helpers/transition/properties.js"),g=s("./node_modules/react/react.js"),_=n(g),b=s("./node_modules/prop-types/index.js"),v=n(b),y=s("./node_modules/react-dom/index.js"),j=s("./node_modules/react-transition-group/utils/PropTypes.js"),x=[];h.transitionEnd&&x.push(h.transitionEnd),h.animationEnd&&x.push(h.animationEnd);var P=({children:v.default.node,name:j.nameShape.isRequired,appear:v.default.bool,enter:v.default.bool,leave:v.default.bool,appearTimeout:v.default.number,enterTimeout:v.default.number,leaveTimeout:v.default.number},function(e){function t(){var s,n,l;o(this,t);for(var i=arguments.length,r=Array(i),u=0;u<i;u++)r[u]=arguments[u];return s=n=a(this,e.call.apply(e,[this].concat(r))),n.componentWillAppear=function(e){n.props.appear?n.transition("appear",e,n.props.appearTimeout):e()},n.componentWillEnter=function(e){n.props.enter?n.transition("enter",e,n.props.enterTimeout):e()},n.componentWillLeave=function(e){n.props.leave?n.transition("leave",e,n.props.leaveTimeout):e()},l=s,a(n,l)}return l(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,s){
var n=(0,y.findDOMNode)(this);if(!n)return void(t&&t());var o=this.props.name[e]||this.props.name+"-"+e,a=this.props.name[e+"Active"]||o+"-active",l=null,r=void 0;(0,d.default)(n,o),this.queueClassAndNode(a,n);var u=function(e){e&&e.target!==n||(clearTimeout(l),r&&r(),(0,p.default)(n,o),(0,p.default)(n,a),r&&r(),t&&t())};s?(l=setTimeout(u,s),this.transitionTimeouts.push(l)):h.transitionEnd&&(r=i(n,u))},t.prototype.queueClassAndNode=function(e,t){var s=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,m.default)(function(){return s.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,d.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,_.default.cloneElement(_.default.Children.only(this.props.children),e)},t}(_.default.Component));P.displayName="CSSTransitionGroupChild",P.propTypes={},t.default=P,e.exports=t.default},"./node_modules/react-transition-group/TransitionGroup.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},r=s("./node_modules/chain-function/index.js"),u=n(r),d=s("./node_modules/react/react.js"),c=n(d),p=s("./node_modules/prop-types/index.js"),f=n(p),m=s("./node_modules/warning/browser.js"),h=(n(m),s("./node_modules/react-transition-group/utils/ChildMapping.js")),g=({component:f.default.any,childFactory:f.default.func,children:f.default.node},{component:"span",childFactory:function(e){return e}}),_=function(e){function t(s,n){o(this,t);var l=a(this,e.call(this,s,n));return l.performAppear=function(e,t){l.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(l._handleDoneAppearing.bind(l,e,t)):l._handleDoneAppearing(e,t)},l._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete l.currentlyTransitioningKeys[e];var s=(0,h.getChildMapping)(l.props.children);s&&s.hasOwnProperty(e)||l.performLeave(e,t)},l.performEnter=function(e,t){l.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(l._handleDoneEntering.bind(l,e,t)):l._handleDoneEntering(e,t)},l._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete l.currentlyTransitioningKeys[e];var s=(0,h.getChildMapping)(l.props.children);s&&s.hasOwnProperty(e)||l.performLeave(e,t)},l.performLeave=function(e,t){l.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(l._handleDoneLeaving.bind(l,e,t)):l._handleDoneLeaving(e,t)},l._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete l.currentlyTransitioningKeys[e];var s=(0,h.getChildMapping)(l.props.children);s&&s.hasOwnProperty(e)?l.keysToEnter.push(e):l.setState(function(t){var s=i({},t.children);return delete s[e],{children:s}})},l.childRefs=Object.create(null),l.state={children:(0,h.getChildMapping)(s.children)},l}return l(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,h.getChildMapping)(e.children),s=this.state.children;this.setState({children:(0,h.mergeChildMappings)(s,t)});for(var n in t){var o=s&&s.hasOwnProperty(n);!t[n]||o||this.currentlyTransitioningKeys[n]||this.keysToEnter.push(n)}for(var a in s){var l=t&&t.hasOwnProperty(a);!s[a]||l||this.currentlyTransitioningKeys[a]||this.keysToLeave.push(a)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var s=this.keysToLeave;this.keysToLeave=[],s.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],s=function(s){var n=e.state.children[s];if(n){var o="string"!=typeof n.ref,a=e.props.childFactory(n),l=function(t){e.childRefs[s]=t};a===n&&o&&(l=(0,u.default)(n.ref,l)),t.push(c.default.cloneElement(a,{key:s,ref:l}))}};for(var n in this.state.children)s(n);var o=i({},this.props);return delete o.transitionLeave,delete o.transitionName,delete o.transitionAppear,delete o.transitionEnter,delete o.childFactory,delete o.transitionLeaveTimeout,delete o.transitionEnterTimeout,delete o.transitionAppearTimeout,delete o.component,c.default.createElement(this.props.component,o,t)},t}(c.default.Component);_.displayName="TransitionGroup",_.propTypes={},_.defaultProps=g,t.default=_,e.exports=t.default},"./node_modules/react-transition-group/node_modules/dom-helpers/class/addClass.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.classList?e.classList.add(t):(0,l.default)(e)||(e.className=e.className+" "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=s("./node_modules/react-transition-group/node_modules/dom-helpers/class/hasClass.js"),l=n(a);e.exports=t.default},"./node_modules/react-transition-group/node_modules/dom-helpers/class/hasClass.js":function(e,t,s){"use strict";function n(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")!==-1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},"./node_modules/react-transition-group/node_modules/dom-helpers/class/removeClass.js":function(e,t,s){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},"./node_modules/react-transition-group/node_modules/dom-helpers/transition/properties.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},s=Object.keys(t),n=void 0,o=void 0,a="",l=0;l<s.length;l++){var i=s[l];if(i+"TransitionProperty"in e){a="-"+i.toLowerCase(),n=t[i]("TransitionEnd"),o=t[i]("AnimationEnd");break}}return!n&&"transitionProperty"in e&&(n="transitionend"),!o&&"animationName"in e&&(o="animationend"),e=null,{animationEnd:o,transitionEnd:n,prefix:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var a=s("./node_modules/react-transition-group/node_modules/dom-helpers/util/inDOM.js"),l=n(a),i="transform",r=void 0,u=void 0,d=void 0,c=void 0,p=void 0,f=void 0,m=void 0,h=void 0,g=void 0,_=void 0,b=void 0;if(l.default){var v=o();r=v.prefix,t.transitionEnd=u=v.transitionEnd,t.animationEnd=d=v.animationEnd,t.transform=i=r+"-"+i,t.transitionProperty=c=r+"-transition-property",t.transitionDuration=p=r+"-transition-duration",t.transitionDelay=m=r+"-transition-delay",t.transitionTiming=f=r+"-transition-timing-function",t.animationName=h=r+"-animation-name",t.animationDuration=g=r+"-animation-duration",t.animationTiming=_=r+"-animation-delay",t.animationDelay=b=r+"-animation-timing-function"}t.transform=i,t.transitionProperty=c,t.transitionTiming=f,t.transitionDelay=m,t.transitionDuration=p,t.transitionEnd=u,t.animationName=h,t.animationDuration=g,t.animationTiming=_,t.animationDelay=b,t.animationEnd=d,t.default={transform:i,end:u,property:c,timing:f,delay:m,duration:p}},"./node_modules/react-transition-group/node_modules/dom-helpers/util/inDOM.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},"./node_modules/react-transition-group/node_modules/dom-helpers/util/requestAnimationFrame.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(new Date).getTime(),s=Math.max(0,16-(t-p)),n=setTimeout(e,s);return p=t,n}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/react-transition-group/node_modules/dom-helpers/util/inDOM.js"),l=n(a),i=["","webkit","moz","o","ms"],r="clearTimeout",u=o,d=void 0,c=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};l.default&&i.some(function(e){var t=c(e,"request");if(t in window)return r=c(e,"cancel"),u=function(e){return window[t](e)}});var p=(new Date).getTime();d=function(e){return u(e)},d.cancel=function(e){window[r]&&"function"==typeof window[r]&&window[r](e)},t.default=d,e.exports=t.default},"./node_modules/react-transition-group/utils/ChildMapping.js":function(e,t,s){"use strict";function n(e){if(!e)return e;var t={};return a.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function o(e,t){function s(s){return t.hasOwnProperty(s)?t[s]:e[s]}e=e||{},t=t||{};var n={},o=[];for(var a in e)t.hasOwnProperty(a)?o.length&&(n[a]=o,o=[]):o.push(a);var l=void 0,i={};for(var r in t){if(n.hasOwnProperty(r))for(l=0;l<n[r].length;l++){var u=n[r][l];i[n[r][l]]=s(u)}i[r]=s(r)}for(l=0;l<o.length;l++)i[o[l]]=s(o[l]);return i}t.__esModule=!0,t.getChildMapping=n,t.mergeChildMappings=o;var a=s("./node_modules/react/react.js")},"./node_modules/react-transition-group/utils/PropTypes.js":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t="transition"+e+"Timeout",s="transition"+e;return function(e){if(e[s]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=o;var a=s("./node_modules/react/react.js"),l=(n(a),s("./node_modules/prop-types/index.js")),i=n(l);t.nameShape=i.default.oneOfType([i.default.string,i.default.shape({enter:i.default.string,leave:i.default.string,active:i.default.string}),i.default.shape({enter:i.default.string,enterActive:i.default.string,leave:i.default.string,leaveActive:i.default.string,appear:i.default.string,appearActive:i.default.string})])},"./node_modules/title-case-minors/index.js":function(e,t){e.exports=["a","an","and","as","at","but","by","en","for","from","how","if","in","neither","nor","of","on","only","onto","out","or","per","so","than","that","the","to","until","up","upon","v","v.","versus","vs","vs.","via","when","with","without","yet"]},"./node_modules/to-capital-case/index.js":function(e,t,s){function n(e){return o(e).replace(/(^|\s)(\w)/g,function(e,t,s){return t+s.toUpperCase()})}var o=s("./node_modules/to-capital-case/node_modules/to-no-case/index.js");e.exports=n},"./node_modules/to-capital-case/node_modules/to-no-case/index.js":function(e,t){function s(e){return a.test(e)?e.toLowerCase():(i.test(e)&&(e=n(e)),l.test(e)&&(e=o(e)),e.toLowerCase())}function n(e){return e.replace(r,function(e,t){return t?" "+t:""})}function o(e){return e.replace(u,function(e,t,s){return t+" "+s.toLowerCase().split("").join(" ")})}e.exports=s;var a=/\s/,l=/[a-z][A-Z]/,i=/[\W_]/,r=/[\W_]+(.|$)/g,u=/(.)([A-Z]+)/g},"./node_modules/to-title-case/index.js":function(e,t,s){function n(e){return a(e).replace(r,function(e){return e.toLowerCase()}).replace(u,function(e){return e.toUpperCase()})}try{var o=s("./node_modules/escape-regexp/index.js")}catch(e){var o=s("./node_modules/escape-regexp-component/index.js")}var a=s("./node_modules/to-capital-case/index.js"),l=s("./node_modules/title-case-minors/index.js");e.exports=n;var i=l.map(o),r=new RegExp("[^^]\\b("+i.join("|")+")\\b","ig"),u=/:\s*(\w)/g},"./node_modules/warning/browser.js":function(e,t,s){"use strict";var n=function(){};e.exports=n}});